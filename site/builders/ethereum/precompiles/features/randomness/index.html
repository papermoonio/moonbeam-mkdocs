<!doctype html><html lang="en" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Learn about the sources of VRF randomness on Moonbeam and how to use the randomness precompile and consumer interface to generate on-chain randomness."><link rel="canonical" href="https://docs.moonbeam.network/builders/ethereum/precompiles/features/randomness/"><link rel="prev" href="../governance/referenda/"><link rel="next" href="../staking/"><link rel="alternate" href="../../../../../zh/builders/ethereum/precompiles/features/randomness/" hreflang="zh"><link rel="alternate" href="./" hreflang="en"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><meta name="keywords" content="solidity, ethereum, randomness, VRF, moonbeam, precompiled, contracts"><title>Randomness Precompile | Moonbeam Docs</title><link rel="stylesheet" href="../../../../../assets/stylesheets/main.484c7ddc.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"en": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#interacting-with-the-randomness-precompile" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Title"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../">Builders</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="Get Started" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Get Started</span> <p class="dropdown-desc">Everything you need to get started building</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="Ethereum Toolkit" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Ethereum Toolkit</span> <p class="dropdown-desc">Ethereum libraries, tools, and contracts</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../substrate/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate Toolkit" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate Toolkit</span> <p class="dropdown-desc">Substrate libraries, tools, and low-level interfaces</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../interoperability/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="Interoperability" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Interoperability</span> <p class="dropdown-desc">GMP protocols for cross-chain development</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="Integrate" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Integrate</span> <p class="dropdown-desc">Tools and protocols to integrate with</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../node-operators/">Node Operators</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="Networks" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Networks</span> <p class="dropdown-desc">Run full, tracing, or collator nodes</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../tokens/">Tokens</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="Connect to Moonbeam" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Connect to Moonbeam</span> <p class="dropdown-desc">Connect your wallet to Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="Account Management" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Account Management</span> <p class="dropdown-desc">Advanced account and identity services</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="Staking" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Staking</span> <p class="dropdown-desc">Stake tokens by delegating to collators</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="Governance" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Governance</span> <p class="dropdown-desc">Submit and vote on on-chain proposals</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../learn/">Learn</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="Core Concepts" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Core Concepts</span> <p class="dropdown-desc">Learn about the fundamentals of Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="Features" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Features</span> <p class="dropdown-desc">Explore core features</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp Directory" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp Directory</span> <p class="dropdown-desc">Explore the DApp Directory and listing process</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../tutorials/">Tutorials</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="Ethereum API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Ethereum API</span> <p class="dropdown-desc">Beginner to pro smart contract tutorials</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="Integrations" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Integrations</span> <p class="dropdown-desc">Dive deeper with tutorials on seamless integrations</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="Select language"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">EN</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="../../../../../zh/builders/ethereum/precompiles/features/randomness/" hreflang="zh" role="menuitem" aria-label="Chinese" class> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="./" hreflang="en" role="menuitem" aria-label="English" class="is-active"> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> Connect wallet </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> Faucet </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="Search"> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Nav" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../../.." title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../.." class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../">Builders</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../get-started/">Get Started</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../get-started/quick-start/" class="md-nav__link"> Quick Start </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../get-started/networks/">Networks</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbeam-dev/" class="md-nav__link"> Local Moonbeam Dev Node </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../get-started/endpoints/" class="md-nav__link"> Network RPC Endpoints </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/explorers/" class="md-nav__link"> Block Explorers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../">Ethereum Toolkit</a> <label for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../canonical-contracts/" class="md-nav__link"> Canonical Contracts </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">Precompiled Contracts</a> <label for="__nav_2_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../account/">Account Management</a> <label for="__nav_2_3_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../account/identity/" class="md-nav__link"> Identity </a> </li> <li class="md-nav__item"> <a href="../../account/proxy/" class="md-nav__link"> Proxy </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../ux/">User Experience</a> <label for="__nav_2_3_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ux/batch/" class="md-nav__link"> Batch </a> </li> <li class="md-nav__item"> <a href="../../ux/call-permit/" class="md-nav__link"> Call Permit </a> </li> <li class="md-nav__item"> <a href="../../ux/erc20/" class="md-nav__link"> Native Token ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_5" checked> <div class="md-nav__link md-nav__link--index "> <a href="../">Network Features</a> <label for="__nav_2_3_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_5_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_3_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../governance/">Governance</a> <label for="__nav_2_3_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_3_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> Randomness <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> Randomness </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> Introduction </span> </a> </li> <li class="md-nav__item"> <a href="#the-randomness-interface" class="md-nav__link"> <span class="md-ellipsis"> The Randomness Solidity Interface </span> </a> <nav class="md-nav" aria-label="The Randomness Solidity Interface"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#functions" class="md-nav__link"> <span class="md-ellipsis"> Functions </span> </a> </li> <li class="md-nav__item"> <a href="#constants" class="md-nav__link"> <span class="md-ellipsis"> Constants </span> </a> </li> <li class="md-nav__item"> <a href="#events" class="md-nav__link"> <span class="md-ellipsis"> Events </span> </a> </li> <li class="md-nav__item"> <a href="#enums" class="md-nav__link"> <span class="md-ellipsis"> Enums </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#randomness-consumer-solidity-interface" class="md-nav__link"> <span class="md-ellipsis"> The Randomness Consumer Solidity Interface </span> </a> </li> <li class="md-nav__item"> <a href="#request-and-fulfill-process" class="md-nav__link"> <span class="md-ellipsis"> Request &amp; Fulfill Process </span> </a> </li> <li class="md-nav__item"> <a href="#interact-with-the-solidity-interfaces" class="md-nav__link"> <span class="md-ellipsis"> Generate a Random Number using the Randomness Precompile </span> </a> <nav class="md-nav" aria-label="Generate a Random Number using the Randomness Precompile"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#checking-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> Checking Prerequisites </span> </a> </li> <li class="md-nav__item"> <a href="#create-random-generator-contract" class="md-nav__link"> <span class="md-ellipsis"> Create a Random Number Generator Contract </span> </a> </li> <li class="md-nav__item"> <a href="#remix-set-up" class="md-nav__link"> <span class="md-ellipsis"> Remix Set Up </span> </a> </li> <li class="md-nav__item"> <a href="#compile-deploy-random-number" class="md-nav__link"> <span class="md-ellipsis"> Compile &amp; Deploy the Random Number Generator Contract </span> </a> </li> <li class="md-nav__item"> <a href="#request-randomness" class="md-nav__link"> <span class="md-ellipsis"> Submit a Request to Generate a Random Number </span> </a> </li> <li class="md-nav__item"> <a href="#fulfill-request-save-number" class="md-nav__link"> <span class="md-ellipsis"> Fulfill the Request and Save the Random Number </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#interact-directly" class="md-nav__link"> <span class="md-ellipsis"> Use Remix to Interact Directly with the Randomness Precompile </span> </a> <nav class="md-nav" aria-label="Use Remix to Interact Directly with the Randomness Precompile"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#remix-set-up" class="md-nav__link"> <span class="md-ellipsis"> Remix Set Up </span> </a> </li> <li class="md-nav__item"> <a href="#compile-randomness" class="md-nav__link"> <span class="md-ellipsis"> Compile &amp; Access the Randomness Precompile </span> </a> </li> <li class="md-nav__item"> <a href="#get-request-status-and-purge" class="md-nav__link"> <span class="md-ellipsis"> Get Request Status &amp; Purge Expired Request </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../staking/" class="md-nav__link"> Staking Functions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/">Interoperability</a> <label for="__nav_2_3_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X-Tokens </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM Interface </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM Transactor </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM Utilities </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../utility/">Utility</a> <label for="__nav_2_3_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../utility/eth-mainnet/" class="md-nav__link"> Ethereum Native </a> </li> <li class="md-nav__item"> <a href="../../utility/registry/" class="md-nav__link"> Precompile Registry </a> </li> <li class="md-nav__item"> <a href="../../utility/relay-data-verifier/" class="md-nav__link"> Relay Data Verifier </a> </li> <li class="md-nav__item"> <a href="../../utility/non-specific/" class="md-nav__link"> Non-Network Specific </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../libraries/">Libraries</a> <label for="__nav_2_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../../libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../../libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../dev-env/">Dev Environments</a> <label for="__nav_2_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../../dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../../dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../../dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../verify-contracts/">Verify Contracts</a> <label for="__nav_2_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../verify-contracts/block-explorers/" class="md-nav__link"> Block Explorers </a> </li> <li class="md-nav__item"> <a href="../../../verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan Plugins </a> </li> <li class="md-nav__item"> <a href="../../../verify-contracts/api-verification/" class="md-nav__link"> API-based Verification </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../json-rpc/">JSON-RPC APIs</a> <label for="__nav_2_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../json-rpc/eth-rpc/" class="md-nav__link"> Standard Ethereum </a> </li> <li class="md-nav__item"> <a href="../../../json-rpc/debug-trace/" class="md-nav__link"> Non-standard Ethereum: Tracing </a> </li> <li class="md-nav__item"> <a href="../../../json-rpc/pubsub/" class="md-nav__link"> Non-standard Ethereum: Pubsub </a> </li> <li class="md-nav__item"> <a href="../../../json-rpc/moonbeam-custom-api/" class="md-nav__link"> Custom Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/">Substrate Toolkit</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/libraries/">Libraries</a> <label for="__nav_2_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../substrate/libraries/polkadot-js-api/" class="md-nav__link"> Polkadot.js API </a> </li> <li class="md-nav__item"> <a href="../../../../substrate/libraries/py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../../../../substrate/libraries/sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/dev-env/">Dev Environments</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../substrate/dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/">Interoperability</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/">XCM Interoperability</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/core-concepts/">Core Concepts</a> <label for="__nav_2_5_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_5_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/core-concepts/instructions/" class="md-nav__link"> XCM Instructions </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/core-concepts/multilocations/" class="md-nav__link"> Multilocations </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/core-concepts/weights-fees/" class="md-nav__link"> Weights and Fees </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/core-concepts/sovereign-accounts/" class="md-nav__link"> Sovereign Accounts </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/xc-registration/">XC Registration</a> <label for="__nav_2_5_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_5_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc-registration/forum-templates/" class="md-nav__link"> Forum Templates </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc-registration/xc-integration/" class="md-nav__link"> XC Channel Registration </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc-registration/assets/" class="md-nav__link"> XC Asset Registration via Governance </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc-registration/self-serve-asset-registration/" class="md-nav__link"> Self-Serve Asset Registration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/xc20/">XC-20s</a> <label for="__nav_2_5_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_5_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/interact/" class="md-nav__link"> Interact with XC-20s </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_5_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/xc20/send-xc20s/">Send XC-20s</a> <label for="__nav_2_5_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_5_2_5_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/send-xc20s/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/send-xc20s/xcm-pallet/" class="md-nav__link"> Using the Substrate API: Polkadot XCM Pallet </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> Using the Ethereum API: X-Tokens Precompile </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> Using the Ethereum API: XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/remote-execution/">Remote Execution</a> <label for="__nav_2_5_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_5_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/remote-execution/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/remote-execution/computed-origins/" class="md-nav__link"> Computed Origin Accounts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2_6_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/xcm/remote-execution/substrate-calls/">Remote Substrate Calls</a> <label for="__nav_2_5_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_5_2_6_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" class="md-nav__link"> Using the Substrate API </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> Using the Ethereum API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/remote-execution/remote-evm-calls/" class="md-nav__link"> Remote EVM Calls </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/send-execute-xcm/" class="md-nav__link"> Send, Execute, & Test XCMs </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM Utilities </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../interoperability/protocols/">Cross-Chain Protocols</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../interoperability/protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../../../interoperability/protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../interoperability/mrl/" class="md-nav__link"> Moonbeam Routed Liquidity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/">Integrate</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/indexers/">Indexers</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/oracles/">Oracles</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/">Node Operators</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/">Networks</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/run-a-node/">Run a Node</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> Using Docker </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> Using Systemd </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> Flags </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/tracing-node/" class="md-nav__link"> Run a Tracing Node </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/collators/">Collators</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/overview/" class="md-nav__link"> Overview </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/faq/" class="md-nav__link"> FAQ </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/requirements/" class="md-nav__link"> Requirements </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/account-management/" class="md-nav__link"> Account Management </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> Author Mapping Precompile </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/activities/" class="md-nav__link"> Collator Activities </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> Orbiter Program </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/">Tokens</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/connect/">Connect to Moonbeam</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js Apps </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/on-ramps/" class="md-nav__link"> On Ramps </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/manage/">Account Management</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/manage/proxy-accounts/" class="md-nav__link"> Proxy Accounts </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/manage/identity/" class="md-nav__link"> Managing an Identity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/staking/">Staking</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/staking/stake/" class="md-nav__link"> How to Stake </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/governance/">Governance</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/governance/proposals/" class="md-nav__link"> Submit a Democracy Proposal </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/governance/voting/" class="md-nav__link"> Vote on a Proposal </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/governance/treasury-spend/" class="md-nav__link"> Submit a Treasury Proposal </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/">Learn</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/core-concepts/">Core Concepts</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/balances/" class="md-nav__link"> Account Balances </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/transfers-api/" class="md-nav__link"> Balance Transfers </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> Consensus & Finality </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/tx-fees/" class="md-nav__link"> Transaction Fees </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> Unified Accounts </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/security/" class="md-nav__link"> Security Considerations </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/glossary/" class="md-nav__link"> Glossary </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/features/">Features</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../learn/features/eth-compatibility/" class="md-nav__link"> Ethereum Compatibility </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/governance/" class="md-nav__link"> Governance </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/randomness/" class="md-nav__link"> Randomness </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/staking/" class="md-nav__link"> Staking </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/treasury/" class="md-nav__link"> Treasury </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../learn/dapp-directory/" class="md-nav__link"> DApp Directory </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/">Tutorials</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/eth-api/">Ethereum API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] Using Tenderly to Debug and Simulate Transactions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/integrations/">Integrations</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tutorials/integrations/0xgasless/" class="md-nav__link"> Enable Gasless Transactions </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> Introduction </span> </a> </li> <li class="md-nav__item"> <a href="#the-randomness-interface" class="md-nav__link"> <span class="md-ellipsis"> The Randomness Solidity Interface </span> </a> <nav class="md-nav" aria-label="The Randomness Solidity Interface"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#functions" class="md-nav__link"> <span class="md-ellipsis"> Functions </span> </a> </li> <li class="md-nav__item"> <a href="#constants" class="md-nav__link"> <span class="md-ellipsis"> Constants </span> </a> </li> <li class="md-nav__item"> <a href="#events" class="md-nav__link"> <span class="md-ellipsis"> Events </span> </a> </li> <li class="md-nav__item"> <a href="#enums" class="md-nav__link"> <span class="md-ellipsis"> Enums </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#randomness-consumer-solidity-interface" class="md-nav__link"> <span class="md-ellipsis"> The Randomness Consumer Solidity Interface </span> </a> </li> <li class="md-nav__item"> <a href="#request-and-fulfill-process" class="md-nav__link"> <span class="md-ellipsis"> Request &amp; Fulfill Process </span> </a> </li> <li class="md-nav__item"> <a href="#interact-with-the-solidity-interfaces" class="md-nav__link"> <span class="md-ellipsis"> Generate a Random Number using the Randomness Precompile </span> </a> <nav class="md-nav" aria-label="Generate a Random Number using the Randomness Precompile"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#checking-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> Checking Prerequisites </span> </a> </li> <li class="md-nav__item"> <a href="#create-random-generator-contract" class="md-nav__link"> <span class="md-ellipsis"> Create a Random Number Generator Contract </span> </a> </li> <li class="md-nav__item"> <a href="#remix-set-up" class="md-nav__link"> <span class="md-ellipsis"> Remix Set Up </span> </a> </li> <li class="md-nav__item"> <a href="#compile-deploy-random-number" class="md-nav__link"> <span class="md-ellipsis"> Compile &amp; Deploy the Random Number Generator Contract </span> </a> </li> <li class="md-nav__item"> <a href="#request-randomness" class="md-nav__link"> <span class="md-ellipsis"> Submit a Request to Generate a Random Number </span> </a> </li> <li class="md-nav__item"> <a href="#fulfill-request-save-number" class="md-nav__link"> <span class="md-ellipsis"> Fulfill the Request and Save the Random Number </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#interact-directly" class="md-nav__link"> <span class="md-ellipsis"> Use Remix to Interact Directly with the Randomness Precompile </span> </a> <nav class="md-nav" aria-label="Use Remix to Interact Directly with the Randomness Precompile"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#remix-set-up" class="md-nav__link"> <span class="md-ellipsis"> Remix Set Up </span> </a> </li> <li class="md-nav__item"> <a href="#compile-randomness" class="md-nav__link"> <span class="md-ellipsis"> Compile &amp; Access the Randomness Precompile </span> </a> </li> <li class="md-nav__item"> <a href="#get-request-status-and-purge" class="md-nav__link"> <span class="md-ellipsis"> Get Request Status &amp; Purge Expired Request </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> Was this page helpful? </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> Thanks for your feedback! </div> <div data-md-value="0" hidden> Thanks for your feedback! Help us improve this page by submitting <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+Randomness%20Precompile+-+/builders/ethereum/precompiles/features/randomness/" target="_blank" rel="noopener">additional feedback</a>. </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/builders/ethereum/precompiles/features/randomness.md" title="Edit" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> Edit </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="interacting-with-the-randomness-precompile">Interacting with the Randomness Precompile<a class="headerlink" href="#interacting-with-the-randomness-precompile" title="Permanent link">&para;</a></h1> <h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p>Moonbeam utilizes verifiable random functions (VRF) to generate randomness that can be verified on-chain. A VRF is a cryptographic function that takes some input and produces random values, along with a proof of authenticity that these random values were generated by the submitter. The proof can be verified by anyone to ensure the random values generated were calculated correctly.</p> <p>There are two available sources of randomness that provide random inputs based on block producers' VRF keys and past randomness results: <a href="/learn/features/randomness/#local-vrf">local VRF</a> and <a href="/learn/features/randomness/#babe-epoch-randomness">BABE epoch randomness</a>. Local VRF is determined directly within Moonbeam using the collator of the block's VRF key and the last block's VRF output. On the other hand, <a href="https://docs.polkadot.com/polkadot-protocol/architecture/polkadot-chain/pos-consensus/#block-production-babe" target="_blank">BABE</a> epoch randomness is based on all the VRF produced by the relay chain validators during a complete <a href="https://wiki.polkadot.com/general/glossary/#epoch" target="_blank">epoch</a>.</p> <p>For more information on the two sources of randomness, how the request and fulfillment process works, and security considerations, please refer to the <a href="/learn/features/randomness/" target="_blank">Randomness on Moonbeam</a> page.</p> <p>Moonbeam provides a randomness precompile, which is a Solidity interface that enables smart contract developers to generate randomness via local VRF or BABE epoch randomness using the Ethereum API. Moonbeam also provides a randomness consumer Solidity contract that your contract must inherit from in order to consume fulfilled randomness requests.</p> <p>This guide will show you how to use the randomness precompile and randomness consumer contract to create a lottery where the winners will randomly be selected. You'll also learn how to interact with the randomness precompile directly to perform actions such as purging an expired randomness request.</p> <p>The randomness precompile is located at the following address:</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Moonbeam</label><label for="__tabbed_1_2">Moonriver</label><label for="__tabbed_1_3">Moonbase Alpha</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code>0x0000000000000000000000000000000000000809
</code></pre></div> </div> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code>0x0000000000000000000000000000000000000809
</code></pre></div> </div> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code>0x0000000000000000000000000000000000000809
</code></pre></div> </div> </div> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>There can be some unintended consequences when using the precompiled contracts on Moonbeam. Please refer to the <a href="/learn/core-concepts/security/" target="_blank">Security Considerations</a> page for more information.</p> </div> <h2 id="the-randomness-interface">The Randomness Solidity Interface<a class="headerlink" href="#the-randomness-interface" title="Permanent link">&para;</a></h2> <p><a href="https://github.com/moonbeam-foundation/moonbeam/blob/master/precompiles/randomness/Randomness.sol" target="_blank">Randomness.sol</a> is a Solidity interface that allows developers to interact with the precompile's methods.</p> <details class="code"> <summary>Randomness.sol</summary> <div class="highlight"><pre><span></span><code><span class="c1">// SPDX-License-Identifier: GPL-3.0-only</span>
<span class="k">pragma solidity</span><span class="w"> </span><span class="o">&gt;=</span><span class="k">0.8.3</span><span class="p">;</span>

<span class="c1">/// @dev The Randomness contract&#39;s address.</span>
<span class="kt">address</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>RANDOMNESS_ADDRESS<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000000000000000000000000000809</span><span class="p">;</span>

<span class="c1">/// @dev The Randomness contract&#39;s instance.</span>
Randomness<span class="w"> </span><span class="kt">constant</span><span class="w"> </span>RANDOMNESS_CONTRACT<span class="w"> </span><span class="o">=</span><span class="w"> </span>Randomness<span class="p">(</span>RANDOMNESS_ADDRESS<span class="p">);</span>

<span class="c1">/// @dev Maximum number of random words being requested</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MAX_RANDOM_WORDS<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">100</span><span class="p">;</span>
<span class="c1">/// @dev Minimum number of blocks before a request can be fulfilled for Local VRF Request</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MIN_VRF_BLOCKS_DELAY<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">2</span><span class="p">;</span>
<span class="c1">/// @dev Maximum number of blocks before a request can be fulfilled for Local VRF Request</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MAX_VRF_BLOCKS_DELAY<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">2000</span><span class="p">;</span>
<span class="c1">/// @dev The deposit amount needed to request random words. There is 1 deposit per request</span>
<span class="kt">uint256</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>REQUEST_DEPOSIT_AMOUNT<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">1000000000000000000</span><span class="p">;</span>

<span class="c1">/// @author The Moonbeam Team</span>
<span class="c1">/// @title Pallet Randomness Interface</span>
<span class="c1">/// @dev The interface through which solidity contracts will interact with Randomness</span>
<span class="c1">/// @custom:address 0x0000000000000000000000000000000000000809</span>
interface<span class="w"> </span>Randomness<span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">/// @notice Event emitted when the request has been successfully executed</span>
<span class="w">    </span><span class="kt">event</span><span class="w"> </span><span class="nv">FulFillmentSucceeded</span><span class="p">();</span>
<span class="w">    </span><span class="c1">/// @notice Event emitted when the request has failed to execute fulfillment</span>
<span class="w">    </span><span class="kt">event</span><span class="w"> </span><span class="nv">FulFillmentFailed</span><span class="p">();</span>

<span class="w">    </span><span class="c1">/// @notice The status of the request</span>
<span class="w">    </span><span class="c1">/// @param DoesNotExist The request doesn&#39;t exist</span>
<span class="w">    </span><span class="c1">/// @param Pending The request cannot be fulfilled yet</span>
<span class="w">    </span><span class="c1">/// @param Ready The request is ready to be fulfilled</span>
<span class="w">    </span><span class="c1">/// @param Expired The request has expired</span>
<span class="w">    </span><span class="kt">enum</span><span class="w"> </span><span class="nv">RequestStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>DoesNotExist<span class="p">,</span>
<span class="w">        </span>Pending<span class="p">,</span>
<span class="w">        </span>Ready<span class="p">,</span>
<span class="w">        </span>Expired
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// @notice The type of randomness source</span>
<span class="w">    </span><span class="c1">/// @param LocalVRF Randomness VRF using the parachain material as seed</span>
<span class="w">    </span><span class="c1">/// @param RelayBabeEpoch Randomness VRF using relay material from previous epoch</span>
<span class="w">    </span><span class="kt">enum</span><span class="w"> </span><span class="nv">RandomnessSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>LocalVRF<span class="p">,</span>
<span class="w">        </span>RelayBabeEpoch
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// @notice The request details</span>
<span class="w">    </span><span class="c1">/// @param id The id of the request (is always &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param contractAddress The address of the contract being called back during fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee The amount to set aside to pay for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param gasLimit The gas limit to use for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt A string being mixed with the randomness seed to obtain different random words. This should be as unique as possible; using the same salt will lead to same randomness result.</span>
<span class="w">    </span><span class="c1">/// @param numWords The number of random words requested (from 1 to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @param randomnessSource The type of randomness source used to generate the random words</span>
<span class="w">    </span><span class="c1">/// @param fulfillmentBlock The parachain block number at which the request can be fulfilled (for LocalVRF only)</span>
<span class="w">    </span><span class="c1">/// @param fulfillmentEpochIndex The relay epoch index at which the request can be fulfilled (for RelayBabeEpoch)</span>
<span class="w">    </span><span class="c1">/// @param expirationBlock The parachain block number at which the request expires (for LocalVRF only)</span>
<span class="w">    </span><span class="c1">/// @param expirationEpochIndex The relay epoch index at which the request expires (for RelayBabeEpoch)</span>
<span class="w">    </span><span class="c1">/// @param status The current status of the request</span>
<span class="w">    </span><span class="kt">struct</span><span class="w"> </span><span class="nv">Request</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">id</span><span class="p">;</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">;</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">contractAddress</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">;</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">numWords</span><span class="p">;</span>
<span class="w">        </span>RandomnessSource<span class="w"> </span>randomnessSource<span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">fulfillmentBlock</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">fulfillmentEpochIndex</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">expirationBlock</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">expirationEpochIndex</span><span class="p">;</span>
<span class="w">        </span>RequestStatus<span class="w"> </span>status<span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// Return the current relay epoch index</span>
<span class="w">    </span><span class="c1">/// @dev An epoch represents real time and not a block number</span>
<span class="w">    </span><span class="c1">/// @dev Currently, time between epoch changes cannot be longer than:</span>
<span class="w">    </span><span class="c1">/// @dev  - Kusama/Westend/Rococo: 600 relay blocks (1 hour)</span>
<span class="w">    </span><span class="c1">/// @dev  - Polkadot: 2400 relay blocks (4 hours)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 81797566</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">relayEpochIndex</span><span class="p">()</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span>view<span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint64</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// Return the deposit required to perform a request</span>
<span class="w">    </span><span class="c1">/// @dev Each request will need a deposit.</span>
<span class="w">    </span><span class="c1">/// @custom:selector fb7cfdd7</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requiredDeposit</span><span class="p">()</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span>view<span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Returns the request status</span>
<span class="w">    </span><span class="c1">/// @param requestId The id of the request to check (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @return status Status of the request</span>
<span class="w">    </span><span class="c1">/// @custom:selector d8a4676f</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">getRequestStatus</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span>
<span class="w">        </span>view
<span class="w">        </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span>RequestStatus<span class="w"> </span>status<span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Returns the request or revert</span>
<span class="w">    </span><span class="c1">/// @param requestId The id of the request to check (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @return request The request</span>
<span class="w">    </span><span class="c1">/// @custom:selector c58343ef</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">getRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span>
<span class="w">        </span>view
<span class="w">        </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span>Request<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>request<span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Request random words generated from the parachain VRF</span>
<span class="w">    </span><span class="c1">/// @dev This is using pseudo-random VRF executed by the collator at the fulfillment</span>
<span class="w">    </span><span class="c1">/// @dev Warning:</span>
<span class="w">    </span><span class="c1">/// @dev The collator in charge of producing the block at fulfillment can decide to skip</span>
<span class="w">    </span><span class="c1">/// @dev producing the block in order to have a different random word generated by the next</span>
<span class="w">    </span><span class="c1">/// @dev collator, at the cost of a block reward. It is therefore economically viable to use</span>
<span class="w">    </span><span class="c1">/// @dev this randomness source only if the financial reward at stake is lower than the block</span>
<span class="w">    </span><span class="c1">/// @dev reward.</span>
<span class="w">    </span><span class="c1">/// @dev In order to reduce the risk of a collator being able to predict the random words</span>
<span class="w">    </span><span class="c1">/// @dev when the request is performed, it is possible to increase the delay to multiple blocks</span>
<span class="w">    </span><span class="c1">/// @dev The higher the delay is, the less likely the collator will be able to know which</span>
<span class="w">    </span><span class="c1">/// @dev collator will be in charge of fulfilling the request.</span>
<span class="w">    </span><span class="c1">/// @dev Fulfillment is manual and can be executed by anyone (for free) after the given delay</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee The amount to set aside to pay for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param gasLimit The gas limit to use for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt A string being mixed with the randomness seed to obtain different random words</span>
<span class="w">    </span><span class="c1">/// @param numWords The number of random words requested (from 1 to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @param delay The number of blocks until the request can be fulfilled (between MIN_DELAY_BLOCKS and MAX_DELAY_BLOCKS)</span>
<span class="w">    </span><span class="c1">/// @return requestId The id of the request requestLocalVRFRandomWords</span>
<span class="w">    </span><span class="c1">/// @custom:selector 9478430c</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requestLocalVRFRandomWords</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">,</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">numWords</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">delay</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Request random words generated from the relaychain Babe consensus</span>
<span class="w">    </span><span class="c1">/// @dev The random words are generated from the hash of the all the VRF provided by the</span>
<span class="w">    </span><span class="c1">/// @dev relaychain validator during 1 epoch.</span>
<span class="w">    </span><span class="c1">/// @dev It requires a delay of at least 1 epoch after the current epoch to be unpredictable</span>
<span class="w">    </span><span class="c1">/// @dev at the time the request is performed.</span>
<span class="w">    </span><span class="c1">/// @dev Warning:</span>
<span class="w">    </span><span class="c1">/// @dev The validator (on the relaychain) of the last block of an epoch can decide to skip</span>
<span class="w">    </span><span class="c1">/// @dev producing the block in order to choose the previous generated epoch random number</span>
<span class="w">    </span><span class="c1">/// @dev at the cost of a relaychain block rewards. It is therefore economically viable to use</span>
<span class="w">    </span><span class="c1">/// @dev this randomness source only if the financial reward at stake is lower than the relaychain</span>
<span class="w">    </span><span class="c1">/// @dev block reward.</span>
<span class="w">    </span><span class="c1">/// @dev (see https://crates.parity.io/pallet_babe/struct.RandomnessFromOneEpochAgo.html)</span>
<span class="w">    </span><span class="c1">/// @dev Fulfillment is manual and can be executed by anyone (for free) at</span>
<span class="w">    </span><span class="c1">/// @dev the beginning of the 2nd relay epoch following the current one</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee Amount to set aside to pay for the fulfillment. Those fees are taken from the contract</span>
<span class="w">    </span><span class="c1">/// @param gasLimit Gas limit for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt Salt to be mixed with raw randomness to get output</span>
<span class="w">    </span><span class="c1">/// @param numWords Number of random words to be returned (limited to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @return requestId The id of the request</span>
<span class="w">    </span><span class="c1">/// @custom:selector 33c14a63</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requestRelayBabeEpochRandomWords</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">,</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">numWords</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @dev fulFill the request which will call the contract method &quot;fulfillRandomWords&quot;</span>
<span class="w">    </span><span class="c1">/// @dev Fees of the caller are refunded if the request is fulfillable</span>
<span class="w">    </span><span class="c1">/// @param requestId Request to be fulfilled (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 9a91eb0d</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">fulfillRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// @param requestId Request receiving the additional fees (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @param feeIncrease Amount to increase</span>
<span class="w">    </span><span class="c1">/// @custom:selector d0408a7f</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">increaseRequestFee</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">feeIncrease</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// @param requestId Request to be purged (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 1d26cbab</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">purgeExpiredRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </details> <p>The interface includes functions, constants, events, and enums, as covered in the following sections.</p> <h3 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h3> <p>The interface includes the following functions:</p> <details class="function"> <summary><strong>relayEpochIndex</strong>() - returns the current relay epoch index, where an epoch represents real time and not a block number</summary> <div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Parameters</label><label for="__tabbed_2_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>None.</p> </div> <div class="tabbed-block"> <ul> <li><code>uint256</code> current relay epoch index</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>requiredDeposit</strong>() - returns the deposit required to perform a randomness request</summary> <div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Parameters</label><label for="__tabbed_3_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>None.</p> </div> <div class="tabbed-block"> <ul> <li><code>uint256</code> required deposit amount</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>getRequestStatus</strong>(<em>uint256</em> requestId) - returns the request status of a given randomness request</summary> <div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">Parameters</label><label for="__tabbed_4_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>requestId</code> - uint256 ID of the randomness request</li> </ul> </div> <div class="tabbed-block"> <ul> <li><code>uint8</code> status code of the request</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>getRequest</strong>(<em>uint256</em> requestId) - returns the request details of a given randomness request</summary> <div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">Parameters</label><label for="__tabbed_5_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>requestId</code> - uint256 ID of the randomness request</li> </ul> </div> <div class="tabbed-block"> <ul> <li><code>bool</code> whether the request is ready or not</li> <li><code>bool</code> whether the request is expired or not</li> <li><code>uint256</code> deposit amount</li> <li><code>uint256</code> fee amount</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>requestLocalVRFRandomWords</strong>(<em>address</em> refundAddress, <em>uint256</em> fee, <em>uint64</em> gasLimit, <em>bytes32</em> salt, <em>uint8</em> numWords, <em>uint64</em> delay) - request random words generated from the parachain VRF</summary> <div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">Parameters</label><label for="__tabbed_6_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>refundAddress</code> - address receiving the left-over fees after the fulfillment</li> <li><code>fee</code> - uint256 amount to set aside to pay for the fulfillment</li> <li><code>gasLimit</code> - uint64 gas limit to use for the fulfillment</li> <li><code>salt</code> - bytes32 string that is mixed with the randomness seed to obtain different random words</li> <li><code>numWords</code> - uint8 number of random words requested, up to the maximum number of random words</li> <li><code>delay</code> - uint64 number of blocks that must pass before the request can be fulfilled. This value will need to be between the minimum and maximum number of blocks before a local VRF request can be fulfilled</li> </ul> </div> <div class="tabbed-block"> <ul> <li><code>uint256</code> ID of the created request</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>requestRelayBabeEpochRandomWords</strong>(<em>address</em> refundAddress, <em>uint256</em> fee, <em>uint64</em> gasLimit, <em>bytes32</em> salt, <em>uint8</em> numWords) - request random words generated from the relay chain BABE consensus</summary> <div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">Parameters</label><label for="__tabbed_7_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>refundAddress</code> - address receiving the left-over fees after the fulfillment</li> <li><code>fee</code> - uint256 amount to set aside to pay for the fulfillment</li> <li><code>gasLimit</code> - uint64 gas limit to use for the fulfillment</li> <li><code>salt</code> - bytes32 string that is mixed with the randomness seed to obtain different random words</li> <li><code>numWords</code> - uint8 number of random words requested, up to the maximum number of random words</li> </ul> </div> <div class="tabbed-block"> <ul> <li><code>uint256</code> ID of the created request</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>fulfillRequest</strong>(<em>uint256</em> requestId) - fulfill the request which will call the consumer contract method <a href="#:~:text=rawFulfillRandomWords(uint256 requestId, uint256[] memory randomWords)"><code>fulfillRandomWords</code></a>. Fees of the caller are refunded if the request is fulfillable</summary> <div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">Parameters</label><label for="__tabbed_8_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>requestId</code> - uint256 ID of the randomness request</li> </ul> </div> <div class="tabbed-block"> <p>None.</p> </div> </div> </div> </details> <details class="function"> <summary><strong>increaseRequestFee</strong>(<em>uint256</em> requestId, <em>uint256</em> feeIncrease) - increases the fee associated with a given randomness request. This is needed if the gas price increases significantly before the request is fulfilled</summary> <div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"><input id="__tabbed_9_2" name="__tabbed_9" type="radio"><div class="tabbed-labels"><label for="__tabbed_9_1">Parameters</label><label for="__tabbed_9_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>requestId</code> - uint256 ID of the randomness request</li> <li><code>feeIncrease</code> - uint256 amount to increase fees by</li> </ul> </div> <div class="tabbed-block"> <p>None.</p> </div> </div> </div> </details> <details class="function"> <summary><strong>purgeExpiredRequest</strong>(<em>uint256</em> requestId) - removes a given expired request from storage and transfers the request fees to the caller and the deposit back to the original requester</summary> <div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"><input id="__tabbed_10_2" name="__tabbed_10" type="radio"><div class="tabbed-labels"><label for="__tabbed_10_1">Parameters</label><label for="__tabbed_10_2">Returns</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>requestId</code> - uint256 ID of the randomness request</li> </ul> </div> <div class="tabbed-block"> <p>None.</p> </div> </div> </div> </details> <h3 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h3> <p>The interface includes the following constants:</p> <ul> <li><strong>maxRandomWords</strong> - the maximum number of random words being requested</li> <li><strong>minBlockDelay</strong> - the minimum number of blocks before a request can be fulfilled for local VRF requests</li> <li><strong>maxBlockDelay</strong> - the maximum number of blocks before a request can be fulfilled for local VRF requests</li> <li><strong>deposit</strong> - the deposit amount needed to request random words. There is one deposit per request</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"><input id="__tabbed_11_2" name="__tabbed_11" type="radio"><input id="__tabbed_11_3" name="__tabbed_11" type="radio"><div class="tabbed-labels"><label for="__tabbed_11_1">Moonbeam</label><label for="__tabbed_11_2">Moonriver</label><label for="__tabbed_11_3">Moonbase Alpha</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <table> <thead> <tr> <th style="text-align: center;">Variable</th> <th style="text-align: center;">Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">MAX_RANDOM_WORDS</td> <td style="text-align: center;">100 words</td> </tr> <tr> <td style="text-align: center;">MIN_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2 blocks</td> </tr> <tr> <td style="text-align: center;">MAX_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2000 blocks</td> </tr> <tr> <td style="text-align: center;">REQUEST_DEPOSIT_AMOUNT</td> <td style="text-align: center;">100 GLMR</td> </tr> </tbody> </table> </div> <div class="tabbed-block"> <table> <thead> <tr> <th style="text-align: center;">Variable</th> <th style="text-align: center;">Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">MAX_RANDOM_WORDS</td> <td style="text-align: center;">100 words</td> </tr> <tr> <td style="text-align: center;">MIN_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2 blocks</td> </tr> <tr> <td style="text-align: center;">MAX_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2000 blocks</td> </tr> <tr> <td style="text-align: center;">REQUEST_DEPOSIT_AMOUNT</td> <td style="text-align: center;">1 MOVR</td> </tr> </tbody> </table> </div> <div class="tabbed-block"> <table> <thead> <tr> <th style="text-align: center;">Variable</th> <th style="text-align: center;">Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">MAX_RANDOM_WORDS</td> <td style="text-align: center;">100 words</td> </tr> <tr> <td style="text-align: center;">MIN_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2 blocks</td> </tr> <tr> <td style="text-align: center;">MAX_VRF_BLOCKS_DELAY</td> <td style="text-align: center;">2000 blocks</td> </tr> <tr> <td style="text-align: center;">REQUEST_DEPOSIT_AMOUNT</td> <td style="text-align: center;">1 DEV</td> </tr> </tbody> </table> </div> </div> </div> <h3 id="events">Events<a class="headerlink" href="#events" title="Permanent link">&para;</a></h3> <p>The interface includes the following events:</p> <ul> <li><strong>FulfillmentSucceeded</strong>() - emitted when the request has been successfully executed</li> <li><strong>FulfillmentFailed</strong>() - emitted when the request has failed to execute fulfillment</li> </ul> <h3 id="enums">Enums<a class="headerlink" href="#enums" title="Permanent link">&para;</a></h3> <p>The interface includes the following enums:</p> <ul> <li><strong>RequestStatus</strong> - the status of the request, which can be <code>DoesNotExist</code> (0), <code>Pending</code> (1), <code>Ready</code> (2), or <code>Expired</code> (3)</li> <li><strong>RandomnessSource</strong> - the type of the randomness source, which can be <code>LocalVRF</code> (0) or <code>RelayBabeEpoch</code> (1)</li> </ul> <h2 id="randomness-consumer-solidity-interface">The Randomness Consumer Solidity Interface<a class="headerlink" href="#randomness-consumer-solidity-interface" title="Permanent link">&para;</a></h2> <p>The <a href="https://github.com/moonbeam-foundation/moonbeam/blob/4e2a5785424be6faa01cd14e90155d9d2ec734ee/precompiles/randomness/RandomnessConsumer.sol" target="_blank"><code>RandomnessConsumer.sol</code></a> Solidity interface makes it easy for smart contracts to interact with the randomness precompile. Using the randomness consumer ensures the fulfillment comes from the randomness precompile.</p> <details class="code"> <summary>RandomnessConsumer.sol</summary> <div class="highlight"><pre><span></span><code><span class="c1">// SPDX-License-Identifier: GPL-3.0-only</span>
<span class="k">pragma solidity</span><span class="w"> </span><span class="o">&gt;=</span><span class="k">0.8.3</span><span class="p">;</span>

<span class="c1">/// @dev The Randomness contract&#39;s address.</span>
<span class="kt">address</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>RANDOMNESS_ADDRESS<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000000000000000000000000000809</span><span class="p">;</span>

<span class="c1">/// @dev The Randomness contract&#39;s instance.</span>
Randomness<span class="w"> </span><span class="kt">constant</span><span class="w"> </span>RANDOMNESS_CONTRACT<span class="w"> </span><span class="o">=</span><span class="w"> </span>Randomness<span class="p">(</span>RANDOMNESS_ADDRESS<span class="p">);</span>

<span class="c1">/// @dev Maximum number of random words being requested</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MAX_RANDOM_WORDS<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">100</span><span class="p">;</span>
<span class="c1">/// @dev Minimum number of blocks before a request can be fulfilled for Local VRF Request</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MIN_VRF_BLOCKS_DELAY<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">2</span><span class="p">;</span>
<span class="c1">/// @dev Maximum number of blocks before a request can be fulfilled for Local VRF Request</span>
<span class="kt">uint32</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>MAX_VRF_BLOCKS_DELAY<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">2000</span><span class="p">;</span>
<span class="c1">/// @dev The deposit amount needed to request random words. There is 1 deposit per request</span>
<span class="kt">uint256</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>REQUEST_DEPOSIT_AMOUNT<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">1000000000000000000</span><span class="p">;</span>

<span class="c1">/// @author The Moonbeam Team</span>
<span class="c1">/// @title Pallet Randomness Interface</span>
<span class="c1">/// @dev The interface through which solidity contracts will interact with Randomness</span>
<span class="c1">/// @custom:address 0x0000000000000000000000000000000000000809</span>
interface<span class="w"> </span>Randomness<span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">/// @notice Event emitted when the request has been successfully executed</span>
<span class="w">    </span><span class="kt">event</span><span class="w"> </span><span class="nv">FulFillmentSucceeded</span><span class="p">();</span>
<span class="w">    </span><span class="c1">/// @notice Event emitted when the request has failed to execute fulfillment</span>
<span class="w">    </span><span class="kt">event</span><span class="w"> </span><span class="nv">FulFillmentFailed</span><span class="p">();</span>

<span class="w">    </span><span class="c1">/// @notice The status of the request</span>
<span class="w">    </span><span class="c1">/// @param DoesNotExist The request doesn&#39;t exist</span>
<span class="w">    </span><span class="c1">/// @param Pending The request cannot be fulfilled yet</span>
<span class="w">    </span><span class="c1">/// @param Ready The request is ready to be fulfilled</span>
<span class="w">    </span><span class="c1">/// @param Expired The request has expired</span>
<span class="w">    </span><span class="kt">enum</span><span class="w"> </span><span class="nv">RequestStatus</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>DoesNotExist<span class="p">,</span>
<span class="w">        </span>Pending<span class="p">,</span>
<span class="w">        </span>Ready<span class="p">,</span>
<span class="w">        </span>Expired
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// @notice The type of randomness source</span>
<span class="w">    </span><span class="c1">/// @param LocalVRF Randomness VRF using the parachain material as seed</span>
<span class="w">    </span><span class="c1">/// @param RelayBabeEpoch Randomness VRF using relay material from previous epoch</span>
<span class="w">    </span><span class="kt">enum</span><span class="w"> </span><span class="nv">RandomnessSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>LocalVRF<span class="p">,</span>
<span class="w">        </span>RelayBabeEpoch
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// @notice The request details</span>
<span class="w">    </span><span class="c1">/// @param id The id of the request (is always &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param contractAddress The address of the contract being called back during fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee The amount to set aside to pay for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param gasLimit The gas limit to use for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt A string being mixed with the randomness seed to obtain different random words. This should be as unique as possible; using the same salt will lead to same randomness result.</span>
<span class="w">    </span><span class="c1">/// @param numWords The number of random words requested (from 1 to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @param randomnessSource The type of randomness source used to generate the random words</span>
<span class="w">    </span><span class="c1">/// @param fulfillmentBlock The parachain block number at which the request can be fulfilled (for LocalVRF only)</span>
<span class="w">    </span><span class="c1">/// @param fulfillmentEpochIndex The relay epoch index at which the request can be fulfilled (for RelayBabeEpoch)</span>
<span class="w">    </span><span class="c1">/// @param expirationBlock The parachain block number at which the request expires (for LocalVRF only)</span>
<span class="w">    </span><span class="c1">/// @param expirationEpochIndex The relay epoch index at which the request expires (for RelayBabeEpoch)</span>
<span class="w">    </span><span class="c1">/// @param status The current status of the request</span>
<span class="w">    </span><span class="kt">struct</span><span class="w"> </span><span class="nv">Request</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">id</span><span class="p">;</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">;</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">contractAddress</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">;</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">numWords</span><span class="p">;</span>
<span class="w">        </span>RandomnessSource<span class="w"> </span>randomnessSource<span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">fulfillmentBlock</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">fulfillmentEpochIndex</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">expirationBlock</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">expirationEpochIndex</span><span class="p">;</span>
<span class="w">        </span>RequestStatus<span class="w"> </span>status<span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// Return the current relay epoch index</span>
<span class="w">    </span><span class="c1">/// @dev An epoch represents real time and not a block number</span>
<span class="w">    </span><span class="c1">/// @dev Currently, time between epoch changes cannot be longer than:</span>
<span class="w">    </span><span class="c1">/// @dev  - Kusama/Westend/Rococo: 600 relay blocks (1 hour)</span>
<span class="w">    </span><span class="c1">/// @dev  - Polkadot: 2400 relay blocks (4 hours)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 81797566</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">relayEpochIndex</span><span class="p">()</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span>view<span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint64</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// Return the deposit required to perform a request</span>
<span class="w">    </span><span class="c1">/// @dev Each request will need a deposit.</span>
<span class="w">    </span><span class="c1">/// @custom:selector fb7cfdd7</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requiredDeposit</span><span class="p">()</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span>view<span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Returns the request status</span>
<span class="w">    </span><span class="c1">/// @param requestId The id of the request to check (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @return status Status of the request</span>
<span class="w">    </span><span class="c1">/// @custom:selector d8a4676f</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">getRequestStatus</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span>
<span class="w">        </span>view
<span class="w">        </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span>RequestStatus<span class="w"> </span>status<span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Returns the request or revert</span>
<span class="w">    </span><span class="c1">/// @param requestId The id of the request to check (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @return request The request</span>
<span class="w">    </span><span class="c1">/// @custom:selector c58343ef</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">getRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span>
<span class="w">        </span>view
<span class="w">        </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span>Request<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>request<span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Request random words generated from the parachain VRF</span>
<span class="w">    </span><span class="c1">/// @dev This is using pseudo-random VRF executed by the collator at the fulfillment</span>
<span class="w">    </span><span class="c1">/// @dev Warning:</span>
<span class="w">    </span><span class="c1">/// @dev The collator in charge of producing the block at fulfillment can decide to skip</span>
<span class="w">    </span><span class="c1">/// @dev producing the block in order to have a different random word generated by the next</span>
<span class="w">    </span><span class="c1">/// @dev collator, at the cost of a block reward. It is therefore economically viable to use</span>
<span class="w">    </span><span class="c1">/// @dev this randomness source only if the financial reward at stake is lower than the block</span>
<span class="w">    </span><span class="c1">/// @dev reward.</span>
<span class="w">    </span><span class="c1">/// @dev In order to reduce the risk of a collator being able to predict the random words</span>
<span class="w">    </span><span class="c1">/// @dev when the request is performed, it is possible to increase the delay to multiple blocks</span>
<span class="w">    </span><span class="c1">/// @dev The higher the delay is, the less likely the collator will be able to know which</span>
<span class="w">    </span><span class="c1">/// @dev collator will be in charge of fulfilling the request.</span>
<span class="w">    </span><span class="c1">/// @dev Fulfillment is manual and can be executed by anyone (for free) after the given delay</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee The amount to set aside to pay for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param gasLimit The gas limit to use for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt A string being mixed with the randomness seed to obtain different random words</span>
<span class="w">    </span><span class="c1">/// @param numWords The number of random words requested (from 1 to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @param delay The number of blocks until the request can be fulfilled (between MIN_DELAY_BLOCKS and MAX_DELAY_BLOCKS)</span>
<span class="w">    </span><span class="c1">/// @return requestId The id of the request requestLocalVRFRandomWords</span>
<span class="w">    </span><span class="c1">/// @custom:selector 9478430c</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requestLocalVRFRandomWords</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">,</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">numWords</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">delay</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @notice Request random words generated from the relaychain Babe consensus</span>
<span class="w">    </span><span class="c1">/// @dev The random words are generated from the hash of the all the VRF provided by the</span>
<span class="w">    </span><span class="c1">/// @dev relaychain validator during 1 epoch.</span>
<span class="w">    </span><span class="c1">/// @dev It requires a delay of at least 1 epoch after the current epoch to be unpredictable</span>
<span class="w">    </span><span class="c1">/// @dev at the time the request is performed.</span>
<span class="w">    </span><span class="c1">/// @dev Warning:</span>
<span class="w">    </span><span class="c1">/// @dev The validator (on the relaychain) of the last block of an epoch can decide to skip</span>
<span class="w">    </span><span class="c1">/// @dev producing the block in order to choose the previous generated epoch random number</span>
<span class="w">    </span><span class="c1">/// @dev at the cost of a relaychain block rewards. It is therefore economically viable to use</span>
<span class="w">    </span><span class="c1">/// @dev this randomness source only if the financial reward at stake is lower than the relaychain</span>
<span class="w">    </span><span class="c1">/// @dev block reward.</span>
<span class="w">    </span><span class="c1">/// @dev (see https://crates.parity.io/pallet_babe/struct.RandomnessFromOneEpochAgo.html)</span>
<span class="w">    </span><span class="c1">/// @dev Fulfillment is manual and can be executed by anyone (for free) at</span>
<span class="w">    </span><span class="c1">/// @dev the beginning of the 2nd relay epoch following the current one</span>
<span class="w">    </span><span class="c1">/// @param refundAddress The address receiving the left-over fees after the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param fee Amount to set aside to pay for the fulfillment. Those fees are taken from the contract</span>
<span class="w">    </span><span class="c1">/// @param gasLimit Gas limit for the fulfillment</span>
<span class="w">    </span><span class="c1">/// @param salt Salt to be mixed with raw randomness to get output</span>
<span class="w">    </span><span class="c1">/// @param numWords Number of random words to be returned (limited to MAX_RANDOM_WORDS)</span>
<span class="w">    </span><span class="c1">/// @return requestId The id of the request</span>
<span class="w">    </span><span class="c1">/// @custom:selector 33c14a63</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requestRelayBabeEpochRandomWords</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">refundAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">gasLimit</span><span class="p">,</span>
<span class="w">        </span><span class="kt">bytes32</span><span class="w"> </span><span class="nv">salt</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">numWords</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="w"> </span><span class="kt">returns</span><span class="w"> </span><span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

<span class="w">    </span><span class="c1">/// @dev fulFill the request which will call the contract method &quot;fulfillRandomWords&quot;</span>
<span class="w">    </span><span class="c1">/// @dev Fees of the caller are refunded if the request is fulfillable</span>
<span class="w">    </span><span class="c1">/// @param requestId Request to be fulfilled (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 9a91eb0d</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">fulfillRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// @param requestId Request receiving the additional fees (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @param feeIncrease Amount to increase</span>
<span class="w">    </span><span class="c1">/// @custom:selector d0408a7f</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">increaseRequestFee</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">feeIncrease</span><span class="p">)</span>
<span class="w">        </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// @param requestId Request to be purged (must be &lt; 2**64)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 1d26cbab</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">purgeExpiredRequest</span><span class="p">(</span><span class="kt">uint256</span><span class="w"> </span><span class="nv">requestId</span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </details> <p>The consumer interface includes the following functions:</p> <ul> <li><strong>fulfillRandomWords</strong>(<em>uint256</em> requestId, <em>uint256[] memory</em> randomWords) - handles the VRF response for a given request. This method is triggered by a call to <code>rawFulfillRandomWords</code></li> <li><strong>rawFulfillRandomWords</strong>(<em>uint256</em> requestId, <em>uint256[] memory</em> randomWords) - executed when the <a href="#:~:text=fulfillRequest(uint256 requestId)"><code>fulfillRequest</code> function</a> of the randomness precompile is called. The origin of the call is validated, ensuring the randomness precompile is the origin, and then the <code>fulfillRandomWords</code> method is called</li> </ul> <h2 id="request-and-fulfill-process">Request &amp; Fulfill Process<a class="headerlink" href="#request-and-fulfill-process" title="Permanent link">&para;</a></h2> <p>To consume randomness, you must have a contract that does the following:</p> <ul> <li>Imports the <code>Randomness.sol</code> precompile and <code>RandomnessConsumer.sol</code> interface</li> <li>Inherits from the <code>RandomnessConsumer.sol</code> interface</li> <li>Requests randomness through the precompile's <a href="#:~:text=requestLocalVRFRandomWords"><code>requestLocalVRFRandomWords</code> method</a> or <a href="#:~:text=requestRelayBabeEpochRandomWords"><code>requestRelayBabeEpochRandomWords</code> method</a>, depending on the source of randomness you want to use</li> <li>Requests fulfillment through the precompile's <a href="#:~:text=fulfillRequest"><code>fulfillRequest</code> method</a></li> <li>Consumes randomness through a <code>fulfillRandomWords</code> method with the same <a href="#:~:text=fulfillRandomWords(uint256 requestId, uint256[] memory randomWords)">signature as the <code>fulfillRandomWords</code> method</a> of the <code>RandomnessConsumer.sol</code> contract</li> </ul> <p>When randomness is requested through the precompile's <code>requestLocalVRFRandomWords</code> or <code>requestRelayBabeEpochRandomWords</code> method, a fee is set aside to pay for the fulfillment of the request. When using local VRF, to increase unpredictability, a specified delay period (in blocks) must pass before the request can be fulfilled. At the very least, the delay period must be greater than one block. For BABE epoch randomness, you do not need to specify a delay but can fulfill the request at the beginning of the 2nd epoch following the current one.</p> <p>After the delay, fulfillment of the request can be manually executed by anyone through the <code>fulfillRequest</code> method using the fee that was initially set aside for the request.</p> <p>When fulfilling the randomness request via the precompile's <code>fulfillRequest</code> method, the <a href="#:~:text=rawFulfillRandomWords(uint256 requestId, uint256[] memory randomWords)"><code>rawFulfillRandomWords</code></a> function in the <code>RandomnessConsumer.sol</code> contract will be called, which will verify that the sender is the randomness precompile. From there, <a href="#:~:text=fulfillRandomWords(uint256 requestId, uint256[] memory randomWords)"><code>fulfillRandomWords</code></a> is called and the requested number of random words are computed using the current block's randomness result and a given salt and returned. If the fulfillment was successful, the <a href="#:~:text=FulfillmentSucceeded"><code>FulfillmentSucceeded</code> event</a> will be emitted; otherwise the <a href="#:~:text=FulfillmentFailed"><code>FulfillmentFailed</code> event</a> will be emitted.</p> <p>For fulfilled requests, the cost of execution will be refunded from the request fee to the caller of <code>fulfillRequest</code>. Then any excess fees and the request deposit are transferred to the specified refund address.</p> <p>Your contract's <code>fulfillRandomWords</code> callback is responsible for handling the fulfillment. For example, in a lottery contract, the callback would use the random words to choose a winner and payout the winnings.</p> <p>If a request expires it can be purged through the precompile's <a href="/builders/ethereum/precompiles/features/randomness/#:~:text=purgeExpiredRequest" target="_blank"><code>purgeExpiredRequest</code> function</a>. When this function is called the request fee is paid out to the caller and the deposit will be returned to the original requester.</p> <p>The happy path for a randomness request is shown in the following diagram:</p> <p><a class="glightbox" href="/images/learn/features/randomness/randomness-1.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Randomness request happy path diagram" src="/images/learn/features/randomness/randomness-1.webp"></a></p> <h2 id="interact-with-the-solidity-interfaces">Generate a Random Number using the Randomness Precompile<a class="headerlink" href="#interact-with-the-solidity-interfaces" title="Permanent link">&para;</a></h2> <p>In the following sections of this tutorial, you'll learn how to create a smart contract that generates a random number using the Randomness Precompile and the Randomness Consumer. If you want to just explore some of the functions of the Randomness Precompile, you can skip ahead to the <a href="#interact-directly">Use Remix to Interact Directly with the Randomness Precompile</a> section.</p> <h3 id="checking-prerequisites">Checking Prerequisites<a class="headerlink" href="#checking-prerequisites" title="Permanent link">&para;</a></h3> <p>For this guide, you will need to have the following:</p> <ul> <li><a href="/tokens/connect/metamask/" target="_blank">MetaMask installed and connected to Moonbase Alpha</a></li> <li>An account funded with DEV tokens. You can get DEV tokens for testing on Moonbase Alpha once every 24 hours from the <a href="https://faucet.moonbeam.network" target="_blank">Moonbase Alpha Faucet</a></li> </ul> <h3 id="create-random-generator-contract">Create a Random Number Generator Contract<a class="headerlink" href="#create-random-generator-contract" title="Permanent link">&para;</a></h3> <p>The contract that will be created in this section includes the functions that you'll need at a bare minimum to request randomness and consume the results from fulfilling randomness requests.</p> <p><strong>This contract is for educational purposes only and is not meant for production use.</strong></p> <p>The contract will include the following functions:</p> <ul> <li>A constructor that accepts the deposit required to request randomness</li> <li>A function that submits randomness requests. For this example, the source of randomness will be local VRF, but you can easily modify the contract to use BABE epoch randomness</li> <li>A function that fulfills the request by calling the <code>fulfillRequest</code> function of the Randomness Precompile. This function will be <code>payable</code> as the fulfillment fee will need to be submitted at the time of the randomness request</li> <li>A function that consumes the fulfillment results. This function's signature must match the <a href="#:~:text=fulfillRandomWords(uint256 requestId, uint256[] memory randomWords)">signature of the <code>fulfillRandomWords</code> method</a> of the Randomness Consumer contract</li> </ul> <p>Without further ado, the contract is as follows:</p> <div class="highlight"><pre><span></span><code><span class="c1">// SPDX-License-Identifier: GPL-3.0-only</span>
<span class="k">pragma solidity</span><span class="w"> </span><span class="o">^</span><span class="k">0.8.30</span><span class="p">;</span>

<span class="kt">import</span><span class="w"> </span><span class="s2">&quot;https://github.com/moonbeam-foundation/moonbeam/blob/master/precompiles/randomness/Randomness.sol&quot;</span><span class="p">;</span>
<span class="kt">import</span><span class="w"> </span><span class="p">{</span>RandomnessConsumer<span class="p">}</span><span class="w"> </span>from<span class="w"> </span><span class="s2">&quot;https://github.com/moonbeam-foundation/moonbeam/blob/master/precompiles/randomness/RandomnessConsumer.sol&quot;</span><span class="p">;</span>

<span class="k">contract</span><span class="w"> </span><span class="ni">RandomNumber</span><span class="w"> </span><span class="kt">is</span><span class="w"> </span>RandomnessConsumer<span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// The Randomness Precompile Interface</span>
<span class="w">    </span>Randomness<span class="w"> </span><span class="kt">public</span><span class="w"> </span>randomness<span class="w"> </span><span class="o">=</span>
<span class="w">        </span>Randomness<span class="p">(</span><span class="mh">0x0000000000000000000000000000000000000809</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Variables required for randomness requests</span>
<span class="w">    </span><span class="kt">uint256</span><span class="w"> </span><span class="k">public </span><span class="nv">requiredDeposit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>randomness<span class="p">.</span>requiredDeposit<span class="p">();</span>
<span class="w">    </span><span class="kt">uint64</span><span class="w"> </span><span class="k">public </span><span class="nv">FULFILLMENT_GAS_LIMIT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m m-Decimal">100000</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// The fee can be set to any value as long as it is enough to cover</span>
<span class="w">    </span><span class="c1">// the fulfillment costs. Any leftover fees will be refunded to the</span>
<span class="w">    </span><span class="c1">// refund address specified in the requestRandomness function below.</span>
<span class="w">    </span><span class="c1">// 150 Gwei should be sufficient for all networks.</span>
<span class="w">    </span><span class="c1">// For Moonbase Alpha and Moonriver, you can specify 5 Gwei </span>
<span class="w">    </span><span class="kt">uint256</span><span class="w"> </span><span class="k">public </span><span class="nv">MIN_FEE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>FULFILLMENT_GAS_LIMIT<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m m-Decimal">150</span><span class="w"> </span>gwei<span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="kt">uint32</span><span class="w"> </span><span class="k">public </span><span class="nv">VRF_BLOCKS_DELAY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>MIN_VRF_BLOCKS_DELAY<span class="p">;</span>
<span class="w">    </span><span class="kt">bytes32</span><span class="w"> </span><span class="k">public </span><span class="nv">SALT_PREFIX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;INSERT_ANY_STRING_FOR_SALT&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Storage variables for the current request</span>
<span class="w">    </span><span class="kt">uint256</span><span class="w"> </span><span class="k">public </span><span class="nv">requestId</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint256</span><span class="p">[]</span><span class="w"> </span><span class="kt">public</span><span class="w"> </span>random<span class="p">;</span>

<span class="w">    </span><span class="kt">constructor</span><span class="p">()</span><span class="w"> </span><span class="kt">payable</span><span class="w"> </span>RandomnessConsumer<span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Because this contract can only perform 1 random request at a time,</span>
<span class="w">        </span><span class="c1">// We only need to have 1 required deposit</span>
<span class="w">        </span><span class="kt">require</span><span class="p">(</span><span class="k">msg.value</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>requiredDeposit<span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">requestRandomness</span><span class="p">()</span><span class="w"> </span><span class="kt">public</span><span class="w"> </span><span class="kt">payable</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Make sure that the value sent is enough</span>
<span class="w">        </span><span class="kt">require</span><span class="p">(</span><span class="k">msg.value</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span>MIN_FEE<span class="p">);</span>
<span class="w">        </span><span class="c1">// Request local VRF randomness</span>
<span class="w">        </span>requestId<span class="w"> </span><span class="o">=</span><span class="w"> </span>randomness<span class="p">.</span>requestLocalVRFRandomWords<span class="p">(</span>
<span class="w">            </span><span class="k">msg.sender</span><span class="p">,</span><span class="w"> </span><span class="c1">// Refund address</span>
<span class="w">            </span><span class="k">msg.value</span><span class="p">,</span><span class="w"> </span><span class="c1">// Fulfillment fee</span>
<span class="w">            </span>FULFILLMENT_GAS_LIMIT<span class="p">,</span><span class="w"> </span><span class="c1">// Gas limit for the fulfillment</span>
<span class="w">            </span>SALT_PREFIX<span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="kt">bytes32</span><span class="p">(</span>requestId<span class="o">++</span><span class="p">),</span><span class="w"> </span><span class="c1">// A salt to generate unique results</span>
<span class="w">            </span><span class="m m-Decimal">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// Number of random words</span>
<span class="w">            </span>VRF_BLOCKS_DELAY<span class="w"> </span><span class="c1">// Delay before request can be fulfilled</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">fulfillRequest</span><span class="p">()</span><span class="w"> </span><span class="kt">public</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>randomness<span class="p">.</span>fulfillRequest<span class="p">(</span>requestId<span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">fulfillRandomWords</span><span class="p">(</span>
<span class="w">        </span><span class="kt">uint256</span><span class="p">,</span><span class="w"> </span><span class="c1">// requestId</span>
<span class="w">        </span><span class="kt">uint256</span><span class="p">[]</span><span class="w"> </span><span class="kt">memory</span><span class="w"> </span>randomWords
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">internal</span><span class="w"> </span>override<span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Save the randomness results</span>
<span class="w">        </span>random<span class="w"> </span><span class="o">=</span><span class="w"> </span>randomWords<span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>As you can see, there are also some constants in the contract that can be edited as you see fit, especially the <code>SALT_PREFIX</code> which can be used to produce unique results.</p> <p>In the following sections, you'll use Remix to deploy and interact with the contract.</p> <h3 id="remix-set-up">Remix Set Up<a class="headerlink" href="#remix-set-up" title="Permanent link">&para;</a></h3> <p>To add the contract to Remix and follow along with this section of the tutorial, you will need to create a new file named <code>RandomnessNumber.sol</code> in Remix and paste the <code>RandomNumber</code> contract into the file.</p> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-2.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Add the random number generator contract to Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-2.webp"></a></p> <h3 id="compile-deploy-random-number">Compile &amp; Deploy the Random Number Generator Contract<a class="headerlink" href="#compile-deploy-random-number" title="Permanent link">&para;</a></h3> <p>To compile the <code>RandomNumber.sol</code> contract in Remix, you'll need to take the following steps:</p> <ol> <li>Click on the <strong>Compile</strong> tab, second from top</li> <li>Click on the <strong>Compile RandomNumber.sol</strong> button</li> </ol> <p>If the contract was compiled successfully, you will see a green checkmark next to the <strong>Compile</strong> tab.</p> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-3.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Compile the random number generator contract in Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-3.webp"></a></p> <p>Now you can go ahead and deploy the contract by taking these steps:</p> <ol> <li>Click on the <strong>Deploy and Run</strong> tab directly below the <strong>Compile</strong> tab</li> <li>Make sure <strong>Injected Provider - Metamask</strong> is selected in the <strong>ENVIRONMENT</strong> dropdown. Once you select <strong>Injected Provider - Metamask</strong>, you might be prompted by MetaMask to connect your account to Remix</li> <li>Make sure the correct account is displayed under <strong>ACCOUNT</strong></li> <li>Enter the deposit amount in the <strong>VALUE</strong> field, which is <code>1000000000000000000</code> in Wei (<code>1</code> Ether)</li> <li>Ensure <strong>RandomNumber - RandomNumber.sol</strong> is selected in the <strong>CONTRACT</strong> dropdown</li> <li>Click <strong>Deploy</strong></li> <li>Confirm the MetaMask transaction that appears by clicking <strong>Confirm</strong></li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-4.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Deploy the random number generator contract in Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-4.webp"></a></p> <p>The <strong>RANDOMNUMBER</strong> contract will appear in the list of <strong>Deployed Contracts</strong>.</p> <h3 id="request-randomness">Submit a Request to Generate a Random Number<a class="headerlink" href="#request-randomness" title="Permanent link">&para;</a></h3> <p>To request randomness, you're going to use the <code>requestRandomness</code> function of the contract, which will require you to submit a deposit as defined in the Randomness Precompile. You can submit the randomness request and pay the deposit by taking these steps:</p> <ol> <li>Enter an amount in the <strong>VALUE</strong> field for the fulfillment fee, it must be equal to or greater than the minimum fee specified in the <code>RandomNumber</code> contract, which is <code>15000000</code> Gwei.</li> <li>Expand the <strong>RANDOMNUMBER</strong> contract</li> <li>Click on the <strong>requestRandomness</strong> button</li> <li>Confrm the transaction in MetaMask</li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-5.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Request a random number using the random number generator contract in Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-5.webp"></a></p> <p>Once you submit the transaction, the <code>requestId</code> will be updated with the ID of the request. You can use the <code>requestId</code> call of the Random Number contract to get the request ID and the <code>getRequestStatus</code> function of the Randomness Precompile to check the status of this request ID.</p> <h3 id="fulfill-request-save-number">Fulfill the Request and Save the Random Number<a class="headerlink" href="#fulfill-request-save-number" title="Permanent link">&para;</a></h3> <p>After submitting the randomness request, you'll need to wait for the duration of the delay before you can fulfill the request. For the <code>RandomNumber.sol</code> contract, the delay was set to the minimum block delay defined in the Randomness Precompile, which is 2 blocks. You must also fulfill the request before it is too late. For local VRF, the request expires after 10000 blocks and for BABE epoch randomness, the request expires after 10000 epochs.</p> <p>Assuming you've waited for the minimum blocks (or epochs if you're using BABE epoch randomness) to pass and the request hasn't expired, you can fulfill the request by taking the following steps:</p> <ol> <li>Click on the <strong>fulfillRequest</strong> button</li> <li>Confirming the transaction in MetaMask</li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-6.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Fulfill the randomness request using the random number generator contract in Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-6.webp"></a></p> <p>Once the request has been fulfilled, you can check the random number that was generated:</p> <ol> <li>Expand the <strong>random</strong> function</li> <li>Since the contract only requested one random word, you can get the random number by accessing the <code>0</code> index of the <code>random</code> array</li> <li>Click <strong>call</strong></li> <li>The random number will appear below the <strong>call</strong> button</li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-7.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Retrieve the random number that was generated by the random number contract in Remix." src="/images/builders/ethereum/precompiles/features/randomness/randomness-7.webp"></a></p> <p>Upon successful fulfillment, the excess fees and deposit will be sent to the address specified as the refund address.</p> <p>If the request happened to expire before it could be fulfilled, you can interact with the Randomness Precompile directly to purge the request and unlock the deposit and fees. Please refer to the following section for instructions on how to do this.</p> <h2 id="interact-directly">Use Remix to Interact Directly with the Randomness Precompile<a class="headerlink" href="#interact-directly" title="Permanent link">&para;</a></h2> <p>In addition to interacting with the randomness precompile via a smart contract, you can also interact with it directly in Remix to perform operations such as creating a randomness request, checking on the status of a request, and purging expired requests. Remember, you need to have a contract that inherits from the consumer contract in order to fulfill requests, as such if you fulfill a request using the precompile directly there will be no way to consume the results.</p> <h3 id="remix-set-up">Remix Set Up<a class="headerlink" href="#remix-set-up" title="Permanent link">&para;</a></h3> <p>To add the interfaces to Remix and follow along with this section of the tutorial, you will need to:</p> <ol> <li>Get a copy of <a href="https://github.com/moonbeam-foundation/moonbeam/blob/master/precompiles/randomness/Randomness.sol" target="_blank"><code>Randomness.sol</code></a></li> <li>Paste the file contents into a Remix file named <strong>Randomness.sol</strong></li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-8.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Add precompile to Remix" src="/images/builders/ethereum/precompiles/features/randomness/randomness-8.webp"></a></p> <h3 id="compile-randomness">Compile &amp; Access the Randomness Precompile<a class="headerlink" href="#compile-randomness" title="Permanent link">&para;</a></h3> <p>Next, you will need to compile the <code>Randomness.sol</code> file in Remix. To get started, make sure you have the <strong>Randomness.sol</strong> file open and take the following steps:</p> <ol> <li>Click on the <strong>Compile</strong> tab, second from top</li> <li>To compile the contract, click on <strong>Compile Randomness.sol</strong></li> </ol> <p>If the contract was compiled successfully, you will see a green checkmark next to the <strong>Compile</strong> tab.</p> <p>Instead of deploying the randomness precompile, you will access the interface given the address of the precompiled contract:</p> <ol> <li>Click on the <strong>Deploy and Run</strong> tab directly below the <strong>Compile</strong> tab in Remix. Please note the precompiled contract is already deployed</li> <li>Make sure <strong>Injected Provider - Metamask</strong> is selected in the <strong>ENVIRONMENT</strong> dropdown. Once selected, you might be prompted by MetaMask to connect your account to Remix</li> <li>Make sure the correct account is displayed under <strong>ACCOUNT</strong></li> <li>Ensure <strong>Randomness - Randomness.sol</strong> is selected in the <strong>CONTRACT</strong> dropdown. Since this is a precompiled contract, there is no need to deploy any code. Instead we are going to provide the address of the precompile in the <strong>At Address</strong> Field</li> <li>Provide the address of the batch precompile: <code>0x0000000000000000000000000000000000000809</code> and click <strong>At Address</strong></li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-9.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Access the address" src="/images/builders/ethereum/precompiles/features/randomness/randomness-9.webp"></a></p> <p>The <strong>RANDOMNESS</strong> precompile will appear in the list of <strong>Deployed Contracts</strong>. You will use this to fulfill the randomness request made from the lottery contract later on in this tutorial.</p> <h3 id="get-request-status-and-purge">Get Request Status &amp; Purge Expired Request<a class="headerlink" href="#get-request-status-and-purge" title="Permanent link">&para;</a></h3> <p>Anyone can purge expired requests. You do not need to be the one who requested the randomness to be able to purge it. When you purge an expired request, the request fees will be transferred to you, and the deposit for the request will be returned to the original requester.</p> <p>To purge a request, first you have to make sure that the request has expired. To do so, you can verify the status of a request using the <code>getRequestStatus</code> function of the precompile. The number that is returned from this call corresponds to the index of the value in the <a href="#enums"><code>RequestStatus</code></a> enum. As a result, you'll want to verify the number returned is <code>3</code> for <code>Expired</code>.</p> <p>Once you've verified that the request is expired, you can call the <code>purgeExpiredRequest</code> function to purge the request.</p> <p>To verify and purge a request, you can take the following steps:</p> <ol> <li>Expand the <strong>RANDOMNESS</strong> contract</li> <li>Enter the request ID of the request you want to verify has expired and click on <strong>getRequestStatus</strong></li> <li>The response will appear just underneath the function. Verify that you received a <code>3</code></li> <li>Expand the <strong>purgeExpiredRequest</strong> function and enter the request ID</li> <li>Click on <strong>transact</strong></li> <li>MetaMask will pop-up and you can confirm the transaction</li> </ol> <p><a class="glightbox" href="/images/builders/ethereum/precompiles/features/randomness/randomness-10.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Purge an exired request" src="/images/builders/ethereum/precompiles/features/randomness/randomness-10.webp"></a></p> <p>Once the transaction goes through, you can verify the request has been purged by calling the <strong>getRequestStatus</strong> function again with the same request ID. You should receive a status of <code>0</code>, or <code>DoesNotExist</code>. You can also expect the amount of the request fees to be transferred to your account.</p> <div class="md-source-file"> <small> <span class="source-file-label">Updated:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 2, 2025 15:14:44">September 2, 2025</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">Created:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 12, 2022 15:15:13">August 12, 2022</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="Title"> <a href="../governance/referenda/" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <span class="md-footer__page-name"> Referenda </span> </div> </a> <a href="../staking/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <span class="md-footer__page-name"> Staking Functions </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI-Compatible Docs </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">Llms txt</a> <a class="llms-link" href="/llms-full.txt">Llms full txt</a> <a class="llms-link" href="../../../../../ai-resources/ai-resources/">Llms by topic</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> Made with 🩵 by <a href="https://papermoon.io/" target="_blank">PaperMoon</a> </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">Terms of use</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">Privacy policy</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> Left section logo <div class="cookie-logo"> <img src="../../../../../assets/images/Moonbeam_Icon_White.webp" alt="Moonbeam logo for cookie consent"> </div> Center section title and description <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> Manage settings toggle <input class="md-toggle" type="checkbox" id="__settings"> Consent settings <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> Right section buttons <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">Accept</button> <label class="md-button" for="__settings">Manage settings</label> <button type="reset" class="md-button md-button--secondary">Reject</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"annotate": null, "base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.prune", "content.code.copy", "announce.dismiss", "content.action.edit"], "search": "../../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../../../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../../../../../js/connectMetaMask.js"></script> <script src="../../../../../js/errorModal.js"></script> <script src="../../../../../js/networkModal.js"></script> <script src="../../../../../js/lang-toggle.js"></script> <script src="../../../../../js/fixCreatedDate.js"></script> <script src="../../../../../js/externalLinkModal.js"></script> <script src="../../../../../js/cookbookInit.js"></script> <script src="../../../../../js/clipboardCopyllms.js"></script> <script src="../../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "Copied"
              ) {
                copiedToClipboardMessage.textContent =
                  "Copied";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>