<!doctype html><html lang="zh" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Moonbeam 和 Moonriver 中的历史更新概述，例如应用于 Moonbeam 源代码的迁移和错误修复。"><link rel="canonical" href="https://docs.moonbeam.network/zh/builders/build/historical-updates/"><link rel="prev" href="../../get-started/explorers/"><link rel="next" href="../runtime-upgrades/"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>历史更新 | Moonbeam Docs</title><link rel="stylesheet" href="../../../../assets/stylesheets/main.342714a4.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"zh": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#_1" class="md-skip"> 跳转至 </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="标题"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="标签" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../">构建者</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="快速入门" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">快速入门</span> <p class="dropdown-desc">开始构建所需的一切</p> </div> </a> </li> <li class="md-tab__item"> <a href="./"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/build.webp" alt="构建" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">构建</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../ethereum/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="以太坊工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊工具包</span> <p class="dropdown-desc">Ethereum 库、工具和合约</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../substrate/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate 工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate 工具包</span> <p class="dropdown-desc">Substrate 库、工具和底层接口</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../interoperability/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="互操作性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">互操作性</span> <p class="dropdown-desc">用于跨链开发的 GMP 协议</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">要集成的工具和协议</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../node-operators/">节点运营商</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="网络" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">网络</span> <p class="dropdown-desc">运行完整节点、追踪节点或收集人节点</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../tokens/">代币</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="连接" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">连接</span> <p class="dropdown-desc">将您的钱包连接到 Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="管理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">管理</span> <p class="dropdown-desc">高级帐户和身份服务</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="质押" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">质押</span> <p class="dropdown-desc">通过委托给收集人来质押代币</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="治理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">治理</span> <p class="dropdown-desc">提交和投票参与链上提案</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../learn/">学习</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="核心概念" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">核心概念</span> <p class="dropdown-desc">了解 Moonbeam 的基础知识</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="特性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">特性</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp 目录" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp 目录</span> <p class="dropdown-desc">浏览 DApp 目录和列表流程</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../tutorials/">教程</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="以太坊 API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊 API</span> <p class="dropdown-desc">从入门到专业的智能合约教程</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">通过无缝集成教程深入了解</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="选择当前语言"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">中文</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="./" hreflang="zh" role="menuitem" aria-label="Chinese" class="is-active"> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="../../../../builders/build/historical-updates/" hreflang="en" role="menuitem" aria-label="English" class> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> 连接钱包 </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> 水龙头 </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="搜索"> <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> 正在初始化搜索引擎 </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../" title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../" class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">构建者</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../get-started/">快速入门</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../get-started/quick-start/" class="md-nav__link"> 快速开始 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../get-started/networks/">网络</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../get-started/networks/moonbeam-dev/" class="md-nav__link"> 本地 Moonbeam 开发节点 </a> </li> <li class="md-nav__item"> <a href="../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../get-started/endpoints/" class="md-nav__link"> 网络 RPC 端点 </a> </li> <li class="md-nav__item"> <a href="../../get-started/explorers/" class="md-nav__link"> 区块浏览器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked> <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0"> 构建 <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> 历史更新 <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> 历史更新 </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#bugs" class="md-nav__link"> <span class="md-ellipsis"> Bugs </span> </a> <nav class="md-nav" aria-label="Bugs"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#invalid-transactions-stored" class="md-nav__link"> <span class="md-ellipsis"> 存储的无效交易 </span> </a> </li> <li class="md-nav__item"> <a href="#ethereum-fees-to-treasury" class="md-nav__link"> <span class="md-ellipsis"> 以太坊费用未发送至国库 </span> </a> </li> <li class="md-nav__item"> <a href="#missing-refunds" class="md-nav__link"> <span class="md-ellipsis"> 缺少退款 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-collator-selection" class="md-nav__link"> <span class="md-ellipsis"> 不正确的整理人选择 </span> </a> </li> <li class="md-nav__item"> <a href="#new-account-event" class="md-nav__link"> <span class="md-ellipsis"> 新账户事件错误 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-timestamp-units" class="md-nav__link"> <span class="md-ellipsis"> 不正确的时间戳单位 </span> </a> </li> <li class="md-nav__item"> <a href="#substrate-tips" class="md-nav__link"> <span class="md-ellipsis"> Substrate 小费缺失 Treasury 分配 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-delegation-reward-calculation" class="md-nav__link"> <span class="md-ellipsis"> 错误的委托奖励计算 </span> </a> </li> <li class="md-nav__item"> <a href="#block-parent-hash-calculated-incorrectly" class="md-nav__link"> <span class="md-ellipsis"> 区块父哈希计算不正确 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-gas-fees-eip1559" class="md-nav__link"> <span class="md-ellipsis"> EIP-1559 Gas 费的错误处理 </span> </a> </li> <li class="md-nav__item"> <a href="#transaction-fees-paid-to-collators" class="md-nav__link"> <span class="md-ellipsis"> 支付给收集人的交易费用 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-state-root-hash" class="md-nav__link"> <span class="md-ellipsis"> 错误的 State Root Hash </span> </a> </li> <li class="md-nav__item"> <a href="#ethereum-transactions-duplicated-in-storage" class="md-nav__link"> <span class="md-ellipsis"> Ethereum 交易在儲存中重複 </span> </a> </li> <li class="md-nav__item"> <a href="#gas-limit-too-high-for-non-transactional-calls" class="md-nav__link"> <span class="md-ellipsis"> 非事务性调用的 Gas Limit 过高 </span> </a> </li> <li class="md-nav__item"> <a href="#remote-evm-calls-return-identical-tx-hashes" class="md-nav__link"> <span class="md-ellipsis"> 远程 EVM 调用返回相同的交易哈希 </span> </a> </li> <li class="md-nav__item"> <a href="#gas-estimation-discrepancy" class="md-nav__link"> <span class="md-ellipsis"> Gas 估计差异 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-effective-gas-price" class="md-nav__link"> <span class="md-ellipsis"> 交易回执中不正确的有效 Gas 价格 </span> </a> </li> <li class="md-nav__item"> <a href="#skipped-ethereum-transaction-traces" class="md-nav__link"> <span class="md-ellipsis"> 跳过的以太坊交易追踪 </span> </a> </li> <li class="md-nav__item"> <a href="#notify-inactive-collator-fails" class="md-nav__link"> <span class="md-ellipsis"> 长时间不活跃的整理人通知失败问题 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#github-pr" class="md-nav__link"> <span class="md-ellipsis"> 有关更多信息，您可以查看 GitHub 上的相关 PR。 </span> </a> </li> <li class="md-nav__item"> <a href="#migrations" class="md-nav__link"> <span class="md-ellipsis"> 迁移 </span> </a> <nav class="md-nav" aria-label="迁移"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#author-mapping" class="md-nav__link"> <span class="md-ellipsis"> 作者映射 Pallet </span> </a> <nav class="md-nav" aria-label="作者映射 Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-mapping-storage-item" class="md-nav__link"> <span class="md-ellipsis"> 更新映射存储项 </span> </a> </li> <li class="md-nav__item"> <a href="#add-support-for-vrf-keys" class="md-nav__link"> <span class="md-ellipsis"> 添加对 VRF 密钥的支持 </span> </a> </li> <li class="md-nav__item"> <a href="#one-nimbus-id-per-account-id" class="md-nav__link"> <span class="md-ellipsis"> 每个账户 ID 对应一个 Nimbus ID </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#base-fee" class="md-nav__link"> <span class="md-ellipsis"> 基本费用 Pallet </span> </a> <nav class="md-nav" aria-label="基本费用 Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#set-elasticity" class="md-nav__link"> <span class="md-ellipsis"> 设置弹性存储项值 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#democracy" class="md-nav__link"> <span class="md-ellipsis"> Democracy Pallet </span> </a> <nav class="md-nav" aria-label="Democracy Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#preimage-preimage-pallet" class="md-nav__link"> <span class="md-ellipsis"> Preimage 存储已移至新的 Preimage Pallet </span> </a> </li> <li class="md-nav__item"> <a href="#remove-gov-v1-collectives" class="md-nav__link"> <span class="md-ellipsis"> 移除 Governance V1 集體 </span> </a> </li> <li class="md-nav__item"> <a href="#remove-gov-v1-collectives" class="md-nav__link"> <span class="md-ellipsis"> 移除 Governance V1 Democracy Pallet </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#evm-pallet" class="md-nav__link"> <span class="md-ellipsis"> EVM Pallet </span> </a> <nav class="md-nav" aria-label="EVM Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#evm" class="md-nav__link"> <span class="md-ellipsis"> EVM 合约元数据 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#moonbeam-orbiter" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam Orbiter Pallet </span> </a> <nav class="md-nav" aria-label="Moonbeam Orbiter Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#remove-orbiter-minimum-bond" class="md-nav__link"> <span class="md-ellipsis"> 移除 Orbiter Collator 的最低保证金要求 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#parachain-staking" class="md-nav__link"> <span class="md-ellipsis"> Parachain Staking Pallet </span> </a> <nav class="md-nav" aria-label="Parachain Staking Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-collator-state-storage-item" class="md-nav__link"> <span class="md-ellipsis"> 更新整理人状态存储项目 </span> </a> </li> <li class="md-nav__item"> <a href="#patch-total-staked-amount" class="md-nav__link"> <span class="md-ellipsis"> 修复总质押金额 </span> </a> </li> <li class="md-nav__item"> <a href="#support-delayed-nominator-exits" class="md-nav__link"> <span class="md-ellipsis"> 支持延迟提名人 (Delegator) 退出 </span> </a> </li> <li class="md-nav__item"> <a href="#purge-staking-storage-bloat" class="md-nav__link"> <span class="md-ellipsis"> 清除 Staking 存储膨胀 </span> </a> </li> <li class="md-nav__item"> <a href="#support-manual-exits-dpos-terminology" class="md-nav__link"> <span class="md-ellipsis"> 支持手动退出和 DPoS 术语 </span> </a> </li> <li class="md-nav__item"> <a href="#increase-max-delegations-per-candidate" class="md-nav__link"> <span class="md-ellipsis"> 增加每个候选人的最大委托数 </span> </a> </li> <li class="md-nav__item"> <a href="#split-candidate-delegations-top-bottom" class="md-nav__link"> <span class="md-ellipsis"> 将候选人委托拆分为顶部和底部 </span> </a> </li> <li class="md-nav__item"> <a href="#patch-incorrect-total-delegations" class="md-nav__link"> <span class="md-ellipsis"> 修复不正确的总委托数 </span> </a> </li> <li class="md-nav__item"> <a href="#split-delegator-state" class="md-nav__link"> <span class="md-ellipsis"> 将委托人状态拆分为委托计划请求 </span> </a> </li> <li class="md-nav__item"> <a href="#replace-staking-reserves" class="md-nav__link"> <span class="md-ellipsis"> 使用锁仓替换质押预留 </span> </a> </li> <li class="md-nav__item"> <a href="#auto-compounding-support" class="md-nav__link"> <span class="md-ellipsis"> 自动复利支持 </span> </a> </li> <li class="md-nav__item"> <a href="#block-based-staking-rounds" class="md-nav__link"> <span class="md-ellipsis"> 切换到基于区块的抵押轮次 </span> </a> </li> <li class="md-nav__item"> <a href="#renaming-of-parachain-bond-reserve-events" class="md-nav__link"> <span class="md-ellipsis"> 重命名平行链 Bond 储备事件 </span> </a> </li> <li class="md-nav__item"> <a href="#parachainstaking-currency-to-fungible" class="md-nav__link"> <span class="md-ellipsis"> ParachainStaking：货币 → 同质化代币迁移 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#referenda-pallet" class="md-nav__link"> <span class="md-ellipsis"> Referenda Pallet </span> </a> <nav class="md-nav" aria-label="Referenda Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#refunds-for-submission-deposits" class="md-nav__link"> <span class="md-ellipsis"> 提交保证金退款 </span> </a> </li> <li class="md-nav__item"> <a href="#referenda" class="md-nav__link"> <span class="md-ellipsis"> 恢复损坏的 Referenda 保证金 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-related-pallets" class="md-nav__link"> <span class="md-ellipsis"> XCM 相关 Pallets </span> </a> <nav class="md-nav" aria-label="XCM 相关 Pallets"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-transaction-info" class="md-nav__link"> <span class="md-ellipsis"> 更新交易信息存储项 </span> </a> </li> <li class="md-nav__item"> <a href="#add-support-statemine-prefix" class="md-nav__link"> <span class="md-ellipsis"> 添加对 Kusama Asset Hub (Statemine) 前缀重大更改的支持 </span> </a> </li> <li class="md-nav__item"> <a href="#add-supported-fee-payment-assets" class="md-nav__link"> <span class="md-ellipsis"> 添加新支持的费用支付资产存储项目 </span> </a> </li> <li class="md-nav__item"> <a href="#update-xcm-transactor" class="md-nav__link"> <span class="md-ellipsis"> 将 XCM 交易器存储从 V2 更新到 V3 </span> </a> </li> <li class="md-nav__item"> <a href="#remove-local-assets" class="md-nav__link"> <span class="md-ellipsis"> 删除可铸造的 XC-20 </span> </a> </li> <li class="md-nav__item"> <a href="#foreign-assets-migration" class="md-nav__link"> <span class="md-ellipsis"> 通过智能合约管理外部资产 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#nimbus" class="md-nav__link"> <span class="md-ellipsis"> Nimbus 作者过滤器托盘 </span> </a> <nav class="md-nav" aria-label="Nimbus 作者过滤器托盘"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#replace-eligible-ratio" class="md-nav__link"> <span class="md-ellipsis"> 将合格率替换为合格计数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../runtime-upgrades/" class="md-nav__link"> 运行时升级 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/">以太坊工具包</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/canonical-contracts/" class="md-nav__link"> 规范合约 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/">预编译合约</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/account/">账户管理</a> <label for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/account/identity/" class="md-nav__link"> 身份 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/account/proxy/" class="md-nav__link"> 代理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/ux/">用户体验</a> <label for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/ux/batch/" class="md-nav__link"> 批量 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/ux/call-permit/" class="md-nav__link"> 调用许可 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/ux/erc20/" class="md-nav__link"> 原生代币 ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/features/">网络特性</a> <label for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/features/governance/">Governance</a> <label for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_4_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/features/staking/" class="md-nav__link"> 质押功能 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/interoperability/">互操作性</a> <label for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X 代币 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM 接口 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM 转账器 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/precompiles/utility/">实用工具</a> <label for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/precompiles/utility/eth-mainnet/" class="md-nav__link"> 以太坊原生 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/utility/registry/" class="md-nav__link"> 预编译注册表 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/utility/relay-data-verifier/" class="md-nav__link"> 中继数据验证器 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/precompiles/utility/non-specific/" class="md-nav__link"> 非网络特定 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/libraries/">库</a> <label for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../ethereum/libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../ethereum/libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/dev-env/">开发环境</a> <label for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../ethereum/dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../ethereum/dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../ethereum/dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/verify-contracts/">验证合约</a> <label for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/verify-contracts/block-explorers/" class="md-nav__link"> 区块浏览器 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan 插件 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/verify-contracts/api-verification/" class="md-nav__link"> 基于 API 的验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../ethereum/json-rpc/">JSON-RPC 接口</a> <label for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../ethereum/json-rpc/eth-rpc/" class="md-nav__link"> 标准以太坊 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/json-rpc/debug-trace/" class="md-nav__link"> 非标准以太坊: 追踪 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/json-rpc/pubsub/" class="md-nav__link"> 非标准以太坊: 发布订阅 </a> </li> <li class="md-nav__item"> <a href="../../ethereum/json-rpc/moonbeam-custom-api/" class="md-nav__link"> 自定义 Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../substrate/">Substrate 工具包</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../substrate/libraries/">库</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../substrate/libraries/polkadot-js-api/" class="md-nav__link"> Polkadot.js API </a> </li> <li class="md-nav__item"> <a href="../../substrate/libraries/py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../../substrate/libraries/sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../substrate/dev-env/">开发环境</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../substrate/dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/">互操作性</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/">XCM 互操作性</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/core-concepts/">核心概念</a> <label for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/core-concepts/instructions/" class="md-nav__link"> XCM 指令 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/core-concepts/multilocations/" class="md-nav__link"> 多位置 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/core-concepts/weights-fees/" class="md-nav__link"> 权重和费用 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/core-concepts/sovereign-accounts/" class="md-nav__link"> 主权账户 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/xc-registration/">XC 注册</a> <label for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc-registration/forum-templates/" class="md-nav__link"> 论坛模板 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc-registration/xc-integration/" class="md-nav__link"> XC 通道注册 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc-registration/assets/" class="md-nav__link"> 通过治理的 XC 资产注册 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc-registration/self-serve-asset-registration/" class="md-nav__link"> 自助资产注册 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/xc20/">XC-20s</a> <label for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/interact/" class="md-nav__link"> 与 XC-20s 交互 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/xc20/send-xc20s/">发送 XC-20s</a> <label for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_5_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/send-xc20s/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/send-xc20s/xcm-pallet/" class="md-nav__link"> 使用 Substrate API：Polkadot XCM Pallet </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> 使用 Ethereum API：X-Tokens Precompile </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> 使用 Ethereum API：XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/remote-execution/">远程执行</a> <label for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/remote-execution/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/remote-execution/computed-origins/" class="md-nav__link"> 计算来源账户 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/xcm/remote-execution/substrate-calls/">远程 Substrate 调用</a> <label for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_6_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" class="md-nav__link"> 使用 Substrate API </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> 使用以太坊 API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/remote-execution/remote-evm-calls/" class="md-nav__link"> 远程 EVM 调用 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/send-execute-xcm/" class="md-nav__link"> 发送、执行和测试 XCM </a> </li> <li class="md-nav__item"> <a href="../../interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../interoperability/protocols/">跨链协议</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../interoperability/protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../interoperability/protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../interoperability/protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../interoperability/protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../interoperability/mrl/" class="md-nav__link"> Moonbeam 路由流动性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../integrations/">集成</a> <label for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../integrations/indexers/">索引器</a> <label for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../integrations/oracles/">预言机</a> <label for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../node-operators/">节点运营商</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../node-operators/networks/">网络</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../node-operators/networks/run-a-node/">运行一个节点</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> 使用 Docker </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> 使用 Systemd </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> 标志 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/run-a-node/compile-binary/" class="md-nav__link"> 编译二进制文件 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/tracing-node/" class="md-nav__link"> 运行追踪节点 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../node-operators/networks/collators/">校对者</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/faq/" class="md-nav__link"> 常见问题 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/requirements/" class="md-nav__link"> 要求 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/account-management/" class="md-nav__link"> 账户管理 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> 作者映射预编译 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/activities/" class="md-nav__link"> 校对者活动 </a> </li> <li class="md-nav__item"> <a href="../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> 轨道器计划 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tokens/">代币</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tokens/connect/">连接</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js 应用 </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../tokens/connect/on-ramps/" class="md-nav__link"> 入金渠道 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tokens/manage/">管理</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tokens/manage/proxy-accounts/" class="md-nav__link"> 代理账户 </a> </li> <li class="md-nav__item"> <a href="../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../tokens/manage/identity/" class="md-nav__link"> 身份管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tokens/staking/">质押</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tokens/staking/stake/" class="md-nav__link"> 如何质押 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tokens/governance/">治理</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tokens/governance/proposals/" class="md-nav__link"> 提交民主提案 </a> </li> <li class="md-nav__item"> <a href="../../../tokens/governance/voting/" class="md-nav__link"> 对提案投票 </a> </li> <li class="md-nav__item"> <a href="../../../tokens/governance/treasury-spend/" class="md-nav__link"> 提交国库提案 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../learn/">学习</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../learn/core-concepts/">核心概念</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../learn/core-concepts/balances/" class="md-nav__link"> 账户余额 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/transfers-api/" class="md-nav__link"> 余额转账 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> 共识与最终性 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/tx-fees/" class="md-nav__link"> 交易费用 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> 统一账户 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/security/" class="md-nav__link"> 安全注意事项 </a> </li> <li class="md-nav__item"> <a href="../../../learn/core-concepts/glossary/" class="md-nav__link"> 术语表 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../learn/features/">特性</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../learn/features/eth-compatibility/" class="md-nav__link"> 以太坊兼容性 </a> </li> <li class="md-nav__item"> <a href="../../../learn/features/governance/" class="md-nav__link"> 治理 </a> </li> <li class="md-nav__item"> <a href="../../../learn/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../learn/features/staking/" class="md-nav__link"> 质押 </a> </li> <li class="md-nav__item"> <a href="../../../learn/features/treasury/" class="md-nav__link"> 国库 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../learn/dapp-directory/" class="md-nav__link"> DApp 目录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tutorials/">教程</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tutorials/eth-api/">以太坊 API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] 使用 Tenderly 调试和模拟交易 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../tutorials/integrations/">集成</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../tutorials/integrations/0xgasless/" class="md-nav__link"> 启用无 Gas 交易 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#bugs" class="md-nav__link"> <span class="md-ellipsis"> Bugs </span> </a> <nav class="md-nav" aria-label="Bugs"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#invalid-transactions-stored" class="md-nav__link"> <span class="md-ellipsis"> 存储的无效交易 </span> </a> </li> <li class="md-nav__item"> <a href="#ethereum-fees-to-treasury" class="md-nav__link"> <span class="md-ellipsis"> 以太坊费用未发送至国库 </span> </a> </li> <li class="md-nav__item"> <a href="#missing-refunds" class="md-nav__link"> <span class="md-ellipsis"> 缺少退款 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-collator-selection" class="md-nav__link"> <span class="md-ellipsis"> 不正确的整理人选择 </span> </a> </li> <li class="md-nav__item"> <a href="#new-account-event" class="md-nav__link"> <span class="md-ellipsis"> 新账户事件错误 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-timestamp-units" class="md-nav__link"> <span class="md-ellipsis"> 不正确的时间戳单位 </span> </a> </li> <li class="md-nav__item"> <a href="#substrate-tips" class="md-nav__link"> <span class="md-ellipsis"> Substrate 小费缺失 Treasury 分配 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-delegation-reward-calculation" class="md-nav__link"> <span class="md-ellipsis"> 错误的委托奖励计算 </span> </a> </li> <li class="md-nav__item"> <a href="#block-parent-hash-calculated-incorrectly" class="md-nav__link"> <span class="md-ellipsis"> 区块父哈希计算不正确 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-gas-fees-eip1559" class="md-nav__link"> <span class="md-ellipsis"> EIP-1559 Gas 费的错误处理 </span> </a> </li> <li class="md-nav__item"> <a href="#transaction-fees-paid-to-collators" class="md-nav__link"> <span class="md-ellipsis"> 支付给收集人的交易费用 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-state-root-hash" class="md-nav__link"> <span class="md-ellipsis"> 错误的 State Root Hash </span> </a> </li> <li class="md-nav__item"> <a href="#ethereum-transactions-duplicated-in-storage" class="md-nav__link"> <span class="md-ellipsis"> Ethereum 交易在儲存中重複 </span> </a> </li> <li class="md-nav__item"> <a href="#gas-limit-too-high-for-non-transactional-calls" class="md-nav__link"> <span class="md-ellipsis"> 非事务性调用的 Gas Limit 过高 </span> </a> </li> <li class="md-nav__item"> <a href="#remote-evm-calls-return-identical-tx-hashes" class="md-nav__link"> <span class="md-ellipsis"> 远程 EVM 调用返回相同的交易哈希 </span> </a> </li> <li class="md-nav__item"> <a href="#gas-estimation-discrepancy" class="md-nav__link"> <span class="md-ellipsis"> Gas 估计差异 </span> </a> </li> <li class="md-nav__item"> <a href="#incorrect-effective-gas-price" class="md-nav__link"> <span class="md-ellipsis"> 交易回执中不正确的有效 Gas 价格 </span> </a> </li> <li class="md-nav__item"> <a href="#skipped-ethereum-transaction-traces" class="md-nav__link"> <span class="md-ellipsis"> 跳过的以太坊交易追踪 </span> </a> </li> <li class="md-nav__item"> <a href="#notify-inactive-collator-fails" class="md-nav__link"> <span class="md-ellipsis"> 长时间不活跃的整理人通知失败问题 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#github-pr" class="md-nav__link"> <span class="md-ellipsis"> 有关更多信息，您可以查看 GitHub 上的相关 PR。 </span> </a> </li> <li class="md-nav__item"> <a href="#migrations" class="md-nav__link"> <span class="md-ellipsis"> 迁移 </span> </a> <nav class="md-nav" aria-label="迁移"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#author-mapping" class="md-nav__link"> <span class="md-ellipsis"> 作者映射 Pallet </span> </a> <nav class="md-nav" aria-label="作者映射 Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-mapping-storage-item" class="md-nav__link"> <span class="md-ellipsis"> 更新映射存储项 </span> </a> </li> <li class="md-nav__item"> <a href="#add-support-for-vrf-keys" class="md-nav__link"> <span class="md-ellipsis"> 添加对 VRF 密钥的支持 </span> </a> </li> <li class="md-nav__item"> <a href="#one-nimbus-id-per-account-id" class="md-nav__link"> <span class="md-ellipsis"> 每个账户 ID 对应一个 Nimbus ID </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#base-fee" class="md-nav__link"> <span class="md-ellipsis"> 基本费用 Pallet </span> </a> <nav class="md-nav" aria-label="基本费用 Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#set-elasticity" class="md-nav__link"> <span class="md-ellipsis"> 设置弹性存储项值 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#democracy" class="md-nav__link"> <span class="md-ellipsis"> Democracy Pallet </span> </a> <nav class="md-nav" aria-label="Democracy Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#preimage-preimage-pallet" class="md-nav__link"> <span class="md-ellipsis"> Preimage 存储已移至新的 Preimage Pallet </span> </a> </li> <li class="md-nav__item"> <a href="#remove-gov-v1-collectives" class="md-nav__link"> <span class="md-ellipsis"> 移除 Governance V1 集體 </span> </a> </li> <li class="md-nav__item"> <a href="#remove-gov-v1-collectives" class="md-nav__link"> <span class="md-ellipsis"> 移除 Governance V1 Democracy Pallet </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#evm-pallet" class="md-nav__link"> <span class="md-ellipsis"> EVM Pallet </span> </a> <nav class="md-nav" aria-label="EVM Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#evm" class="md-nav__link"> <span class="md-ellipsis"> EVM 合约元数据 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#moonbeam-orbiter" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam Orbiter Pallet </span> </a> <nav class="md-nav" aria-label="Moonbeam Orbiter Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#remove-orbiter-minimum-bond" class="md-nav__link"> <span class="md-ellipsis"> 移除 Orbiter Collator 的最低保证金要求 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#parachain-staking" class="md-nav__link"> <span class="md-ellipsis"> Parachain Staking Pallet </span> </a> <nav class="md-nav" aria-label="Parachain Staking Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-collator-state-storage-item" class="md-nav__link"> <span class="md-ellipsis"> 更新整理人状态存储项目 </span> </a> </li> <li class="md-nav__item"> <a href="#patch-total-staked-amount" class="md-nav__link"> <span class="md-ellipsis"> 修复总质押金额 </span> </a> </li> <li class="md-nav__item"> <a href="#support-delayed-nominator-exits" class="md-nav__link"> <span class="md-ellipsis"> 支持延迟提名人 (Delegator) 退出 </span> </a> </li> <li class="md-nav__item"> <a href="#purge-staking-storage-bloat" class="md-nav__link"> <span class="md-ellipsis"> 清除 Staking 存储膨胀 </span> </a> </li> <li class="md-nav__item"> <a href="#support-manual-exits-dpos-terminology" class="md-nav__link"> <span class="md-ellipsis"> 支持手动退出和 DPoS 术语 </span> </a> </li> <li class="md-nav__item"> <a href="#increase-max-delegations-per-candidate" class="md-nav__link"> <span class="md-ellipsis"> 增加每个候选人的最大委托数 </span> </a> </li> <li class="md-nav__item"> <a href="#split-candidate-delegations-top-bottom" class="md-nav__link"> <span class="md-ellipsis"> 将候选人委托拆分为顶部和底部 </span> </a> </li> <li class="md-nav__item"> <a href="#patch-incorrect-total-delegations" class="md-nav__link"> <span class="md-ellipsis"> 修复不正确的总委托数 </span> </a> </li> <li class="md-nav__item"> <a href="#split-delegator-state" class="md-nav__link"> <span class="md-ellipsis"> 将委托人状态拆分为委托计划请求 </span> </a> </li> <li class="md-nav__item"> <a href="#replace-staking-reserves" class="md-nav__link"> <span class="md-ellipsis"> 使用锁仓替换质押预留 </span> </a> </li> <li class="md-nav__item"> <a href="#auto-compounding-support" class="md-nav__link"> <span class="md-ellipsis"> 自动复利支持 </span> </a> </li> <li class="md-nav__item"> <a href="#block-based-staking-rounds" class="md-nav__link"> <span class="md-ellipsis"> 切换到基于区块的抵押轮次 </span> </a> </li> <li class="md-nav__item"> <a href="#renaming-of-parachain-bond-reserve-events" class="md-nav__link"> <span class="md-ellipsis"> 重命名平行链 Bond 储备事件 </span> </a> </li> <li class="md-nav__item"> <a href="#parachainstaking-currency-to-fungible" class="md-nav__link"> <span class="md-ellipsis"> ParachainStaking：货币 → 同质化代币迁移 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#referenda-pallet" class="md-nav__link"> <span class="md-ellipsis"> Referenda Pallet </span> </a> <nav class="md-nav" aria-label="Referenda Pallet"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#refunds-for-submission-deposits" class="md-nav__link"> <span class="md-ellipsis"> 提交保证金退款 </span> </a> </li> <li class="md-nav__item"> <a href="#referenda" class="md-nav__link"> <span class="md-ellipsis"> 恢复损坏的 Referenda 保证金 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-related-pallets" class="md-nav__link"> <span class="md-ellipsis"> XCM 相关 Pallets </span> </a> <nav class="md-nav" aria-label="XCM 相关 Pallets"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#update-transaction-info" class="md-nav__link"> <span class="md-ellipsis"> 更新交易信息存储项 </span> </a> </li> <li class="md-nav__item"> <a href="#add-support-statemine-prefix" class="md-nav__link"> <span class="md-ellipsis"> 添加对 Kusama Asset Hub (Statemine) 前缀重大更改的支持 </span> </a> </li> <li class="md-nav__item"> <a href="#add-supported-fee-payment-assets" class="md-nav__link"> <span class="md-ellipsis"> 添加新支持的费用支付资产存储项目 </span> </a> </li> <li class="md-nav__item"> <a href="#update-xcm-transactor" class="md-nav__link"> <span class="md-ellipsis"> 将 XCM 交易器存储从 V2 更新到 V3 </span> </a> </li> <li class="md-nav__item"> <a href="#remove-local-assets" class="md-nav__link"> <span class="md-ellipsis"> 删除可铸造的 XC-20 </span> </a> </li> <li class="md-nav__item"> <a href="#foreign-assets-migration" class="md-nav__link"> <span class="md-ellipsis"> 通过智能合约管理外部资产 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#nimbus" class="md-nav__link"> <span class="md-ellipsis"> Nimbus 作者过滤器托盘 </span> </a> <nav class="md-nav" aria-label="Nimbus 作者过滤器托盘"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#replace-eligible-ratio" class="md-nav__link"> <span class="md-ellipsis"> 将合格率替换为合格计数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> 这个页面有帮助吗？ </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> 感谢您的反馈！ </div> <div data-md-value="0" hidden> 感谢您的反馈！请提交 <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+%E5%8E%86%E5%8F%B2%E6%9B%B4%E6%96%B0+-+/zh/builders/build/historical-updates/" target="_blank" rel="noopener">更多反馈</a> 来帮助我们改进。 </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/zh/builders/build/historical-updates.md" title="编辑" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> 编辑 </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="_1">历史更新<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1> <h2 id="introduction">简介<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p>本页面概述了 Moonbeam 和 Moonriver 上的历史更新，例如 Moonbeam 源代码的错误修复和应用的数据迁移。</p> <p>本页面旨在提供与需要强制数据迁移的更新相关的意外行为或数据不一致的信息。</p> <h2 id="bugs">Bugs<a class="headerlink" href="#bugs" title="Permanent link">&para;</a></h2> <h4 id="invalid-transactions-stored">存储的无效交易<a class="headerlink" href="#invalid-transactions-stored" title="Permanent link">&para;</a></h4> <p>对于交易成本无法支付的无效交易，EVM pallet 将交易元数据插入到存储中，而不是丢弃它，因为没有交易成本验证。因此，运行时存储不必要地因无效交易数据而膨胀。</p> <p>此错误仅影响 Moonriver 和 Moonbase Alpha，并且存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT600</td> <td style="text-align: center;">0 - 455106</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT600</td> <td style="text-align: center;">0 - 675175</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/polkadot-evm/frontier/pull/465" target="_blank">GitHub 上的相关 Frontier PR</a>。</p> <hr> <h4 id="ethereum-fees-to-treasury">以太坊费用未发送至国库<a class="headerlink" href="#ethereum-fees-to-treasury" title="Permanent link">&para;</a></h4> <p>在 Runtime 3401 之前和<a href="https://forum.moonbeam.network/t/proposal-mb101-burn-100-of-transaction-fees-on-moonbeam/2022" target="_blank">MB101</a> 通过之前，Moonbeam 交易费用模型规定将 20% 的费用分配给链上国库，80% 作为通货紧缩力量销毁。但是，在 runtime 800 之前，以太坊交易未正确地将 20% 的交易费用分配给链上国库。</p> <p>此错误仅影响 Moonriver 和 Moonbase Alpha，并存在于以下运行时和区块范围中：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT800</td> <td style="text-align: center;">0 - 684728</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT800</td> <td style="text-align: center;">0 - 915684</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/732" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="missing-refunds">缺少退款<a class="headerlink" href="#missing-refunds" title="Permanent link">&para;</a></h4> <p>Moonbeam 配置为将存在性存款设置为 0，这意味着帐户不需要最低余额即可被视为有效。对于具有此配置的基于 Substrate 的链，由于帐户被解释为不存在，因此某些清除帐户的退款丢失了。</p> <p>此错误存在于以下运行时和区块范围：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT900</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">0 - 5164</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">0 - 1052241</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">0 - 1285915</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看<a href="https://github.com/polkadot-evm/frontier/pull/509" target="_blank">相关的 Frontier PR</a>和 GitHub 上的<a href="https://github.com/paritytech/substrate/issues/10117" target="_blank">相关 Substrate PR</a>。</p> <hr> <h4 id="incorrect-collator-selection">不正确的整理人选择<a class="headerlink" href="#incorrect-collator-selection" title="Permanent link">&para;</a></h4> <p>当通过 <code>delegatorBondMore</code> extrinsic 增加委托时，整理人候选人的总委托未正确更新。这导致增加的委托金额未包含在候选人的总绑定金额中，而总绑定金额用于确定哪些候选人在整理人的活动集中。因此，一些候选人可能未被选择进入活动集中，尽管他们本应被选中，这影响了他们自己及其委托人的奖励。</p> <p>此错误存在于以下运行时和区块范围中：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT900</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">0 - 524762</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">0 - 1541735</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">0 - 1761128</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1291" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="new-account-event">新账户事件错误<a class="headerlink" href="#new-account-event" title="Permanent link">&para;</a></h4> <p>当创建新账户时，会发出 <code>System.NewAccount</code> 事件。但是，一个错误阻止了在创建时为某些账户发出此事件。应用了一个热修复程序，该程序修补了受影响的帐户，并在稍后发出了 <code>System.NewAccount</code>。</p> <p>该热修复程序应用于以下区块范围：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;"><a href="https://moonbeam.subscan.io/extrinsic?module=evm&call=hotfix_inc_account_sufficients" target="_blank">1041355 - 1041358 和 1100752</a></td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;"><a href="https://moonriver.subscan.io/extrinsic?module=evm&call=hotfix_inc_account_sufficients" target="_blank">1835760 - 1835769</a></td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;"><a href="https://moonbase.subscan.io/extrinsic?address=&module=evm&call=hotfix_inc_account_sufficients" target="_blank">2097782 - 2097974</a></td> </tr> </tbody> </table> <p>此错误存在于以下运行时和区块范围期间：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT900</td> <td style="text-align: center;">RT1401</td> <td style="text-align: center;">0 - 915320</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT1401</td> <td style="text-align: center;">0 - 1705939</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT1400</td> <td style="text-align: center;">0 - 1962557</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/frontier/pull/46/files" target="_blank">GitHub 上的相关 Frontier PR</a>。</p> <hr> <h4 id="incorrect-timestamp-units">不正确的时间戳单位<a class="headerlink" href="#incorrect-timestamp-units" title="Permanent link">&para;</a></h4> <p>EIP-2612 和以太坊区块处理的时间戳以秒为单位；但是，Moonbeam 实现的 Substrate 时间戳 pallet 使用的是毫秒。这只影响了 EIP-2612 的实现，而没有影响 <code>block.timestamp</code> 值。</p> <p>以下运行时和区块范围存在此错误：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">已修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT900</td> <td style="text-align: center;">RT1606</td> <td style="text-align: center;">0 - 1326697</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT1605</td> <td style="text-align: center;">0 - 2077598</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT1603</td> <td style="text-align: center;">0 - 2285346</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1451" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="substrate-tips">Substrate 小费缺失 Treasury 分配<a class="headerlink" href="#substrate-tips" title="Permanent link">&para;</a></h4> <p>基于 Substrate 的交易的小费没有得到正确的处理。因为小费没有在运行时代码中处理，导致整个小费部分都被销毁了。我们应用了一个修复方案，将 20% 的小费支付给 Treasury，80% 的小费被销毁，这与当时所有其他的费用行为一致。</p> <p>请注意，RT3401 引入了一个参数 pallet 费用配置，允许治理调整费用在 Treasury 和销毁之间的分配方式。在该运行时升级与 <a href="https://forum.moonbeam.network/t/proposal-mb101-burn-100-of-transaction-fees-on-moonbeam/2022" target="_blank">MB101</a> 通过后，Moonbeam 和 Moonriver 上的所有交易费用现在 100% 都会被销毁。</p> <p>此错误存在于以下运行时和区块范围中：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入版本</th> <th style="text-align: center;">修复版本</th> <th style="text-align: center;">影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT900</td> <td style="text-align: center;">RT2403</td> <td style="text-align: center;">0 - 4163078</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT49</td> <td style="text-align: center;">RT2401</td> <td style="text-align: center;">0 - 4668844</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT40</td> <td style="text-align: center;">RT2401</td> <td style="text-align: center;">0 - 4591616</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2291" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="incorrect-delegation-reward-calculation">错误的委托奖励计算<a class="headerlink" href="#incorrect-delegation-reward-calculation" title="Permanent link">&para;</a></h4> <p>每当有待处理的请求时，所有委托和整理者的奖励支出都被低估了。委托奖励是根据每个委托者绑定的代币数量与给定整理者的总股权相关的。通过计算待处理请求的委托数量，整理者及其委托的奖励低于应有的水平。</p> <p>此错误存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">Network</th> <th style="text-align: center;">Introduced</th> <th style="text-align: center;">Fixed</th> <th style="text-align: center;">Impacted Block Range</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">RT1802</td> <td style="text-align: center;">5165 - 1919457</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">RT1801</td> <td style="text-align: center;">1052242 - 2572555</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">RT1800</td> <td style="text-align: center;">1285916 - 2748785</td> </tr> </tbody> </table> <p>您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1719" target="_blank">GitHub 上的相关 PR</a> 以获取更多信息。</p> <hr> <h4 id="block-parent-hash-calculated-incorrectly">区块父哈希计算不正确<a class="headerlink" href="#block-parent-hash-calculated-incorrectly" title="Permanent link">&para;</a></h4> <p>在引入 EIP-1559 支持（包括过渡到新的以太坊交易类型）后，区块头的父哈希被错误地计算为 <code>H256::default</code>。</p> <p>此错误仅影响 Moonbase Alpha，并且仅影响以下区块：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">1648995</td> </tr> </tbody> </table> <p>虽然根本问题已在 RT1201 中修复，但错误的哈希已在 RT2601 中更正。</p> <p>有关根本修复的更多信息，您可以查看<a href="https://github.com/polkadot-evm/frontier/pull/570/" target="_blank">GitHub 上的相关 Frontier PR</a>。要查看父哈希的更正，请查看相应的 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2524" target="_blank">GitHub 上的 Moonbeam PR</a>。</p> <hr> <h4 id="incorrect-gas-fees-eip1559">EIP-1559 Gas 费的错误处理<a class="headerlink" href="#incorrect-gas-fees-eip1559" title="Permanent link">&para;</a></h4> <p>随着 EIP-1559 支持的引入，处理 <code>maxFeePerGas</code> 和 <code>maxPriorityFeePerGas</code> 的逻辑实现不正确。因此，即使总金额超过 <code>maxFeePerGas</code>，<code>maxPriorityFeePerGas</code> 也会被添加到 <code>baseFee</code> 中。</p> <p>此错误存在于以下运行时和区块范围中：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1401</td> <td style="text-align: center;">415946 - 915320</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1401</td> <td style="text-align: center;">1471037 - 1705939</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT1400</td> <td style="text-align: center;">1648994 - 1962557</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看<a href="https://github.com/moonbeam-foundation/frontier/pull/45" target="_blank">相关的 Frontier PR</a>。</p> <hr> <h4 id="transaction-fees-paid-to-collators">支付给收集人的交易费用<a class="headerlink" href="#transaction-fees-paid-to-collators" title="Permanent link">&para;</a></h4> <p>对于包含应用了优先级费用的 EIP-1559 交易的区块，交易费用的计算不正确，并分配给了区块的收集人。Moonbeam 上交易和智能合约执行的费用模型之前是这样处理的：20% 的费用进入链上财政库，80% 被销毁以作为通货紧缩的力量。由于此错误，受影响交易的交易费用未按预期销毁。</p> <p>请注意，RT3401 引入了一个参数 pallet 费用配置，允许治理调整费用在财政库和销毁之间如何分配。在此运行时升级与 <a href="https://forum.moonbeam.network/t/proposal-mb101-burn-100-of-transaction-fees-on-moonbeam/2022" target="_blank">MB101</a> 的通过相结合后，Moonbeam 和 Moonriver 上的所有交易费用现在 100% 都会被销毁。</p> <p>此错误存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">已修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1504</td> <td style="text-align: center;">415946 - 1117309</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1504</td> <td style="text-align: center;">1471037 - 1910639</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT1504</td> <td style="text-align: center;">1648994 - 2221772</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1528" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="incorrect-state-root-hash">错误的 State Root Hash<a class="headerlink" href="#incorrect-state-root-hash" title="Permanent link">&para;</a></h4> <p>由于未考虑交易类型字节，因此非旧式交易的 State Root Hash 计算错误。在支持 <a href="https://eips.ethereum.org/EIPS/eip-2930" target="_blank">EIP-2930</a> 和 <a href="https://eips.ethereum.org/EIPS/eip-1559" target="_blank">EIP-1559</a> 的情况下，引入的交易类型分别为 <code>0x01</code> (1) 和 <code>0x02</code> (2)。这些交易类型在 State Root Hash 的计算中被省略。</p> <p>此错误存在于以下运行时和区块范围中：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入时间</th> <th style="text-align: center;">修复时间</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">415946 - 1581456</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">1471037 - 2281722</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT1700</td> <td style="text-align: center;">1648994 - 2529735</td> </tr> </tbody> </table> <p>如需更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/frontier/pull/86" target="_blank">相关的 Frontier PR</a> 和 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1678/files" target="_blank">GitHub 上的 Moonbeam PR</a>。</p> <hr> <h4 id="ethereum-transactions-duplicated-in-storage">Ethereum 交易在儲存中重複<a class="headerlink" href="#ethereum-transactions-duplicated-in-storage" title="Permanent link">&para;</a></h4> <p>以太坊 Pallet 的 Frontier 中引入了一個上游錯誤，導致在運行時升級期間存在的待處理交易在兩個不同的區塊中儲存中重複。這僅影響到引入此錯誤的運行時升級之後的前兩個區塊。</p> <p>只有 Moonriver 和 Moonbase Alpha 受到了影響。此錯誤在以下運行時中引入，並影響了以下區塊：</p> <table> <thead> <tr> <th style="text-align: center;">網路</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">受影響的區塊</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1605</td> <td style="text-align: center;">2077599 和 2077600</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1603</td> <td style="text-align: center;">2285347 和 2285348</td> </tr> </tbody> </table> <p>以下交易被重複：</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Moonriver</label><label for="__tabbed_1_2">Moonbase Alpha</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code><span class="s1">&#39;0x2cceda1436e32ae3b3a2194a8cb5bc4188259600c714789bae1fedc0bbc5125f&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x3043660e35e89cafd7b0e0dce9636f5fcc218fce2a57d1104cf21aabbff9a1c0&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x514411fb5c08f7c5aa6c61c38f33edfa74ff7e160831f6140e8dd3783648dbca&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xf1647c357d8e1b05c522d11cff1f5090a4df114595d0f4b9e4ac5bb746473eea&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x4be94803fe7839d5ef13ddd2633a293b4a7dddbe526839c15c1646c72e7b0b23&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x15fceb009bd49692b598859f9146303ed4d8204b38e35c147fcdb18956679dbe&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xa7460d23d5c633feec3d8e8f4382240d9b71a0d770f7541c3c32504b5403b70c&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x1c838b4c4e7796a9db5edfd0377aee6e0d89b623bf1d7803f766f4cf71daefb9&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xfb233a893e62d717ed627585f14b1ee8b3e300ac4e2c3016eb63e546a60820f0&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xfaf8908838683ad51894eb3c68196afb99ba2e2bb698a40108960ee55417b56a&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xa53973acbeac9fe948015dcfad6e0cb28d91b93c8115347c178333e73fd332d3&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x9df769c96c5fdd505c67fee27eaff3714bf8f3d45a2afc02dd2984884b3cecac&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x8f912ae91b408f082026992a87060ed245dac6e382a84288bd38fc08dbac30fe&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xb22af459d24cb25bc53785bdd0ae6a573e24f226c94fd8d2e4663b87d3b07a88&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x8ab9cd2bde7d679f798528b0c75325787f5fc7997e00589445b35b3954a815aa&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xd08a1f82f4d3dc553b4b559925f997ef8bb85cb24cb4d0b893f017129fb33b78&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xa1d40bce7cc607c19ca4b37152b6d8d3a408e3de6b9789c5977fcdef7ef14d97&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xe442227634db10f5d0e8c1da09f8721c2a57267edbf97c4325c4f8432fd48ade&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x0b4f5d8338a7c2b1604c1c42e96b12dc2a9d5ab264eb74ff730354e9765de13f&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x0b00fc907701003aad75560d8b1a33cbf4b75f76c81d776b8b92d20e1d2e9d31&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x9c18bd783f28427d873970ff9deaf1549db2f9a76e3edd6bdeae11358e447ef4&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x8b2523f163989969dd0ebcac85d14805756bc0075b89da1274fd2c53ccaa396a&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x47e80a0c533265974a55ea62131814e31b10f42895709f7e531e3e7b69f1387c&#39;</span>
</code></pre></div> </div> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code><span class="s1">&#39;0x006a6843eb35ad35a9ea9a99affa8d81f1ed500253c98cc9c080d84171a0afb3&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x64c102f664eb435206ad4fcb49b526722176bcf74801c79473c3b5b2c281a243&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xf546335453b6e35ce7e236ee873c96ba3a22602b3acc4f45f5d68b33a76d79ca&#39;</span><span class="p">,</span>
<span class="s1">&#39;0x4ed713ccd474fc33d2022a802f064cc012e3e37cd22891d4a89c7ba3d776f2db&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xa5355f86844bb23fe666b10b509543fa377a9e324513eb221e0a2c926a64cae4&#39;</span><span class="p">,</span>
<span class="s1">&#39;0xc14791a3a392018fc3438f39cac1d572e8baadd4ed350e0355d1ca874a169e6a&#39;</span>
</code></pre></div> </div> </div> </div> <p>重複的交易屬於第一個區塊。 因此，在 Moonriver 上，交易屬於區塊 2077599，而在 Moonbase Alpha 上，受影響的交易屬於區塊 2285347。</p> <p>如需更多資訊，您可以查看 <a href="https://github.com/polkadot-evm/frontier/pull/638" target="_blank">GitHub 上的相關 Frontier PR</a>。</p> <hr> <h4 id="gas-limit-too-high-for-non-transactional-calls">非事务性调用的 Gas Limit 过高<a class="headerlink" href="#gas-limit-too-high-for-non-transactional-calls" title="Permanent link">&para;</a></h4> <p>当发出非事务性调用（例如 <code>eth_call</code> 或 <code>eth_estimateGas</code>）时，如果没有为过去的区块指定 gas limit，客户端将默认使用 gas limit 乘数 (10x)，这会导致 gas limit 验证失败，因为它正在根据区块 gas limit 的上限进行验证。因此，如果给定调用的 gas limit 大于区块 gas limit，则会返回 gas limit 过高的错误。</p> <p>此错误存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">Network</th> <th style="text-align: center;">Introduced</th> <th style="text-align: center;">Fixed</th> <th style="text-align: center;">Impacted Block Range</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">RT1802</td> <td style="text-align: center;">1581457 - 1919457</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">RT1802</td> <td style="text-align: center;">2281723 - 2616189</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1700</td> <td style="text-align: center;">RT1802</td> <td style="text-align: center;">2529736 - 2879402</td> </tr> </tbody> </table> <p>您可以查看 <a href="https://github.com/polkadot-evm/frontier/pull/935" target="_blank">GitHub 上的相关 Frontier PR</a> 以了解更多信息。</p> <hr> <h4 id="remote-evm-calls-return-identical-tx-hashes">远程 EVM 调用返回相同的交易哈希<a class="headerlink" href="#remote-evm-calls-return-identical-tx-hashes" title="Permanent link">&para;</a></h4> <p>当从具有相同交易负载和 nonce 的不同账户发送多个远程 EVM 调用时，每次调用都返回相同的交易哈希。这是因为远程 EVM 调用是从无密钥账户执行的，因此如果发送者都具有相同的 nonce 并且发送的是相同的交易对象，则在计算交易哈希时没有差异。通过向 Ethereum XCM Pallet 添加全局 nonce 解决了这个问题，该 pallet 使远程 EVM 调用成为可能。</p> <p>此错误仅在以下运行时和区块范围内的 Moonbase Alpha 上存在：</p> <table> <thead> <tr> <th style="text-align: center;">Network</th> <th style="text-align: center;">Introduced</th> <th style="text-align: center;">Fixed</th> <th style="text-align: center;">Impacted Block Range</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1700</td> <td style="text-align: center;">RT1900</td> <td style="text-align: center;">2529736 - 3069634</td> </tr> </tbody> </table> <p>您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1790" target="_blank">GitHub 上的相关 PR</a> 以获取更多信息。</p> <hr> <h4 id="gas-estimation-discrepancy">Gas 估计差异<a class="headerlink" href="#gas-estimation-discrepancy" title="Permanent link">&para;</a></h4> <p>在使用非交易调用（如 <code>eth_call</code>）估算交易的 Gas 与在链上执行交易之间存在差异。造成这种差异的原因是非交易调用没有正确计算 <code>maxFeePerGas</code> 和 <code>maxPriorityFeePerGas</code>，因此，Ethereum 交易消耗的（<a href="https://wiki.polkadot.com/general/glossary/#proof-of-validity" target="_blank">有效性证明</a>）的计算方式不同。通过在估算链上交易规模时正确计算这些字段，此问题已得到修复。</p> <p>此错误存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT2501</td> <td style="text-align: center;">415946 - 4543267</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT2500</td> <td style="text-align: center;">1471037 - 5175574</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT2500</td> <td style="text-align: center;">1648994 - 5053547</td> </tr> </tbody> </table> <p>您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1790/" target="_blank">GitHub 上的相关 PR</a> 以获取更多信息。</p> <hr> <h4 id="incorrect-effective-gas-price">交易回执中不正确的有效 Gas 价格<a class="headerlink" href="#incorrect-effective-gas-price" title="Permanent link">&para;</a></h4> <p>由于基本费计算不正确，<code>eth_getTransactionReceipt</code> 返回的 <code>effectiveGasPrice</code> 值与链上值不同。具体来说，交易回执的值是使用交易所在的区块中的 <code>NextFeeMultiplier</code> 计算的，而不是前一个区块，前一个区块是计算基本费的正确来源。</p> <p>此错误存在于以下运行时和区块范围内：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入</th> <th style="text-align: center;">修复</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">415946 - 5899847</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">1471037 - 6411588</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">1648994 - 6209638</td> </tr> </tbody> </table> <p>您可以查看 <a href="https://github.com/polkadot-evm/frontier/pull/1280" target="_blank">相关的 Frontier PR</a> 和 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2610" target="_blank">GitHub 上的 Moonbeam PR</a> 以获取更多信息。</p> <hr> <h4 id="skipped-ethereum-transaction-traces">跳过的以太坊交易追踪<a class="headerlink" href="#skipped-ethereum-transaction-traces" title="Permanent link">&para;</a></h4> <p>启用了 <code>evm-tracing</code> 功能的运行时引入了额外的 <code>ref_time</code> 开销，这是由于追踪以太坊交易的特殊逻辑（为每个组件发出事件：gasometer、runtime、EVM），用于填充 RPC 调用（如 <code>debug_traceTransaction</code> 和 <code>trace_filter</code>）的信息。</p> <p>由于生产运行时中的实际 <code>ref_time</code> 较小，这可能导致在 EVM 追踪运行时中重放区块时达到区块权重限制，从而导致跳过交易追踪。这在 Moonbeam 区块 <a href="https://moonbeam.subscan.io/block/9770044" target="_blank">9770044</a> 中观察到。</p> <p>修复方法是在追踪每个以太坊交易之前重置先前消耗的权重。重要的是要注意，此问题仅影响 <code>evm-tracing</code> 下的代码，该代码未包含在任何生产运行时中。</p> <p>此错误已在以下运行时中修复：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">已修复</th> <th style="text-align: center;">受影响的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT3501</td> <td style="text-align: center;">9770044</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/3210" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="notify-inactive-collator-fails">长时间不活跃的整理人通知失败问题<a class="headerlink" href="#notify-inactive-collator-fails" title="Permanent link">&para;</a></h4> <p><code>notifyInactiveCollator</code> 外部函数旨在将最近两轮没有生成任何区块的整理人从池中移除，但对于已长时间不活跃的整理人，该函数执行失败。该交易仅在新一轮的前几个区块中才会成功。</p> <p>以下运行时和区块范围内存在此错误：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">引入时间</th> <th style="text-align: center;">修复时间</th> <th style="text-align: center;">受影响的区块范围</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2601</td> <td style="text-align: center;">RT3500</td> <td style="text-align: center;">5474345 – 10750816</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2602</td> <td style="text-align: center;">RT3501</td> <td style="text-align: center;">5638536 – 10665393</td> </tr> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2602</td> <td style="text-align: center;">RT3501</td> <td style="text-align: center;">4977160 – 10056989</td> </tr> </tbody> </table> <h2 id="github-pr">有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/3128" target="_blank">GitHub 上的相关 PR</a>。<a class="headerlink" href="#github-pr" title="Permanent link">&para;</a></h2> <h2 id="migrations">迁移<a class="headerlink" href="#migrations" title="Permanent link">&para;</a></h2> <p>当存储项目更改或添加并且需要填充数据时，迁移是必需的。下面列出的迁移已按受影响的 pallet(s) 组织。</p> <h3 id="author-mapping">作者映射 Pallet<a class="headerlink" href="#author-mapping" title="Permanent link">&para;</a></h3> <h4 id="update-mapping-storage-item">更新映射存储项<a class="headerlink" href="#update-mapping-storage-item" title="Permanent link">&para;</a></h4> <p>此迁移更新了作者映射 pallet 中现已弃用的 <code>Mapping</code> 存储项，以使用更安全的哈希类型。哈希类型已更新为 <a href="https://paritytech.github.io/substrate/master/frame_support/struct.Blake2_128Concat.html" target="_blank">Blake2_128Concat</a> 而不是 <a href="https://paritytech.github.io/substrate/master/frame_support/struct.Twox64Concat.html" target="_blank">Twox64Concat</a>。</p> <p>此迁移仅应用于 Moonriver 和 Moonbase Alpha，并在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT800</td> <td style="text-align: center;">684728</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT800</td> <td style="text-align: center;">915684</td> </tr> </tbody> </table> <p>如需更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/679" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="add-support-for-vrf-keys">添加对 VRF 密钥的支持<a class="headerlink" href="#add-support-for-vrf-keys" title="Permanent link">&para;</a></h4> <p>当引入 VRF 密钥支持时，作者映射 pallet 的 <code>MappingWithDeposit</code> 存储项已更新，以包含 <code>keys</code> 字段，从而支持可以通过 Nimbus ID 查找的 VRF 密钥。应用了一项迁移，以使用此新字段更新现有存储项。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1107285</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1814458</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">2112058</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1407" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="one-nimbus-id-per-account-id">每个账户 ID 对应一个 Nimbus ID<a class="headerlink" href="#one-nimbus-id-per-account-id" title="Permanent link">&para;</a></h4> <p>已应用迁移，以确保一个账户 ID 只能拥有一个 Nimbus ID。此迁移接受了给定账户拥有的第一个 Nimbus ID，并清除了与该账户关联的任何其他 Nimbus ID。对于任何已清除的关联，都会退还该关联的保证金。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1606</td> <td style="text-align: center;">1326697</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1605</td> <td style="text-align: center;">2077599</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1603</td> <td style="text-align: center;">2285347</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1525" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h3 id="base-fee">基本费用 Pallet<a class="headerlink" href="#base-fee" title="Permanent link">&para;</a></h3> <h4 id="set-elasticity">设置弹性存储项值<a class="headerlink" href="#set-elasticity" title="Permanent link">&para;</a></h4> <p>此迁移将基本费用 pallet 的 <code>Elasticity</code> 存储项设置为零，从而产生恒定的 <code>BaseFeePerGas</code>。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: left;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1300</td> <td style="text-align: left;">524762</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1300</td> <td style="text-align: left;">1541735</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1300</td> <td style="text-align: left;">1761128</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1744" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h3 id="democracy">Democracy Pallet<a class="headerlink" href="#democracy" title="Permanent link">&para;</a></h3> <h4 id="preimage-preimage-pallet">Preimage 存储已移至新的 Preimage Pallet<a class="headerlink" href="#preimage-preimage-pallet" title="Permanent link">&para;</a></h4> <p>已应用迁移，该迁移将存储在 democracy pallet 中的 preimage 移动到新的 preimage pallet。由于 <a href="https://github.com/paritytech/substrate/pull/11649/" target="_blank">Polkadot 的上游更改</a>，因此需要在 Moonbeam 上进行此迁移。</p> <p>Moonbeam 中有一个 preimage 受到了影响，该 preimage 从调度队列中删除且从未执行：<code>0x14262a42aa6ccb3cae0a169b939ca5b185bc317bb7c449ca1741a0600008d306</code>。此 preimage 已由最初提交该 preimage 的帐户<a href="https://moonbeam.subscan.io/extrinsic/2693398-8" target="_blank">手动删除</a>。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2000</td> <td style="text-align: center;">3310369</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2000</td> <td style="text-align: center;">3202604</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2000</td> <td style="text-align: center;">2673234</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1962" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="remove-gov-v1-collectives">移除 Governance V1 集體<a class="headerlink" href="#remove-gov-v1-collectives" title="Permanent link">&para;</a></h4> <p>已應用遷移來移除 governance V1 集體，其中包括理事會和技術委員會。 governance V1 集體已替換為 OpenGov (governance V2) 技術委員會。</p> <p>此遷移在以下運行時和區塊中執行：</p> <table> <thead> <tr> <th style="text-align: center;">網路</th> <th style="text-align: center;">執行的運行時</th> <th style="text-align: center;">應用的區塊</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">5899847</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6411588</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6209638</td> </tr> </tbody> </table> <p>如需更多資訊，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2643" target="_blank">GitHub 上的相關 PR</a>。</p> <p>需要進行後續遷移，以正確清除與 governance V1 集體關聯的存儲條目，該遷移在以下運行時和區塊中執行：</p> <table> <thead> <tr> <th style="text-align: center;">網路</th> <th style="text-align: center;">執行的運行時</th> <th style="text-align: center;">應用的區塊</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6197065</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6699589</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6710531</td> </tr> </tbody> </table> <p>如需更多資訊，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2711" target="_blank">GitHub 上的相關 PR</a>。</p> <hr> <h4 id="remove-gov-v1-collectives">移除 Governance V1 Democracy Pallet<a class="headerlink" href="#remove-gov-v1-collectives" title="Permanent link">&para;</a></h4> <p>已应用迁移来删除与 governance V1 中使用的 Democracy Pallet 关联的存储。Democracy Pallet 已被 Preimage、Referenda 和 Collective Voting OpenGov (governance V2) 托盘取代。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6197065</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6699589</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2901</td> <td style="text-align: center;">6710531</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2685" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h3 evm-pallet="evm-pallet" id="evm-pallet">EVM Pallet<a class="headerlink" href="#evm-pallet" title="Permanent link">&para;</a></h3> <h4 id="evm">EVM 合约元数据<a class="headerlink" href="#evm" title="Permanent link">&para;</a></h4> <p>引入了一项迁移，以自动执行为两年前部署的合约设置 EVM 合约元数据的手动过程，这些合约在引入元数据存储项后未进行交互。此迁移取代了在这些合约上手动调用 <code>createContractMetadata(address)</code> 以使其与当前运行时兼容的需求。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">Network</th> <th style="text-align: center;">Executed Runtime</th> <th style="text-align: center;">Block Applied</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT3200</td> <td style="text-align: center;">7985204</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT3200</td> <td style="text-align: center;">8519187</td> </tr> </tbody> </table> <hr> <h3 id="moonbeam-orbiter">Moonbeam Orbiter Pallet<a class="headerlink" href="#moonbeam-orbiter" title="Permanent link">&para;</a></h3> <h4 id="remove-orbiter-minimum-bond">移除 Orbiter Collator 的最低保证金要求<a class="headerlink" href="#remove-orbiter-minimum-bond" title="Permanent link">&para;</a></h4> <p>已将一个迁移应用到 Moonbeam Orbiter Pallet，该迁移将现有 orbiter collator 的保证金设置为零。此更改使未来的 orbiter 计划扩展能够实现均匀的支出。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2602</td> <td style="text-align: center;">4977160</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2602</td> <td style="text-align: center;">5638536</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2601</td> <td style="text-align: center;">5474345</td> </tr> </tbody> </table> <p>如需了解更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2526" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h3 id="parachain-staking">Parachain Staking Pallet<a class="headerlink" href="#parachain-staking" title="Permanent link">&para;</a></h3> <h4 id="update-collator-state-storage-item">更新整理人状态存储项目<a class="headerlink" href="#update-collator-state-storage-item" title="Permanent link">&para;</a></h4> <p>已应用一项迁移，该迁移将平行链质押 pallet 的 <code>Collator</code> 存储项目更新为新的 <code>Collator2</code> 存储项目。此更改更新了整理人状态，以包括以下项目：</p> <ul> <li><code>nominators</code> 集是所有提名人（委托人）帐户 ID 的列表，不包括其各自的绑定余额</li> <li>新的 <code>top_nominators</code> 存储项目，返回所有顶级提名人的列表，按最大绑定金额到最小排序</li> <li>新的 <code>bottom_nominators</code> 存储项目，返回所有底部提名人的列表，按最小绑定金额到最大排序</li> <li><code>total</code> 存储项目已替换为 <code>total_counted</code> 和 <code>total_backing</code>。<code>total_counted</code> 项目返回顶级提名和整理人自绑定之和，而 <code>total_backing</code> 项目返回所有提名和整理人自绑定之和</li> </ul> <p>此迁移仅应用于 Moonriver 和 Moonbase Alpha，并在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT53</td> <td style="text-align: center;">9696</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT52</td> <td style="text-align: center;">238827</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/505" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="patch-total-staked-amount">修复总质押金额<a class="headerlink" href="#patch-total-staked-amount" title="Permanent link">&para;</a></h4> <p>由于一个潜在的错误可能导致金额不正确，因此对平行链 Staking Pallet 中 <code>CollatorState</code> 存储项的 <code>total</code> 质押金额应用了一项迁移。</p> <p>此迁移仅应用于 Moonriver 和 Moonbase Alpha，并在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT53</td> <td style="text-align: center;">9696</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT52</td> <td style="text-align: center;">238827</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/502" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="support-delayed-nominator-exits">支持延迟提名人 (Delegator) 退出<a class="headerlink" href="#support-delayed-nominator-exits" title="Permanent link">&para;</a></h4> <p>用于处理候选人退出的退出队列已更新，包括支持延迟提名人（委托人）退出和撤销，这需要迁移以将 <code>ExitQueue</code> 平行链质押 pallet 存储项更新为 <code>ExitQueue2</code>。<code>NominatorState</code> 存储项也已迁移到 <code>NominatorState2</code>，以防止提名人在已经安排退出时执行更多提名。</p> <p>这些迁移仅应用于 Moonriver 和 Moonbase Alpha，并在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT200</td> <td style="text-align: center;">259002</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT200</td> <td style="text-align: center;">457614</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/610" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="purge-staking-storage-bloat">清除 Staking 存储膨胀<a class="headerlink" href="#purge-staking-storage-bloat" title="Permanent link">&para;</a></h4> <p>已应用迁移来清除平行链 Staking 托盘的 <code>Points</code> 和 <code>AtStake</code> 存储项中超过两轮的 Staking 存储膨胀。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">5165</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">1052242</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">1285916</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/970" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="support-manual-exits-dpos-terminology">支持手动退出和 DPoS 术语<a class="headerlink" href="#support-manual-exits-dpos-terminology" title="Permanent link">&para;</a></h4> <p>Parachain 质押 pallet 已更新，包含手动退出。如果候选人或委托人想要减少或撤销他们的保证金或者离开候选人或委托人池，他们需要先安排一个请求，等待一段延迟期过去，然后手动执行请求。因此，应用了一个迁移来替换自动退出队列，包括 <code>ExitQueue2</code> 存储项，并使用手动退出 API。</p> <p>此外，还进行了一项更改，将提名权益证明 (NPoS) 切换为委托权益证明 (DPoS) 术语；这标志着从“提名”到“委托”的全面更改。这需要迁移以下 parachain 质押 pallet 存储项：</p> <ul> <li><code>CollatorState2</code> 迁移到 <code>CandidateState</code></li> <li><code>NominatorState2</code> 迁移到 <code>DelegatorState</code></li> </ul> <p>这些迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">5165</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">1052242</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1001</td> <td style="text-align: center;">1285916</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/810" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="increase-max-delegations-per-candidate">增加每个候选人的最大委托数<a class="headerlink" href="#increase-max-delegations-per-candidate" title="Permanent link">&para;</a></h4> <p>已应用迁移来增加平行链质押 pallet 中每个候选人的最大委托数。它将 Moonbase Alpha 和 Moonriver 上的委托数从 100 增加到 500，并将 Moonbeam 上的委托数从 100 增加到 1000。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1101</td> <td style="text-align: center;">171061</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1101</td> <td style="text-align: center;">1188000</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1100</td> <td style="text-align: center;">1426319</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1096" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="split-candidate-delegations-top-bottom">将候选人委托拆分为顶部和底部<a class="headerlink" href="#split-candidate-delegations-top-bottom" title="Permanent link">&para;</a></h4> <p>此迁移将平行链质押 pallet 中已弃用的 <code>CandidateState</code> 存储项拆分为以下三个新的存储项，以避免不必要的存储读取：</p> <ul> <li><code>CandidateInfo</code></li> <li><code>TopDelegations</code></li> <li><code>BottomDelegations</code></li> </ul> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">415946</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">1471037</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">1648994</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1117" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="patch-incorrect-total-delegations">修复不正确的总委托数<a class="headerlink" href="#patch-incorrect-total-delegations" title="Permanent link">&para;</a></h4> <p>已应用迁移来修复<a href="#incorrect-collator-selection">不正确的排序器选择</a>错误并修复所有候选人的委托总数。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">524762</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">1541735</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">1761128</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1291" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="split-delegator-state">将委托人状态拆分为委托计划请求<a class="headerlink" href="#split-delegator-state" title="Permanent link">&para;</a></h4> <p>已应用一项迁移，该迁移将待处理的委托人请求从平行链质押 pallet 的 <code>DelegatorState</code> 存储项移动到新的 <code>DelegationScheduledRequests</code> 存储项中。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1107285</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1814458</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">2112058</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1408" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="replace-staking-reserves">使用锁仓替换质押预留<a class="headerlink" href="#replace-staking-reserves" title="Permanent link">&para;</a></h4> <p>已应用一项迁移，将用户的质押预留余额更改为锁仓余额。锁仓余额与 democracy 锁定的资金类型相同，允许用户使用其质押的资金参与 democracy。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">1581457</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1701</td> <td style="text-align: center;">2281723</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1700</td> <td style="text-align: center;">2529736</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1604" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="auto-compounding-support">自动复利支持<a class="headerlink" href="#auto-compounding-support" title="Permanent link">&para;</a></h4> <p>为了支持自动复利，对平行链质押 pallet 中的 <code>AtStake</code> 存储项目应用了两个迁移：</p> <ul> <li><code>RemovePaidRoundsFromAtStake</code> - 用于删除与未产生任何区块的候选轮次已支付的轮次相关的任何陈旧的 <code>AtStake</code> 条目。此迁移是 <code>MigrateAtStakeAutoCompound</code> 迁移的先决条件</li> <li><code>MigrateAtStakeAutoCompound</code> - 迁移 <code>AtStake</code> 条目的未支付轮次的快照</li> </ul> <p>这些迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1901</td> <td style="text-align: center;">2317683</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1901</td> <td style="text-align: center;">2911863</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1900</td> <td style="text-align: center;">3069635</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1878" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="block-based-staking-rounds">切换到基于区块的抵押轮次<a class="headerlink" href="#block-based-staking-rounds" title="Permanent link">&para;</a></h4> <p>已应用迁移，以从基于时间的抵押轮次切换到固定的基于区块的轮次。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">5899847</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6411588</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6209638</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2690" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="renaming-of-parachain-bond-reserve-events">重命名平行链 Bond 储备事件<a class="headerlink" href="#renaming-of-parachain-bond-reserve-events" title="Permanent link">&para;</a></h4> <p>在 Runtime 3300 之前，每个回合都会发出一次 <code>ReservedForParachainBond</code> 事件，以指示通过通货膨胀为平行链 Bond 储备金提供资金。在 Runtime 3300 中，此同一事件已重命名为 <code>InflationDistributed</code>。</p> <p>此更改在以下运行时和区块中生效：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT3300</td> <td style="text-align: center;">8381443</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT3300</td> <td style="text-align: center;">8894417</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT3300</td> <td style="text-align: center;">9062316</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2976" target="_blank">GitHub 上的相关 PR</a>。</p> <h4 id="parachainstaking-currency-to-fungible">ParachainStaking：货币 → 同质化代币迁移<a class="headerlink" href="#parachainstaking-currency-to-fungible" title="Permanent link">&para;</a></h4> <p>已应用迁移，将 <code>ParachainStaking</code> pallet 从已弃用的 Currency 特征迁移到现代 Fungible 特征。在操作上，staking“锁”已替换为余额“冻结”：先前使用标识符 [<code>stkngcol</code>, <code>stkngdel</code>]读取 <code>Balances.Locks</code> 的查询现在必须使用冻结原因 [<code>StakingCollator</code>, <code>StakingDelegator</code>]读取 <code>Balances.Freezes</code>。<code>System.Account</code> 中显示的冻结余额在此迁移中未更改。</p> <p>此迁移在以下运行时和区块上执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT4000</td> <td style="text-align: center;">-</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT4000</td> <td style="text-align: center;">-</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT4000</td> <td style="text-align: center;">14191989</td> </tr> </tbody> </table> <hr> <h3 id="referenda-pallet">Referenda Pallet<a class="headerlink" href="#referenda-pallet" title="Permanent link">&para;</a></h3> <h4 id="refunds-for-submission-deposits">提交保证金退款<a class="headerlink" href="#refunds-for-submission-deposits" title="Permanent link">&para;</a></h4> <p>引入了一项迁移，以支持对已关闭的全民投票的提交保证金进行退款，该全民投票更新了 <code>ReferendumInfo</code> 类型。<code>ReferendumInfo</code> 的以下不变性已更改，以便第二个参数 <code>Deposit&lt;AccountId, Balance&gt;</code> 现在是可选的 <code>Option&lt;Deposit&lt;AccountId, Balance&gt;&gt;</code>：<code>Approved</code>、<code>Rejected</code>、<code>Cancelled</code> 和 <code>TimedOut</code>。</p> <p>这源于对 <a href="https://github.com/paritytech/substrate/pull/12788" target="_blank">Substrate</a> 存储库的上游更改。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2302</td> <td style="text-align: center;">3456477</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2302</td> <td style="text-align: center;">4133065</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2301</td> <td style="text-align: center;">4172407</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2134" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="referenda" restore-corrupted-referenda-deposits="restore-corrupted-referenda-deposits">恢复损坏的 Referenda 保证金<a class="headerlink" href="#referenda" title="Permanent link">&para;</a></h4> <p>引入了一项迁移，以支持恢复受损坏存储值影响的 referenda 保证金。当由于 pallet 版本错误而导致迁移应用两次时，就会出现此问题，从而导致无效值和不可退还的提交保证金。由于要更正的值的数量是有限且较小的，因此此迁移创建了一个列表以手动更新它们。</p> <p>此迁移仅应用于 Moonbeam，并在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT3100</td> <td style="text-align: center;">7303601</td> </tr> </tbody> </table> <h3 id="xcm-related-pallets">XCM 相关 Pallets<a class="headerlink" href="#xcm-related-pallets" title="Permanent link">&para;</a></h3> <h4 id="update-transaction-info">更新交易信息存储项<a class="headerlink" href="#update-transaction-info" title="Permanent link">&para;</a></h4> <p>XCM 交易器 Pallet 的 <code>TransactInfo</code> 存储项已应用迁移，更改了以下项目：</p> <ul> <li>添加了 <code>max_weight</code>，以防止交易人在目标链中阻塞队列</li> <li>删除了 <code>fee_per_byte</code>、<code>metadata_size</code> 和 <code>base_weight</code>，因为这些项目对于 XCM 交易不是必需的</li> <li><code>fee_per_second</code> 替换了 <code>fee_per_weight</code>，以更好地反映 <code>fee_per_weight</code> 单位低于 1 的情况（如 Kusama）</li> </ul> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">415946</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">1471037</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">1648994</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1114" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="add-support-statemine-prefix">添加对 Kusama Asset Hub (Statemine) 前缀重大更改的支持<a class="headerlink" href="#add-support-statemine-prefix" title="Permanent link">&para;</a></h4> <p>资产管理器 pallet 中添加了以下三个迁移，以避免 Kusama Asset Hub（之前称为 Statemine）<a href="https://github.com/paritytech/cumulus/pull/831" target="_blank">对其资产表示方式的重大更改</a> 以及未来可能发生的重大更改导致的问题：</p> <ul> <li><code>UnitsWithAssetType</code> - 将 <code>AssetTypeUnitsPerSecond</code> 存储项目更新为 <code>AssetType</code> 到 <code>units_per_second</code> 的映射，而不是 <code>AssetId</code> 到 <code>units_per_second</code> 的映射。这样做是为了避免在发生重大更改时进行额外的迁移</li> <li><code>PopulateAssetTypeIdStorage</code> - 创建一个新的 <code>AssetTypeId</code> 存储项目，该项目保存 <code>AssetType</code> 到 <code>AssetId</code> 的映射，从而可以将 <code>assetIds</code> 和 <code>AssetTypes</code> 解耦</li> <li><code>ChangeStateminePrefixes</code> - 将已注册的 Kusama Asset Hub (Statemine) 资产更新为其新形式</li> </ul> <p>这些迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">Network</th> <th style="text-align: center;">Executed Runtime</th> <th style="text-align: center;">Block Applied</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">415946</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1201</td> <td style="text-align: center;">1471037</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1200</td> <td style="text-align: center;">1648994</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1159" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="add-supported-fee-payment-assets">添加新支持的费用支付资产存储项目<a class="headerlink" href="#add-supported-fee-payment-assets" title="Permanent link">&para;</a></h4> <p>已将迁移应用到资产管理器 pallet，通过从 <code>AssetTypeUnitsPerSecond</code> 存储项目中读取支持的资产数据来创建新的 <code>SupportedFeePaymentAssets</code> 存储项目。此存储项目将保存我们接受的所有用于 XCM 费用支付的资产。当收到传入的 XCM 消息时，将读取该存储项目，如果资产不在存储中，则不会处理该消息。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">524762</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">1541735</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1300</td> <td style="text-align: center;">1761128</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1118" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="update-xcm-transactor">将 XCM 交易器存储从 V2 更新到 V3<a class="headerlink" href="#update-xcm-transactor" title="Permanent link">&para;</a></h4> <p>在 XCM V3 的支持下，应用了一个迁移来更新 XCM 交易器 pallet 的存储，从 XCM V2 更新到 V3。<code>transactInfoWithWeightLimit</code> 和 <code>destinationAssetFeePerSecond</code> 存储项已更新，以支持 XCM V3 多重定位。</p> <p>此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2302</td> <td style="text-align: center;">3456477</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2302</td> <td style="text-align: center;">4133065</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2301</td> <td style="text-align: center;">4172407</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2145" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="remove-local-assets">删除可铸造的 XC-20<a class="headerlink" href="#remove-local-assets" title="Permanent link">&para;</a></h4> <p>可铸造的 XC-20 已被弃用，转而支持启用 XCM 的 ERC-20；因此，应用了一个迁移来删除本地资产 pallet 并清除存储中的资产。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">5899847</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6411588</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT2801</td> <td style="text-align: center;">6209638</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/2634" target="_blank">GitHub 上的相关 PR</a>。</p> <hr> <h4 id="foreign-assets-migration">通过智能合约管理外部资产<a class="headerlink" href="#foreign-assets-migration" title="Permanent link">&para;</a></h4> <p>已应用迁移，将现有外部资产转换为新设计，该设计通过 EVM 智能合约在 Moonbeam 上管理 XCM 衍生资产，而不是之前使用资产和资产管理器 Pallet 的实现。迁移过程涉及 Moonbeam Lazy Migration Pallet 中的几个 extrinsic：</p> <ul> <li><strong><code>approve_assets_to_migrate</code></strong> - 设置批准迁移的资产 ID 列表</li> <li><strong><code>start_foreign_asset_migration</code></strong> - 通过冻结原始资产并创建新的 EVM 智能合约来启动特定外部资产的迁移</li> <li><strong><code>migrate_foreign_asset_balances</code></strong> - 将资产余额分批从旧资产 Pallet 迁移到新系统</li> <li><strong><code>migrate_foreign_asset_approvals</code></strong> - 在取消预留旧批准系统的存款时，分批迁移资产批准</li> <li><strong><code>finish_foreign_asset_migration</code></strong> - 在迁移所有余额和批准后完成迁移，并执行最终清理</li> </ul> <p>此迁移通过使用与之前相同的 AssetID 整数识别每个外部资产，从而保持与现有外部资产的兼容性。此迁移在以下运行时和区块中执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行运行时</th> <th style="text-align: center;">应用区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT3501</td> <td style="text-align: center;">10056989</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT3501</td> <td style="text-align: center;">10665393</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT3500</td> <td style="text-align: center;">10750816</td> </tr> </tbody> </table> <p>有关更多信息，您可以在 GitHub 上查看相关的 PR：<a href="https://github.com/moonbeam-foundation/moonbeam/pull/2869" target="_blank">2869</a> 和 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/3020" target="_blank">3020</a>。</p> <hr> <h3 id="nimbus">Nimbus 作者过滤器托盘<a class="headerlink" href="#nimbus" title="Permanent link">&para;</a></h3> <h4 id="replace-eligible-ratio">将合格率替换为合格计数<a class="headerlink" href="#replace-eligible-ratio" title="Permanent link">&para;</a></h4> <p>Nimbus 存储库应用了一项重大更改，弃用了 <code>EligibleRatio</code>，转而使用 <code>EligibleCount</code> 配置。因此，在 Moonbeam 存储库上应用了迁移，如果存在 <code>EligibleRatio</code> 值，则将新的 <code>EligibleCount</code> 值填充为在该区块高度定义的潜在作者的百分比。否则，该值将设置为默认值 <code>50</code>。</p> <p>此迁移在以下运行时和区块执行：</p> <table> <thead> <tr> <th style="text-align: center;">网络</th> <th style="text-align: center;">执行的运行时</th> <th style="text-align: center;">应用的区块</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Moonbeam</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1107285</td> </tr> <tr> <td style="text-align: center;">Moonriver</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">1814458</td> </tr> <tr> <td style="text-align: center;">Moonbase Alpha</td> <td style="text-align: center;">RT1502</td> <td style="text-align: center;">2112058</td> </tr> </tbody> </table> <p>有关更多信息，您可以查看<a href="https://github.com/moonbeam-foundation/nimbus/pull/45" target="_blank">相关的 Nimbus PR</a> 和 <a href="https://github.com/moonbeam-foundation/moonbeam/pull/1400" target="_blank">GitHub 上的 Moonbeam PR</a>。</p> <div class="md-source-file"> <small> <span class="source-file-label">更新时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月15日 02:51:30">2026年1月15日</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">创建时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月15日 02:51:30">2026年1月15日</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="标题"> <a href="../../get-started/explorers/" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> 上一个 </span> <span class="md-footer__page-name"> 区块浏览器 </span> </div> </a> <a href="../runtime-upgrades/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> 下一个 </span> <span class="md-footer__page-name"> 运行时升级 </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI 兼容文档 </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">法学硕士文本</a> <a class="llms-link" href="/llms-full.txt">法学硕士全文</a> <a class="llms-link" href="../../../../ai-resources/ai-resources/">按主题分类的法学硕士</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> 由 <a href="https://papermoon.io/" target="_blank">PaperMoon</a> with 🩵 制作 </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">使用条款</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">隐私政策</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> 左侧区域徽标 <div class="cookie-logo"> <img src="../../../../assets/images/Moonbeam_Icon_White.webp" alt="用于 Cookie 同意的 Moonbeam 徽标"> </div> 中心区域标题和描述 <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> 管理设置切换 <input class="md-toggle" type="checkbox" id="__settings"> 同意设置 <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> 右侧区域按钮 <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">同意</button> <label class="md-button" for="__settings">管理设定</label> <button type="reset" class="md-button md-button--secondary">拒绝</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"base":"../../../","features":["navigation.tabs","navigation.tabs.sticky","navigation.sections","navigation.indexes","navigation.prune","content.code.copy","announce.dismiss","content.action.edit"],"search":"../../../../assets/javascripts/workers/search.d50fe291.min.js","tags":null,"translations":{"clipboard.copied":"\u5df2\u590d\u5236","clipboard.copy":"\u590d\u5236","search.result.more.one":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.more.other":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.none":"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.one":"\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.other":"# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.placeholder":"\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22","search.result.term.missing":"\u7f3a\u5c11","select.version":"\u9009\u62e9\u5f53\u524d\u7248\u672c"},"version":null}</script> <script src="../../../../assets/javascripts/bundle.56ea9cef.min.js"></script> <script src="../../../../js/connectMetaMask.js"></script> <script src="../../../../js/errorModal.js"></script> <script src="../../../../js/networkModal.js"></script> <script src="../../../../js/lang-toggle.js"></script> <script src="../../../../js/fixCreatedDate.js"></script> <script src="../../../../js/externalLinkModal.js"></script> <script src="../../../../js/cookbookInit.js"></script> <script src="../../../../js/clipboardCopyllms.js"></script> <script src="../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "已复制"
              ) {
                copiedToClipboardMessage.textContent =
                  "已复制";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>