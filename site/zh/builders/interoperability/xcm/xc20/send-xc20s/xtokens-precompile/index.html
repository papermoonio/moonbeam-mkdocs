<!doctype html><html lang="zh" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="了解如何使用 X-Tokens 预编译和熟悉的以太坊库（如 Ethers 和 Web3），通过跨共识消息传递 (XCM) 跨链发送资产。"><link rel="canonical" href="https://docs.moonbeam.network/zh/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/"><link rel="prev" href="../xcm-pallet/"><link rel="next" href="../eth-api/"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>将 XC-20 发送到其他链 | Moonbeam Docs</title><link rel="stylesheet" href="../../../../../../../assets/stylesheets/main.342714a4.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"zh": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#x-tokens-xc-20s" class="md-skip"> 跳转至 </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="标题"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="标签" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../">构建者</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="快速入门" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">快速入门</span> <p class="dropdown-desc">开始构建所需的一切</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../build/historical-updates/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/build.webp" alt="构建" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">构建</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../ethereum/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="以太坊工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊工具包</span> <p class="dropdown-desc">Ethereum 库、工具和合约</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../substrate/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate 工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate 工具包</span> <p class="dropdown-desc">Substrate 库、工具和底层接口</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="互操作性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">互操作性</span> <p class="dropdown-desc">用于跨链开发的 GMP 协议</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">要集成的工具和协议</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../node-operators/">节点运营商</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="网络" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">网络</span> <p class="dropdown-desc">运行完整节点、追踪节点或收集人节点</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../tokens/">代币</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="连接" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">连接</span> <p class="dropdown-desc">将您的钱包连接到 Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="管理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">管理</span> <p class="dropdown-desc">高级帐户和身份服务</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="质押" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">质押</span> <p class="dropdown-desc">通过委托给收集人来质押代币</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="治理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">治理</span> <p class="dropdown-desc">提交和投票参与链上提案</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../learn/">学习</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="核心概念" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">核心概念</span> <p class="dropdown-desc">了解 Moonbeam 的基础知识</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="特性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">特性</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp 目录" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp 目录</span> <p class="dropdown-desc">浏览 DApp 目录和列表流程</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../tutorials/">教程</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="以太坊 API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊 API</span> <p class="dropdown-desc">从入门到专业的智能合约教程</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">通过无缝集成教程深入了解</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="选择当前语言"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">中文</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="./" hreflang="zh" role="menuitem" aria-label="Chinese" class="is-active"> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="../../../../../../../builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" hreflang="en" role="menuitem" aria-label="English" class> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> 连接钱包 </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> 水龙头 </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="搜索"> <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> 正在初始化搜索引擎 </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../../../../" title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../" class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../">构建者</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../get-started/">快速入门</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../get-started/quick-start/" class="md-nav__link"> 快速开始 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../get-started/networks/">网络</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbeam-dev/" class="md-nav__link"> 本地 Moonbeam 开发节点 </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../get-started/endpoints/" class="md-nav__link"> 网络 RPC 端点 </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/explorers/" class="md-nav__link"> 区块浏览器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3"> <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0"> 构建 <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <li class="md-nav__item"> <a href="../../../../../build/historical-updates/" class="md-nav__link"> 历史更新 </a> </li> <li class="md-nav__item"> <a href="../../../../../build/runtime-upgrades/" class="md-nav__link"> 运行时升级 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/">以太坊工具包</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/canonical-contracts/" class="md-nav__link"> 规范合约 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/">预编译合约</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/account/">账户管理</a> <label for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/account/identity/" class="md-nav__link"> 身份 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/account/proxy/" class="md-nav__link"> 代理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/ux/">用户体验</a> <label for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/batch/" class="md-nav__link"> 批量 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/call-permit/" class="md-nav__link"> 调用许可 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/erc20/" class="md-nav__link"> 原生代币 ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/features/">网络特性</a> <label for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/features/governance/">Governance</a> <label for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_4_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/staking/" class="md-nav__link"> 质押功能 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/interoperability/">互操作性</a> <label for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X 代币 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM 接口 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM 转账器 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/utility/">实用工具</a> <label for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/eth-mainnet/" class="md-nav__link"> 以太坊原生 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/registry/" class="md-nav__link"> 预编译注册表 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/relay-data-verifier/" class="md-nav__link"> 中继数据验证器 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/non-specific/" class="md-nav__link"> 非网络特定 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/libraries/">库</a> <label for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/dev-env/">开发环境</a> <label for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/verify-contracts/">验证合约</a> <label for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/block-explorers/" class="md-nav__link"> 区块浏览器 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan 插件 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/api-verification/" class="md-nav__link"> 基于 API 的验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/json-rpc/">JSON-RPC 接口</a> <label for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/eth-rpc/" class="md-nav__link"> 标准以太坊 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/debug-trace/" class="md-nav__link"> 非标准以太坊: 追踪 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/pubsub/" class="md-nav__link"> 非标准以太坊: 发布订阅 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/moonbeam-custom-api/" class="md-nav__link"> 自定义 Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/">Substrate 工具包</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/libraries/">库</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/polkadot-js-api/" class="md-nav__link"> Polkadot.js API </a> </li> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/dev-env/">开发环境</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../substrate/dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../">互操作性</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../">XCM 互操作性</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../core-concepts/">核心概念</a> <label for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../core-concepts/instructions/" class="md-nav__link"> XCM 指令 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/multilocations/" class="md-nav__link"> 多位置 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/weights-fees/" class="md-nav__link"> 权重和费用 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/sovereign-accounts/" class="md-nav__link"> 主权账户 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../xc-registration/">XC 注册</a> <label for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../xc-registration/forum-templates/" class="md-nav__link"> 论坛模板 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/xc-integration/" class="md-nav__link"> XC 通道注册 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/assets/" class="md-nav__link"> 通过治理的 XC 资产注册 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/self-serve-asset-registration/" class="md-nav__link"> 自助资产注册 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">XC-20s</a> <label for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_5_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item"> <a href="../../interact/" class="md-nav__link"> 与 XC-20s 交互 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5_4" checked> <div class="md-nav__link md-nav__link--index "> <a href="../">发送 XC-20s</a> <label for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_5_4_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../xcm-pallet/" class="md-nav__link"> 使用 Substrate API：Polkadot XCM Pallet </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> 使用 Ethereum API：X-Tokens Precompile <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> 使用 Ethereum API：X-Tokens Precompile </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#contract-address" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens 预编译合约地址 </span> </a> </li> <li class="md-nav__item"> <a href="#xtokens-solidity-interface" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens Solidity 接口 </span> </a> </li> <li class="md-nav__item"> <a href="#building-the-precompile-multilocation" class="md-nav__link"> <span class="md-ellipsis"> 构建预编译多重定位 </span> </a> </li> <li class="md-nav__item"> <a href="#build-xcm-xtokens-precompile" class="md-nav__link"> <span class="md-ellipsis"> 构建 XCM 消息 </span> </a> <nav class="md-nav" aria-label="构建 XCM 消息"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xtokens-check-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> </li> <li class="md-nav__item"> <a href="#determining-weight" class="md-nav__link"> <span class="md-ellipsis"> 确定 XCM 执行所需的权重 </span> </a> </li> <li class="md-nav__item"> <a href="#precompile-transfer" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens 预编译传输函数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../eth-api/" class="md-nav__link"> 使用 Ethereum API：XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../remote-execution/">远程执行</a> <label for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../remote-execution/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../remote-execution/computed-origins/" class="md-nav__link"> 计算来源账户 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../remote-execution/substrate-calls/">远程 Substrate 调用</a> <label for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_6_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../remote-execution/substrate-calls/xcm-transactor-pallet/" class="md-nav__link"> 使用 Substrate API </a> </li> <li class="md-nav__item"> <a href="../../../remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> 使用以太坊 API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../remote-execution/remote-evm-calls/" class="md-nav__link"> 远程 EVM 调用 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../../send-execute-xcm/" class="md-nav__link"> 发送、执行和测试 XCM </a> </li> <li class="md-nav__item"> <a href="../../../xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../protocols/">跨链协议</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../mrl/" class="md-nav__link"> Moonbeam 路由流动性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/">集成</a> <label for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/indexers/">索引器</a> <label for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/oracles/">预言机</a> <label for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/">节点运营商</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/">网络</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/run-a-node/">运行一个节点</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> 使用 Docker </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> 使用 Systemd </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> 标志 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/compile-binary/" class="md-nav__link"> 编译二进制文件 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/tracing-node/" class="md-nav__link"> 运行追踪节点 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/collators/">校对者</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/faq/" class="md-nav__link"> 常见问题 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/requirements/" class="md-nav__link"> 要求 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/account-management/" class="md-nav__link"> 账户管理 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> 作者映射预编译 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/activities/" class="md-nav__link"> 校对者活动 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> 轨道器计划 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/">代币</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/connect/">连接</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js 应用 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/on-ramps/" class="md-nav__link"> 入金渠道 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/manage/">管理</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/proxy-accounts/" class="md-nav__link"> 代理账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/identity/" class="md-nav__link"> 身份管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/staking/">质押</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/staking/stake/" class="md-nav__link"> 如何质押 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/governance/">治理</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/proposals/" class="md-nav__link"> 提交民主提案 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/voting/" class="md-nav__link"> 对提案投票 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/treasury-spend/" class="md-nav__link"> 提交国库提案 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/">学习</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/core-concepts/">核心概念</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/balances/" class="md-nav__link"> 账户余额 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/transfers-api/" class="md-nav__link"> 余额转账 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> 共识与最终性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/tx-fees/" class="md-nav__link"> 交易费用 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> 统一账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/security/" class="md-nav__link"> 安全注意事项 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/glossary/" class="md-nav__link"> 术语表 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/features/">特性</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../learn/features/eth-compatibility/" class="md-nav__link"> 以太坊兼容性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/governance/" class="md-nav__link"> 治理 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/staking/" class="md-nav__link"> 质押 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/treasury/" class="md-nav__link"> 国库 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../../learn/dapp-directory/" class="md-nav__link"> DApp 目录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/">教程</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/eth-api/">以太坊 API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] 使用 Tenderly 调试和模拟交易 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/integrations/">集成</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tutorials/integrations/0xgasless/" class="md-nav__link"> 启用无 Gas 交易 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#contract-address" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens 预编译合约地址 </span> </a> </li> <li class="md-nav__item"> <a href="#xtokens-solidity-interface" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens Solidity 接口 </span> </a> </li> <li class="md-nav__item"> <a href="#building-the-precompile-multilocation" class="md-nav__link"> <span class="md-ellipsis"> 构建预编译多重定位 </span> </a> </li> <li class="md-nav__item"> <a href="#build-xcm-xtokens-precompile" class="md-nav__link"> <span class="md-ellipsis"> 构建 XCM 消息 </span> </a> <nav class="md-nav" aria-label="构建 XCM 消息"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xtokens-check-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> </li> <li class="md-nav__item"> <a href="#determining-weight" class="md-nav__link"> <span class="md-ellipsis"> 确定 XCM 执行所需的权重 </span> </a> </li> <li class="md-nav__item"> <a href="#precompile-transfer" class="md-nav__link"> <span class="md-ellipsis"> X-Tokens 预编译传输函数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> 这个页面有帮助吗？ </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> 感谢您的反馈！ </div> <div data-md-value="0" hidden> 感谢您的反馈！请提交 <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+%E5%B0%86%20XC-20%20%E5%8F%91%E9%80%81%E5%88%B0%E5%85%B6%E4%BB%96%E9%93%BE+-+/zh/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" target="_blank" rel="noopener">更多反馈</a> 来帮助我们改进。 </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/zh/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile.md" title="编辑" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> 编辑 </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="x-tokens-xc-20s">使用 X-Tokens 预编译发送 XC-20s<a class="headerlink" href="#x-tokens-xc-20s" title="Permanent link">&para;</a></h1> <h2 id="introduction">简介<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p>构建用于可替换资产转移的 XCM 消息并非易事。因此，开发人员可以利用包装函数和托盘在 Polkadot 和 Kusama 上使用 XCM 功能。此类包装器的一个示例是 <a href="/builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/" target="_blank">Polkadot XCM</a> 托盘，它提供了通过 XCM 转移可替换资产的不同方法。</p> <p><a href="/builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/" target="_blank">Polkadot XCM 托盘</a> 以 Rust 编码，通常无法从 Moonbeam 的 Ethereum API 端访问。但是，<a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" target="_blank">XCM 预编译</a> 和 X-Tokens 预编译允许您直接与 Polkadot XCM 托盘交互，以从 Solidity 接口发送 XC-20。</p> <p>本指南将向您展示如何利用 X-Tokens 预编译，使用 Ethers 和 Web3 等 Ethereum 库将 <a href="/builders/interoperability/xcm/xc20/overview/" target="_blank">XC-20</a> 从基于 Moonbeam 的网络发送到生态系统中的其他链（中继链/平行链）。</p> <p><strong>开发人员必须了解，发送不正确的 XCM 消息可能会导致资金损失。</strong> 因此，在进入生产环境之前，必须在 TestNet 上测试 XCM 功能。</p> <h2 id="contract-address">X-Tokens 预编译合约地址<a class="headerlink" href="#contract-address" title="Permanent link">&para;</a></h2> <p>X-Tokens 预编译合约位于以下地址：</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Moonbeam</label><label for="__tabbed_1_2">Moonriver</label><label for="__tabbed_1_3">Moonbase Alpha</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>text 0x0000000000000000000000000000000000000804</p> </div> <div class="tabbed-block"> <p>text 0x0000000000000000000000000000000000000804</p> </div> <div class="tabbed-block"> <p>text 0x0000000000000000000000000000000000000804</p> </div> </div> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>There can be some unintended consequences when using the precompiled contracts on Moonbeam. Please refer to the <a href="/learn/core-concepts/security/" target="_blank">Security Considerations</a> page for more information.</p> </div> <h2 id="xtokens-solidity-interface">X-Tokens Solidity 接口<a class="headerlink" href="#xtokens-solidity-interface" title="Permanent link">&para;</a></h2> <p><a href="https://github.com/moonbeam-foundation/moonbeam/blob/master/precompiles/xtokens/Xtokens.sol" target="_blank">Xtokens.sol</a> 是一个接口，开发人员可以通过它使用 Ethereum API 与 X-Tokens Pallet 进行交互。</p> <details class="code"> <summary>Xtokens.sol</summary> <div class="highlight"><pre><span></span><code><span class="c1">// SPDX-License-Identifier: GPL-3.0-only</span>
<span class="k">pragma solidity</span><span class="w"> </span><span class="o">&gt;=</span><span class="k">0.8.3</span><span class="p">;</span>

<span class="c1">/// @dev The Xtokens contract&#39;s address.</span>
<span class="kt">address</span><span class="w"> </span><span class="nv">constant</span><span class="w"> </span>XTOKENS_ADDRESS<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0000000000000000000000000000000000000804</span><span class="p">;</span>

<span class="c1">/// @dev The Xtokens contract&#39;s instance.</span>
Xtokens<span class="w"> </span><span class="kt">constant</span><span class="w"> </span>XTOKENS_CONTRACT<span class="w"> </span><span class="o">=</span><span class="w"> </span>Xtokens<span class="p">(</span>XTOKENS_ADDRESS<span class="p">);</span>

<span class="c1">/// @author The Moonbeam Team</span>
<span class="c1">/// @title Xtokens Interface</span>
<span class="c1">/// @dev The interface through which solidity contracts will interact with xtokens pallet</span>
<span class="c1">/// @custom:address 0x0000000000000000000000000000000000000804</span>
interface<span class="w"> </span>Xtokens<span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// A multilocation is defined by its number of parents and the encoded junctions (interior)</span>
<span class="w">    </span><span class="kt">struct</span><span class="w"> </span><span class="nv">Multilocation</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">parents</span><span class="p">;</span>
<span class="w">        </span><span class="kt">bytes</span><span class="p">[]</span><span class="w"> </span>interior<span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// A MultiAsset is defined by a multilocation and an amount</span>
<span class="w">    </span><span class="kt">struct</span><span class="w"> </span><span class="nv">MultiAsset</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>Multilocation<span class="w"> </span>location<span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// A Currency is defined by address and the amount to be transferred</span>
<span class="w">    </span><span class="kt">struct</span><span class="w"> </span><span class="nv">Currency</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">currencyAddress</span><span class="p">;</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// Transfer a token through XCM based on its currencyId</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param currencyAddress The ERC20 address of the currency we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param amount The amount of tokens we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector b9f813ff</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transfer</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">currencyAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// Transfer a token through XCM based on its currencyId specifying fee</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param currencyAddress The ERC20 address of the currency we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param amount The amount of tokens we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 3e506ef0</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transferWithFee</span><span class="p">(</span>
<span class="w">        </span><span class="kt">address</span><span class="w"> </span><span class="nv">currencyAddress</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// Transfer a token through XCM based on its MultiLocation</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param asset The asset we want to transfer, defined by its multilocation.</span>
<span class="w">    </span><span class="c1">/// Currently only Concrete Fungible assets</span>
<span class="w">    </span><span class="c1">/// @param amount The amount of tokens we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector b4f76f96</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transferMultiasset</span><span class="p">(</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>asset<span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// Transfer a token through XCM based on its MultiLocation specifying fee</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param asset The asset we want to transfer, defined by its multilocation.</span>
<span class="w">    </span><span class="c1">/// Currently only Concrete Fungible assets</span>
<span class="w">    </span><span class="c1">/// @param amount The amount of tokens we want to transfer</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 150c016a</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transferMultiassetWithFee</span><span class="p">(</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>asset<span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">amount</span><span class="p">,</span>
<span class="w">        </span><span class="kt">uint256</span><span class="w"> </span><span class="nv">fee</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// Transfer several tokens at once through XCM based on its address specifying fee</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param currencies The currencies we want to transfer, defined by their address and amount.</span>
<span class="w">    </span><span class="c1">/// @param feeItem Which of the currencies to be used as fee</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector ab946323</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transferMultiCurrencies</span><span class="p">(</span>
<span class="w">        </span>Currency<span class="p">[]</span><span class="w"> </span><span class="kt">memory</span><span class="w"> </span>currencies<span class="p">,</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">feeItem</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>

<span class="w">    </span><span class="c1">/// Transfer several tokens at once through XCM based on its location specifying fee</span>
<span class="w">    </span><span class="c1">///</span>
<span class="w">    </span><span class="c1">/// @dev The token transfer burns/transfers the corresponding amount before sending</span>
<span class="w">    </span><span class="c1">/// @param assets The assets we want to transfer, defined by their location and amount.</span>
<span class="w">    </span><span class="c1">/// @param feeItem Which of the currencies to be used as fee</span>
<span class="w">    </span><span class="c1">/// @param destination The Multilocation to which we want to send the tokens</span>
<span class="w">    </span><span class="c1">/// @param weight The weight we want to buy in the destination chain </span>
<span class="w">    </span><span class="c1">/// (uint64::MAX means Unlimited weight)</span>
<span class="w">    </span><span class="c1">/// @custom:selector 797b45fd</span>
<span class="w">    </span><span class="kt">function</span><span class="w"> </span><span class="nv">transferMultiAssets</span><span class="p">(</span>
<span class="w">        </span>MultiAsset<span class="p">[]</span><span class="w"> </span><span class="kt">memory</span><span class="w"> </span>assets<span class="p">,</span>
<span class="w">        </span><span class="kt">uint32</span><span class="w"> </span><span class="nv">feeItem</span><span class="p">,</span>
<span class="w">        </span>Multilocation<span class="w"> </span><span class="kt">memory</span><span class="w"> </span>destination<span class="p">,</span>
<span class="w">        </span><span class="kt">uint64</span><span class="w"> </span><span class="nv">weight</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kt">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </details> <p>该接口包括以下函数：</p> <details class="function" open="open"> <summary><strong>transfer</strong>(<em>address</em> currencyAddress, <em>uint256</em> amount, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移一种货币，给定货币的合约地址</summary> <div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>currencyAddress</code> - 要转移的资产的地址<ul> <li>对于 <a href="/builders/interoperability/xcm/xc20/overview/#external-xc20s" target="_blank">外部 XC-20</a>，请提供 <a href="/builders/interoperability/xcm/xc20/overview/#current-xc20-assets" target="_blank">XC-20 预编译地址</a></li> <li>对于原生代币（即 GLMR、MOVR 和 DEV），请提供 <a href="/builders/ethereum/precompiles/ux/erc20/#the-erc20-interface" target="_blank">ERC-20 预编译</a> 地址，该地址为 <code>0x0000000000000000000000000000000000000802</code></li> <li>对于 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a>，请提供代币的地址</li> </ul> </li> <li><code>amount</code> - 将通过 XCM 发送的代币数量</li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>transferWithFee</strong>(<em>address</em> currencyAddress, <em>uint256</em> amount, <em>uint256</em> fee, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移一种货币，定义为原生代币（自留）或资产 ID，并从金额中单独指定费用</summary> <div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>currencyAddress</code> - 要转移的资产的地址<ul> <li>对于 <a href="/builders/interoperability/xcm/xc20/overview/#external-xc20s" target="_blank">外部 XC-20</a>，请提供 <a href="/builders/interoperability/xcm/xc20/overview/#current-xc20-assets" target="_blank">XC-20 预编译地址</a></li> <li>对于原生代币（即 GLMR、MOVR 和 DEV），请提供 <a href="/builders/ethereum/precompiles/ux/erc20/#the-erc20-interface" target="_blank">ERC-20 预编译</a> 地址，该地址为 <code>0x0000000000000000000000000000000000000802</code></li> <li>对于 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a>，请提供代币的地址</li> </ul> </li> <li><code>amount</code> - 将通过 XCM 发送的代币数量</li> <li><code>fee</code> — 用于支付目标（目的地）链中 XCM 执行的金额。如果此值不足以支付执行成本，则资产将困在目标链中</li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>transferMultiasset</strong>(<em>Multilocation</em> <em>memory</em> asset, <em>uint256</em> amount, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移一种可替代资产，由其多位置定义</summary> <div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>asset</code> - 要转移的资产的多位置。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>amount</code> - 将通过 XCM 发送的代币数量</li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>transferMultiassetWithFee</strong>(<em>Multilocation</em> <em>memory</em> asset, <em>uint256</em> amount, <em>uint256</em> fee, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移一种可替代资产，由其多位置定义，并以不同的资产（也由其多位置定义）支付费用</summary> <div class="tabbed-set tabbed-alternate" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>asset</code> - 要转移的资产的多位置。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>amount</code> - 将通过 XCM 发送的代币数量</li> <li><code>fee</code> — 用于支付目标（目的地）链中 XCM 执行的金额。如果此值不足以支付执行成本，则资产将困在目标链中</li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>transferMulticurrencies</strong>(<em>Currency[]</em> <em>memory</em> currencies, <em>uint32</em> feeItem, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移不同的货币，指定哪种货币用作费用。每种货币都定义为原生代币（自留）或资产 ID</summary> <div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>currencies</code> - 要发送的货币的数组，这些货币由其货币地址和要发送的金额标识</li> <li><code>feeItem</code> — 一个索引，用于定义要发送的资产数组的资产位置，用于支付目标链中 XCM 执行的费用。例如，如果只发送一种资产，则 <code>feeItem</code> 将为 <code>0</code></li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <details class="function"> <summary><strong>transferMultiassets</strong>(<em>MultiAsset[]</em> <em>memory</em> assets, <em>uint32</em> feeItem, <em>Multilocation</em> <em>memory</em> destination, <em>uint64</em> weight) — 转移几种可替代资产，由其多位置定义，并以其中一种资产（也由其多位置定义）支付费用</summary> <div class="tabbed-set tabbed-alternate" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">参数</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>assets</code> - 要转移的每种资产的多位置数组。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>feeItem</code> — 一个索引，用于定义要发送的资产数组的资产位置，用于支付目标链中 XCM 执行的费用。例如，如果只发送一种资产，则 <code>feeItem</code> 将为 <code>0</code></li> <li><code>destination</code> - 通过 XCM 发送的代币的目标地址的多位置。它支持不同的地址格式，例如 20 字节或 32 字节地址（Ethereum 或 Substrate）。多位置必须以特定方式格式化，这在 <a href="#building-the-precompile-multilocation">构建预编译多位置</a> 部分中进行了描述</li> <li><code>weight</code> - 要购买的权重，用于支付目标链上 XCM 执行的费用，该费用从转移的资产中扣除</li> </ul> </div> </div> </div> </details> <h2 id="building-the-precompile-multilocation">构建预编译多重定位<a class="headerlink" href="#building-the-precompile-multilocation" title="Permanent link">&para;</a></h2> <p><a href="/builders/interoperability/xcm/core-concepts/multilocations/" target="_blank">多重定位</a>定义了相对于给定原点的整个中继链/平行链生态系统中的特定点。它们经常被 X-Tokens 预编译用来定义资产和目标链及账户的位置。</p> <p>多重定位需要以预编译可以理解的特定方式进行格式化，这与和 pallet 交互时看到的格式不同。在 X-Tokens 预编译接口中，<code>Multilocation</code> 结构定义如下：</p> <div class="highlight"><pre><span></span><code><span class="w"> </span><span class="kt">struct</span><span class="w"> </span><span class="nv">Multilocation</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">uint8</span><span class="w"> </span><span class="nv">parents</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bytes</span><span class="p">[]</span><span class="w"> </span>interior<span class="p">;</span>
<span class="p">}</span>
</code></pre></div> <p>As with a standard <a href="/builders/interoperability/xcm/core-concepts/multilocations/" target="_blank">multilocation</a>, there are <code>parents</code> and <code>interior</code> elements. However, instead of defining the multilocation as an object, with Ethereum libraries, the struct is defined as an array, which contains a <code>uint8</code> for the <code>parents</code> as the first element and a bytes array for the <code>interior</code> as the second element.</p> <p>The normal values you would see for the <code>parents</code> element are:</p> <table> <thead> <tr> <th style="text-align: center;">Origin</th> <th style="text-align: center;">Destination</th> <th style="text-align: center;">Parents Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Parachain A</td> <td style="text-align: center;">Parachain A</td> <td style="text-align: center;">0</td> </tr> <tr> <td style="text-align: center;">Parachain A</td> <td style="text-align: center;">Relay Chain</td> <td style="text-align: center;">1</td> </tr> <tr> <td style="text-align: center;">Parachain A</td> <td style="text-align: center;">Parachain B</td> <td style="text-align: center;">1</td> </tr> </tbody> </table> <p>For the <code>interior</code> element, the number of fields you need to drill down to in the target chain to reach the exact location of the target, such as the specific asset or account, represents the size of the bytes array:</p> <table> <thead> <tr> <th style="text-align: center;">Array</th> <th style="text-align: center;">Size</th> <th style="text-align: center;">Interior Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">[]</td> <td style="text-align: center;">0</td> <td style="text-align: center;">Here</td> </tr> <tr> <td style="text-align: center;">[XYZ]</td> <td style="text-align: center;">1</td> <td style="text-align: center;">X1</td> </tr> <tr> <td style="text-align: center;">[XYZ, ABC]</td> <td style="text-align: center;">2</td> <td style="text-align: center;">X2</td> </tr> <tr> <td style="text-align: center;">[XYZ, ... N]</td> <td style="text-align: center;">N</td> <td style="text-align: center;">XN</td> </tr> </tbody> </table> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Interior value <code>Here</code> is often used for the relay chain (either as a destination or to target the relay chain asset).</p> </div> <p>Each field required to reach the exact location of the target needs to be defined as a hex string. The first byte (2 hexadecimal characters) corresponds to the selector of the field. For example:</p> <table> <thead> <tr> <th style="text-align: center;">Byte Value</th> <th style="text-align: center;">Selector</th> <th>Data Type</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">0x00</td> <td style="text-align: center;">Parachain</td> <td>bytes4</td> </tr> <tr> <td style="text-align: center;">0x01</td> <td style="text-align: center;">AccountId32</td> <td>bytes32</td> </tr> <tr> <td style="text-align: center;">0x02</td> <td style="text-align: center;">AccountIndex64</td> <td>u64</td> </tr> <tr> <td style="text-align: center;">0x03</td> <td style="text-align: center;">AccountKey20</td> <td>bytes20</td> </tr> <tr> <td style="text-align: center;">0x04</td> <td style="text-align: center;">PalletInstance</td> <td>byte</td> </tr> <tr> <td style="text-align: center;">0x05</td> <td style="text-align: center;">GeneralIndex</td> <td>u128</td> </tr> <tr> <td style="text-align: center;">0x06</td> <td style="text-align: center;">GeneralKey</td> <td>bytes[]</td> </tr> </tbody> </table> <p>Next, depending on the selector and its data type, the following bytes correspond to the actual data being provided. Note that for <code>AccountId32</code>, <code>AccountIndex64</code>, and <code>AccountKey20</code>, the optional <code>network</code> field is appended at the end. For example:</p> <table> <thead> <tr> <th style="text-align: center;">Selector</th> <th style="text-align: center;">Data Value</th> <th style="text-align: center;">Represents</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">Parachain</td> <td style="text-align: center;">"0x00+000007E7"</td> <td style="text-align: center;">Parachain ID 2023</td> </tr> <tr> <td style="text-align: center;">AccountId32</td> <td style="text-align: center;">"0x01+AccountId32+00"</td> <td style="text-align: center;">AccountId32, Network(Option) Null</td> </tr> <tr> <td style="text-align: center;">AccountId32</td> <td style="text-align: center;">"0x01+AccountId32+03"</td> <td style="text-align: center;">AccountId32, Network Polkadot</td> </tr> <tr> <td style="text-align: center;">AccountKey20</td> <td style="text-align: center;">"0x03+AccountKey20+00"</td> <td style="text-align: center;">AccountKey20, Network(Option) Null</td> </tr> <tr> <td style="text-align: center;">PalletInstance</td> <td style="text-align: center;">"0x04+03"</td> <td style="text-align: center;">Pallet Instance 3</td> </tr> </tbody> </table> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code>interior</code> data usually needs to be wrapped around quotes, or you might get an <code>invalid tuple value</code> error.</p> </div> <p>以下代码片段提供了一些多重定位结构的示例，它们需要被提供给 X-Tokens 预编译函数：</p> <div class="highlight"><pre><span></span><code><span class="c1">// Multilocation targeting the relay chain or its asset from a parachain</span>
<span class="p">[</span>
<span class="w">  </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// parents = 1</span>
<span class="w">  </span><span class="p">[],</span><span class="w"> </span><span class="c1">// interior = here</span>
<span class="p">]</span>

<span class="c1">// Multilocation targeting Moonbase Alpha DEV token from another parachain</span>
<span class="p">[</span>
<span class="w">  </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// parents = 1</span>
<span class="w">  </span><span class="p">[</span><span class="w">  </span><span class="c1">// interior = X2 (the array has a length of 2)</span>
<span class="w">    </span><span class="s1">&#39;0x00000003E8&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Parachain selector + Parachain ID 1000 (Moonbase Alpha)</span>
<span class="w">    </span><span class="s1">&#39;0x0403&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Pallet Instance selector + Pallet Instance 3 (Balances Pallet)</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">]</span>

<span class="c1">// Multilocation targeting Alice&#39;s account on the relay chain from Moonbase Alpha</span>
<span class="p">[</span>
<span class="w">  </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// parents = 1</span>
<span class="w">  </span><span class="p">[</span><span class="w">  </span><span class="c1">// interior = X1 (the array has a length of 1)</span>
<span class="w">     </span><span class="c1">// AccountKey32 selector + AccountId32 address in hex + Network(Option) Null</span>
<span class="w">    </span><span class="s1">&#39;0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="p">],</span>
<span class="p">]</span>
</code></pre></div> <h2 id="build-xcm-xtokens-precompile">构建 XCM 消息<a class="headerlink" href="#build-xcm-xtokens-precompile" title="Permanent link">&para;</a></h2> <p>本指南介绍了使用 X-Tokens 预编译构建 XCM 消息的过程，更具体地说，是使用 <code>transfer</code> 和 <code>transferMultiasset</code> 函数。然而，这两个用例可以推广到预编译的其他函数，特别是当您熟悉多位置时。</p> <p>您将传输 xcUNIT 代币，它们是 Alphanet 中继链代币 UNIT 的 <a href="/builders/interoperability/xcm/xc20/overview/" target="_blank">XC-20</a> 表示。您可以针对任何其他 XC-20 调整本指南。</p> <h3 id="xtokens-check-prerequisites">检查先决条件<a class="headerlink" href="#xtokens-check-prerequisites" title="Permanent link">&para;</a></h3> <p>要学习本指南中的示例，您需要具备以下条件：</p> <ul> <li> <p>X-Tokens预编译合约的ABI</p> <details class="code"> <summary>X-Tokens预编译合约ABI</summary> <div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;currencyAddress&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transfer&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="p">{</span>
<span class="w">                </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;location&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.MultiAsset[]&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;assets&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple[]&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint32&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;feeItem&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint32&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transferMultiAssets&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;currencyAddress&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Currency[]&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;currencies&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple[]&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint32&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;feeItem&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint32&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transferMultiCurrencies&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;asset&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transferMultiasset&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;asset&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fee&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transferMultiassetWithFee&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">inputs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;currencyAddress&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;address&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;amount&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;fee&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint256&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">components</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;parents&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;interior&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bytes[]&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;struct Xtokens.Multilocation&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;destination&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;tuple&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nx">internalType</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;weight&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;uint64&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;transferWithFee&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">outputs</span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nx">stateMutability</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;nonpayable&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;function&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">];</span>
</code></pre></div> </details> </li> <li> <p>一个有资金的账户。 You can get DEV tokens for testing on Moonbase Alpha once every 24 hours from the <a href="https://faucet.moonbeam.network" target="_blank">Moonbase Alpha Faucet</a></p> </li> <li> <p>一些xcUNIT代币。您可以在<a href="https://moonbeam-swap.netlify.app/#/swap" target="_blank">Moonbeam-Swap</a>上使用DEV代币（Moonbase Alpha的本地代币）兑换xcUNIT，Moonbeam-Swap是Moonbase Alpha上的一个演示版的Uniswap-V2克隆。</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>您可以修改本指南以转移另一个<a href="/builders/interoperability/xcm/xc20/overview/" target="_blank">外部XC-20或者本地XC-20</a>。对于外部XC-20，您需要资产ID和资产的小数位数。对于本地XC-20，您需要合约地址。</p> </div> <p><a class="glightbox" href="/images/builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/xtokens-1.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Moonbeam Swap xcUNIT" src="/images/builders/interoperability/xcm/xc20/send-xc20s/xcm-pallet/xtokens-1.webp"></a></p> <p>要检查您的xcUNIT余额，您可以将XC-20的<a href="/builders/interoperability/xcm/xc20/interact/#calculate-xc20-address" target="_blank">预编译地址</a>添加到MetaMask，地址如下：</p> <div class="highlight"><pre><span></span><code>0xFfFFfFff1FcaCBd218EDc0EbA20Fc2308C778080
</code></pre></div> </li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>要在Moonbeam或Moonriver上测试这些示例，您可以将RPC URL替换为您自己的端点和API密钥，您可以从受支持的<a href="/builders/get-started/endpoints/" target="_blank">端点提供商</a>处获得。</p> </div> <h3 id="determining-weight">确定 XCM 执行所需的权重<a class="headerlink" href="#determining-weight" title="Permanent link">&para;</a></h3> <p>要确定目标链上 XCM 执行所需的权重，您需要知道哪些 XCM 指令在目标链上执行。您可以在<a href="/builders/interoperability/xcm/xc20/send-xc20s/overview/#xcm-instructions-for-asset-transfers" target="_blank">通过 X-Tokens 进行传输的 XCM 指令</a>指南中找到使用的 XCM 指令的概述。</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>一些权重包括数据库读取和写入；例如，<code>WithdrawAsset</code> 和 <code>DepositAsset</code> 指令既包括一个数据库读取又包括一个写入。要获得总权重，您需要将任何必需的数据库读取或写入的权重添加到给定指令的基本权重中。</p> <p>对于基于 Westend 的中继链，如 Alphanet，您可以在 GitHub 上的 <a href="https://github.com/paritytech/polkadot-sdk" target="_blank">polkadot-sdk</a>存储库中获得 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.10.0/polkadot/runtime/westend/constants/src/weights/rocksdb_weights.rs#L27-L31" target="_blank">Rocks DB</a>（这是默认数据库）的读取和写入数据库操作的权重成本。</p> </div> <p>由于 Alphanet 是基于 Westend 的中继链，因此您可以参考<a href="https://github.com/paritytech/polkadot-sdk/tree/polkadot-v1.10.0/polkadot/runtime/westend" target="_blank">Westend 运行时代码</a>中定义的指令权重，这些指令权重分为两种类型：<a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.10.0/polkadot/runtime/westend/src/weights/xcm/pallet_xcm_benchmarks_fungible.rs" target="_blank">可替代</a>和 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.10.0/polkadot/runtime/westend/src/weights/xcm/pallet_xcm_benchmarks_generic.rs" target="_blank">通用</a>。</p> <p>重要的是要注意，每个链都定义了自己的权重要求。要确定给定链上每个 XCM 指令所需的权重，请参阅链的文档或联系其团队成员.要了解如何查找 Moonbeam、Polkadot 或 Kusama 所需的权重，您可以参考我们关于<a href="/builders/interoperability/xcm/core-concepts/weights-fees/" target="_blank">权重和费用</a>的文档。</p> <h3 id="precompile-transfer">X-Tokens 预编译传输函数<a class="headerlink" href="#precompile-transfer" title="Permanent link">&para;</a></h3> <p>要使用 X-Tokens 预编译的 <code>transfer</code> 函数，您需要执行以下常规步骤：</p> <ol> <li>使用 Moonbase Alpha RPC 端点创建一个 provider</li> <li>创建一个签名者来发送交易。此示例使用私钥来创建签名者，仅用于演示目的。<strong>切勿将您的私钥存储在 JavaScript 文件中</strong></li> <li>使用预编译的地址和 ABI 创建 X-Tokens 预编译的合约实例</li> <li> <p>组装 <code>transfer</code> 函数的参数：</p> <ul> <li><code>currencyAddress</code> - xcUNIT 的地址：<code>0xFfFFfFff1FcaCBd218EDc0EbA20Fc2308C778080</code></li> <li><code>amount</code> - 1 xcUNIT。由于 xcUNIT 有 12 位小数，您可以使用：<code>1000000000000</code></li> <li><code>destination</code> - 目标的多重定位，它定位中继链上的 Alice 的帐户：<code>'0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300'</code></li> <li><code>weight</code> - 为目标链上的 XCM 执行购买的<a href="#determining-weight">权重</a>：<code>305,986,000</code></li> </ul> </li> <li> <p>创建 <code>transfer</code> 函数，传入参数</p> </li> <li>签名并发送交易</li> </ol> <div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><input id="__tabbed_8_3" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">Ethers.js</label><label for="__tabbed_8_2">Web3.js</label><label for="__tabbed_8_3">Web3.py</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>js import { ethers } from 'ethers'; // Import Ethers library import abi from './xtokensABI.js'; // Import the X-Tokens ABI</p> <p>const privateKey = 'INSERT_PRIVATE_KEY';</p> <p>// Create Ethers provider and signer const provider = new ethers.JsonRpcProvider( 'https://rpc.api.moonbase.moonbeam.network' ); const signer = new ethers.Wallet(privateKey, provider);</p> <p>// Create X-Tokens contract instance const xTokens = new ethers.Contract( '0x0000000000000000000000000000000000000804', abi, signer );</p> <p>// Arguments for the transfer function const currencyAddress = '0xFfFFfFff1FcaCBd218EDc0EbA20Fc2308C778080'; // xcUNIT address const amount = 1000000000000; const destination = [ // Target the relay chain from Moonbase Alpha 1, // Target Alice's 32-byte relay chain account ['0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300'], ]; const weight = 305986000;</p> <p>// Sends 1 xcUNIT to the relay chain using the transfer function async function transferToAlice() { // Creates, signs, and sends the transfer transaction const transaction = await xTokens.transfer( currencyAddress, amount, destination, weight );</p> <p>// Waits for the transaction to be included in a block await transaction.wait(); console.log(transaction); }</p> <p>transferToAlice();</p> </div> <div class="tabbed-block"> <p>js import Web3 from 'web3'; // Import Web3 library import abi from './xtokensABI.js'; // Import the X-Tokens ABI</p> <p>const privateKey = 'INSERT_PRIVATE_KEY';</p> <p>// Create Web3 provider const web3 = new Web3('https://rpc.api.moonbase.moonbeam.network'); // Change to network of choice</p> <p>// Create contract instance const xTokens = new web3.eth.Contract( abi, '0x0000000000000000000000000000000000000804', { from: web3.eth.accounts.privateKeyToAccount(privateKey).address } // 'from' is necessary for gas estimation );</p> <p>// Arguments for the transfer function const currencyAddress = '0xFfFFfFff1FcaCBd218EDc0EbA20Fc2308C778080'; // xcUNIT address const amount = 1000000000000; const destination = [ // Target the relay chain from Moonbase Alpha 1, // Target Alice's 32-byte relay chain account ['0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300'], ]; const weight = 305986000;</p> <p>// Sends 1 xcUNIT to the relay chain using the transfer function async function transferToAlice() { // Create transaction const transferTx = xTokens.methods.transfer( currencyAddress, amount, destination, weight );</p> <p>// Sign transaction const signedTx = await web3.eth.accounts.signTransaction( { to: '0x0000000000000000000000000000000000000804', data: transferTx.encodeABI(), gas: await transferTx.estimateGas(), }, privateKey );</p> <p>// Send signed transaction const sendTx = await web3.eth.sendSignedTransaction(signedTx.rawTransaction); console.log(sendTx); }</p> <p>transferToAlice();</p> </div> <div class="tabbed-block"> <p>py from web3 import Web3</p> <p>abi = "INSERT_XTOKENS_ABI" # Paste or import the x-tokens ABI private_key = "INSERT_PRIVATE_KEY" # This is for demo purposes, never store your private key in plain text address = "INSERT_ADDRESS" # The wallet address that corresponds to your private key</p> <h1 id="create-web3-provider">Create Web3 provider<a class="headerlink" href="#create-web3-provider" title="Permanent link">&para;</a></h1> <p>web3 = Web3(Web3.HTTPProvider("https://rpc.api.moonbase.moonbeam.network"))</p> <h1 id="create-contract-instance">Create contract instance<a class="headerlink" href="#create-contract-instance" title="Permanent link">&para;</a></h1> <p>x_tokens = web3.eth.contract( address="0x0000000000000000000000000000000000000804", abi=abi )</p> <h1 id="arguments-for-the-transfer-function">Arguments for the transfer function<a class="headerlink" href="#arguments-for-the-transfer-function" title="Permanent link">&para;</a></h1> <p>currencyAddress = "0xFfFFfFff1FcaCBd218EDc0EbA20Fc2308C778080" # xcUNIT address amount = 1000000000000 destination = [ # Target the relay chain from Moonbase Alpha 1, # Target Alice's 32-byte relay chain account ["0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300"], ] weight = 305986000</p> <h1 id="sends-1-xcunit-to-the-relay-chain-using-the-transfer-function">Sends 1 xcUNIT to the relay chain using the transfer function<a class="headerlink" href="#sends-1-xcunit-to-the-relay-chain-using-the-transfer-function" title="Permanent link">&para;</a></h1> <p>def transfer_to_alice(): # Create transaction transferTx = x_tokens.functions.transfer( currencyAddress, amount, destination, weight ).build_transaction( { "from": address, "nonce": web3.eth.get_transaction_count(address), } )</p> <div class="codehilite"><pre><span></span><code><span class="gh">#</span> Sign transaction
signedTx = web3.eth.account.sign_transaction(transferTx, private_key)

<span class="gh">#</span> Send tx and wait for receipt
hash = web3.eth.send_raw_transaction(signedTx.rawTransaction)
receipt = web3.eth.wait_for_transaction_receipt(hash)
print(f&quot;Tx successful with hash: { receipt.transactionHash.hex() }&quot;)
</code></pre></div> <p>transfer_to_alice()</p> </div> </div> </div> <h3 id="precompile-transfer-multiasset">X-Tokens 预编译转移多资产函数<a class="headerlink" href="#precompile-transfer-multiasset" title="Permanent link">&para;</a></h3> <p>要使用 X-Tokens 预编译的 <code>transfer</code> 函数，您需要执行以下常规步骤：</p> <ol> <li>使用 Moonbase Alpha RPC 端点创建一个 provider</li> <li>创建一个签名者以发送交易。此示例使用私钥创建签名者，仅用于演示目的。<strong>切勿将您的私钥存储在 JavaScript 文件中</strong></li> <li>使用预编译的地址和 ABI 创建 X-Tokens 预编译的合约实例</li> <li> <p>组合 <code>transferMultiasset</code> 函数的参数：</p> <ul> <li><code>asset</code> - xcUNIT 的多位置：<code>[1, []]</code></li> <li><code>amount</code> - 1 xcUNIT。由于 xcUNIT 有 12 位小数，您可以使用：<code>1000000000000</code></li> <li><code>destination</code> - 目标的多位置，目标是继电器链上的 Alice 帐户：<code>'0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300'</code></li> <li><code>weight</code> - 在目标链上为 XCM 执行购买的<a href="#determining-weight">权重</a>：<code>305986000</code></li> </ul> </li> <li> <p>创建 <code>transferMultiasset</code> 函数，传入参数</p> </li> <li>签名并发送交易</li> </ol> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">js</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">ethers</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;ethers&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Import</span> <span class="n">Ethers</span> <span class="n">library</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">abi</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;./xtokensABI.js&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">X</span><span class="o">-</span><span class="n">Tokens</span> <span class="n">ABI</span>

<span class="n">const</span> <span class="n">privateKey</span> <span class="o">=</span> <span class="s1">&#39;INSERT_PRIVATE_KEY&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">Ethers</span> <span class="n">provider</span> <span class="ow">and</span> <span class="n">signer</span>
<span class="n">const</span> <span class="n">provider</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ethers</span><span class="o">.</span><span class="n">JsonRpcProvider</span><span class="p">(</span>
  <span class="s1">&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span>
<span class="p">);</span>
<span class="n">const</span> <span class="n">signer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ethers</span><span class="o">.</span><span class="n">Wallet</span><span class="p">(</span><span class="n">privateKey</span><span class="p">,</span> <span class="n">provider</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">X</span><span class="o">-</span><span class="n">Tokens</span> <span class="n">contract</span> <span class="n">instance</span>
<span class="n">const</span> <span class="n">xTokens</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ethers</span><span class="o">.</span><span class="n">Contract</span><span class="p">(</span>
  <span class="s1">&#39;0x0000000000000000000000000000000000000804&#39;</span><span class="p">,</span>
  <span class="n">abi</span><span class="p">,</span>
  <span class="n">signer</span>
<span class="p">);</span>

<span class="o">//</span> <span class="n">Arguments</span> <span class="k">for</span> <span class="n">the</span> <span class="n">transfer</span> <span class="n">multiasset</span> <span class="n">function</span>
<span class="n">const</span> <span class="n">asset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]];</span> <span class="o">//</span> <span class="n">Multilocation</span> <span class="n">targeting</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span>
<span class="n">const</span> <span class="n">amount</span> <span class="o">=</span> <span class="mi">1000000000000</span><span class="p">;</span>
<span class="n">const</span> <span class="n">dest</span> <span class="o">=</span> <span class="p">[</span>
  <span class="o">//</span> <span class="n">Target</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Moonbase</span> <span class="n">Alpha</span>
  <span class="mi">1</span><span class="p">,</span>
  <span class="o">//</span> <span class="n">Target</span> <span class="n">Alice</span><span class="s1">&#39;s 32-byte relay chain account</span>
  <span class="p">[</span><span class="s1">&#39;0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300&#39;</span><span class="p">],</span>
<span class="p">];</span>
<span class="n">const</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">305986000</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Sends</span> <span class="mi">1</span> <span class="n">xcUNIT</span> <span class="n">to</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span> <span class="n">using</span> <span class="n">the</span> <span class="n">transferMultiasset</span> <span class="n">function</span>
<span class="k">async</span> <span class="n">function</span> <span class="n">transferMultiassetToAlice</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">await</span> <span class="n">xTokens</span><span class="o">.</span><span class="n">transferMultiasset</span><span class="p">(</span>
    <span class="n">asset</span><span class="p">,</span>
    <span class="n">amount</span><span class="p">,</span>
    <span class="n">dest</span><span class="p">,</span>
    <span class="n">weight</span>
  <span class="p">);</span>
  <span class="k">await</span> <span class="n">transaction</span><span class="o">.</span><span class="n">wait</span><span class="p">();</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">transaction</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">transferMultiassetToAlice</span><span class="p">();</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">js</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Web3</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;web3&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Import</span> <span class="n">Web3</span> <span class="n">library</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">abi</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;./xtokensABI.js&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">X</span><span class="o">-</span><span class="n">Tokens</span> <span class="n">ABI</span>

<span class="n">const</span> <span class="n">privateKey</span> <span class="o">=</span> <span class="s1">&#39;INSERT_PRIVATE_KEY&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">Web3</span> <span class="n">provider</span>
<span class="n">const</span> <span class="n">web3</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Web3</span><span class="p">(</span><span class="s1">&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class="p">);</span> <span class="o">//</span> <span class="n">Change</span> <span class="n">to</span> <span class="n">network</span> <span class="n">of</span> <span class="n">choice</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">contract</span> <span class="n">instance</span>
<span class="n">const</span> <span class="n">xTokens</span> <span class="o">=</span> <span class="n">new</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">Contract</span><span class="p">(</span>
  <span class="n">abi</span><span class="p">,</span>
  <span class="s1">&#39;0x0000000000000000000000000000000000000804&#39;</span><span class="p">,</span>
  <span class="p">{</span> <span class="n">from</span><span class="p">:</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">accounts</span><span class="o">.</span><span class="n">privateKeyToAccount</span><span class="p">(</span><span class="n">privateKey</span><span class="p">)</span><span class="o">.</span><span class="n">address</span> <span class="p">}</span> <span class="o">//</span> <span class="s1">&#39;from&#39;</span> <span class="ow">is</span> <span class="n">necessary</span> <span class="k">for</span> <span class="n">gas</span> <span class="n">estimation</span>
<span class="p">);</span>

<span class="o">//</span> <span class="n">Arguments</span> <span class="k">for</span> <span class="n">the</span> <span class="n">transfer</span> <span class="n">multiasset</span> <span class="n">function</span>
<span class="n">const</span> <span class="n">asset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]];</span> <span class="o">//</span> <span class="n">Multilocation</span> <span class="n">targeting</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span>
<span class="n">const</span> <span class="n">amount</span> <span class="o">=</span> <span class="mi">1000000000000</span><span class="p">;</span>
<span class="n">const</span> <span class="n">dest</span> <span class="o">=</span> <span class="p">[</span>
  <span class="o">//</span> <span class="n">Target</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Moonbase</span> <span class="n">Alpha</span>
  <span class="mi">1</span><span class="p">,</span>
  <span class="o">//</span> <span class="n">Target</span> <span class="n">Alice</span><span class="s1">&#39;s 32-byte relay chain account</span>
  <span class="p">[</span><span class="s1">&#39;0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300&#39;</span><span class="p">],</span>
<span class="p">];</span>
<span class="n">const</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">305986000</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Sends</span> <span class="mi">1</span> <span class="n">xcUNIT</span> <span class="n">to</span> <span class="n">the</span> <span class="n">relay</span> <span class="n">chain</span> <span class="n">using</span> <span class="n">the</span> <span class="n">transferMultiasset</span> <span class="n">function</span>
<span class="k">async</span> <span class="n">function</span> <span class="n">transferMultiassetToAlice</span><span class="p">()</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Create</span> <span class="n">transaction</span>
  <span class="n">const</span> <span class="n">transferTx</span> <span class="o">=</span> <span class="n">xTokens</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">transferMultiasset</span><span class="p">(</span>
    <span class="n">asset</span><span class="p">,</span>
    <span class="n">amount</span><span class="p">,</span>
    <span class="n">dest</span><span class="p">,</span>
    <span class="n">weight</span>
  <span class="p">);</span>

  <span class="o">//</span> <span class="n">Sign</span> <span class="n">transaction</span>
  <span class="n">const</span> <span class="n">signedTx</span> <span class="o">=</span> <span class="k">await</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">accounts</span><span class="o">.</span><span class="n">signTransaction</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="n">to</span><span class="p">:</span> <span class="s1">&#39;0x0000000000000000000000000000000000000804&#39;</span><span class="p">,</span>
      <span class="n">data</span><span class="p">:</span> <span class="n">transferTx</span><span class="o">.</span><span class="n">encodeABI</span><span class="p">(),</span>
      <span class="n">gas</span><span class="p">:</span> <span class="k">await</span> <span class="n">transferTx</span><span class="o">.</span><span class="n">estimateGas</span><span class="p">(),</span>
    <span class="p">},</span>
    <span class="n">privateKey</span>
  <span class="p">);</span>

  <span class="o">//</span> <span class="n">Send</span> <span class="n">signed</span> <span class="n">transaction</span>
  <span class="n">const</span> <span class="n">sendTx</span> <span class="o">=</span> <span class="k">await</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">sendSignedTransaction</span><span class="p">(</span><span class="n">signedTx</span><span class="o">.</span><span class="n">rawTransaction</span><span class="p">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">sendTx</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">transferMultiassetToAlice</span><span class="p">();</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">web3</span><span class="w"> </span><span class="kn">import</span> <span class="n">Web3</span>

<span class="n">abi</span> <span class="o">=</span> <span class="s2">&quot;INSERT_XTOKENS_ABI&quot;</span>  <span class="c1"># Paste or import the x-tokens ABI</span>
<span class="n">private_key</span> <span class="o">=</span> <span class="s2">&quot;INSERT_PRIVATE_KEY&quot;</span>  <span class="c1"># This is for demo purposes, never store your private key in plain text</span>
<span class="n">address</span> <span class="o">=</span> <span class="s2">&quot;INSERT_ADDRESS&quot;</span>  <span class="c1"># The wallet address that corresponds to your private key</span>

<span class="c1"># Create Web3 provider</span>
<span class="n">web3</span> <span class="o">=</span> <span class="n">Web3</span><span class="p">(</span><span class="n">Web3</span><span class="o">.</span><span class="n">HTTPProvider</span><span class="p">(</span><span class="s2">&quot;https://rpc.api.moonbase.moonbeam.network&quot;</span><span class="p">))</span>

<span class="c1"># Create contract instance</span>
<span class="n">x_tokens</span> <span class="o">=</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span>
    <span class="n">address</span><span class="o">=</span><span class="s2">&quot;0x0000000000000000000000000000000000000804&quot;</span><span class="p">,</span> <span class="n">abi</span><span class="o">=</span><span class="n">abi</span>
<span class="p">)</span>

<span class="c1"># Arguments for the transfer function</span>
<span class="n">asset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]]</span>  <span class="c1"># Multilocation targeting the relay chain</span>
<span class="n">amount</span> <span class="o">=</span> <span class="mi">1000000000000</span>
<span class="n">dest</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Target the relay chain from Moonbase Alpha</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="c1"># Target Alice&#39;s 32-byte relay chain account</span>
    <span class="p">[</span><span class="s2">&quot;0x01c4db7bcb733e117c0b34ac96354b10d47e84a006b9e7e66a229d174e8ff2a06300&quot;</span><span class="p">],</span>
<span class="p">]</span>
<span class="n">weight</span> <span class="o">=</span> <span class="mi">305986000</span>


<span class="c1"># Sends 1 xcUNIT to the relay chain using the transferMultiasset function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">transfer_multiasset_to_alice</span><span class="p">():</span>
    <span class="c1"># Create transaction</span>
    <span class="n">transferTx</span> <span class="o">=</span> <span class="n">x_tokens</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">transferMultiasset</span><span class="p">(</span>
        <span class="n">asset</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">weight</span>
    <span class="p">)</span><span class="o">.</span><span class="n">build_transaction</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="n">address</span><span class="p">,</span>
            <span class="s2">&quot;nonce&quot;</span><span class="p">:</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">get_transaction_count</span><span class="p">(</span><span class="n">address</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="c1"># Sign transaction</span>
    <span class="n">signedTx</span> <span class="o">=</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">sign_transaction</span><span class="p">(</span><span class="n">transferTx</span><span class="p">,</span> <span class="n">private_key</span><span class="p">)</span>

    <span class="c1"># Send tx and wait for receipt</span>
    <span class="nb">hash</span> <span class="o">=</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">send_raw_transaction</span><span class="p">(</span><span class="n">signedTx</span><span class="o">.</span><span class="n">rawTransaction</span><span class="p">)</span>
    <span class="n">receipt</span> <span class="o">=</span> <span class="n">web3</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">wait_for_transaction_receipt</span><span class="p">(</span><span class="nb">hash</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tx successful with hash: </span><span class="si">{</span><span class="w"> </span><span class="n">receipt</span><span class="o">.</span><span class="n">transactionHash</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="w"> </span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="n">transfer_multiasset_to_alice</span><span class="p">()</span>
</code></pre></div> <div class="md-source-file"> <small> <span class="source-file-label">更新时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月20日 16:04:43">2026年1月20日</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">创建时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月15日 00:39:35">2026年1月15日</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="标题"> <a href="../xcm-pallet/" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> 上一个 </span> <span class="md-footer__page-name"> 使用 Substrate API：Polkadot XCM Pallet </span> </div> </a> <a href="../eth-api/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> 下一个 </span> <span class="md-footer__page-name"> 使用 Ethereum API：XCM Precompile </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI 兼容文档 </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">法学硕士文本</a> <a class="llms-link" href="/llms-full.txt">法学硕士全文</a> <a class="llms-link" href="../../../../../../../ai-resources/ai-resources/">按主题分类的法学硕士</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> 由 <a href="https://papermoon.io/" target="_blank">PaperMoon</a> with 🩵 制作 </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">使用条款</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">隐私政策</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> 左侧区域徽标 <div class="cookie-logo"> <img src="../../../../../../../assets/images/Moonbeam_Icon_White.webp" alt="用于 Cookie 同意的 Moonbeam 徽标"> </div> 中心区域标题和描述 <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> 管理设置切换 <input class="md-toggle" type="checkbox" id="__settings"> 同意设置 <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> 右侧区域按钮 <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">同意</button> <label class="md-button" for="__settings">管理设定</label> <button type="reset" class="md-button md-button--secondary">拒绝</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"base":"../../../../../../","features":["navigation.tabs","navigation.tabs.sticky","navigation.sections","navigation.indexes","navigation.prune","content.code.copy","announce.dismiss","content.action.edit"],"search":"../../../../../../../assets/javascripts/workers/search.d50fe291.min.js","tags":null,"translations":{"clipboard.copied":"\u5df2\u590d\u5236","clipboard.copy":"\u590d\u5236","search.result.more.one":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.more.other":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.none":"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.one":"\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.other":"# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.placeholder":"\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22","search.result.term.missing":"\u7f3a\u5c11","select.version":"\u9009\u62e9\u5f53\u524d\u7248\u672c"},"version":null}</script> <script src="../../../../../../../assets/javascripts/bundle.56ea9cef.min.js"></script> <script src="../../../../../../../js/connectMetaMask.js"></script> <script src="../../../../../../../js/errorModal.js"></script> <script src="../../../../../../../js/networkModal.js"></script> <script src="../../../../../../../js/lang-toggle.js"></script> <script src="../../../../../../../js/fixCreatedDate.js"></script> <script src="../../../../../../../js/externalLinkModal.js"></script> <script src="../../../../../../../js/cookbookInit.js"></script> <script src="../../../../../../../js/clipboardCopyllms.js"></script> <script src="../../../../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "已复制"
              ) {
                copiedToClipboardMessage.textContent =
                  "已复制";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>