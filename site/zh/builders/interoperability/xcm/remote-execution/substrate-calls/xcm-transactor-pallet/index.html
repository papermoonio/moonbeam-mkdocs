<!doctype html><html lang="zh" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="本指南介绍了 XCM 交易器 pallet，并解释了如何使用 pallet 的一些外部函数向另一个链发送远程调用。"><link rel="canonical" href="https://docs.moonbeam.network/zh/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/"><link rel="prev" href="../"><link rel="next" href="../xcm-transactor-precompile/"><link rel="alternate" href="./" hreflang="zh"><link rel="alternate" href="../../../../../../../builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" hreflang="en"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>XCM交易器 pallet | Moonbeam Docs</title><link rel="stylesheet" href="../../../../../../../assets/stylesheets/main.484c7ddc.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"zh": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#xcm-transactor-pallet" class="md-skip"> 跳转至 </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="标题"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="标签" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../">构建者</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="快速入门" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">快速入门</span> <p class="dropdown-desc">开始构建所需的一切</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../build/historical-updates/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/build.webp" alt="Build" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Build</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../ethereum/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="以太坊工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊工具包</span> <p class="dropdown-desc">Ethereum 库、工具和合约</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../substrate/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate 工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate 工具包</span> <p class="dropdown-desc">Substrate 库、工具和底层接口</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="互操作性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">互操作性</span> <p class="dropdown-desc">用于跨链开发的 GMP 协议</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">要集成的工具和协议</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../node-operators/">节点运营商</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="网络" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">网络</span> <p class="dropdown-desc">运行完整节点、追踪节点或收集人节点</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../tokens/">代币</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="连接" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">连接</span> <p class="dropdown-desc">将您的钱包连接到 Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="管理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">管理</span> <p class="dropdown-desc">高级帐户和身份服务</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="质押" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">质押</span> <p class="dropdown-desc">通过委托给收集人来质押代币</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="治理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">治理</span> <p class="dropdown-desc">提交和投票参与链上提案</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../learn/">学习</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="核心概念" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">核心概念</span> <p class="dropdown-desc">了解 Moonbeam 的基础知识</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="特性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">特性</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp 目录" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp 目录</span> <p class="dropdown-desc">浏览 DApp 目录和列表流程</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../../tutorials/">教程</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="以太坊 API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊 API</span> <p class="dropdown-desc">从入门到专业的智能合约教程</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">通过无缝集成教程深入了解</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="选择当前语言"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">中文</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="./" hreflang="zh" role="menuitem" aria-label="Chinese" class="is-active"> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="../../../../../../../builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" hreflang="en" role="menuitem" aria-label="English" class> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> 连接钱包 </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> 水龙头 </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="搜索"> <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> 正在初始化搜索引擎 </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../../../../" title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../" class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../">构建者</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../get-started/">快速入门</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../get-started/quick-start/" class="md-nav__link"> 快速开始 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../get-started/networks/">网络</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbeam-dev/" class="md-nav__link"> 本地 Moonbeam 开发节点 </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../get-started/endpoints/" class="md-nav__link"> 网络 RPC 端点 </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/token-profile/" class="md-nav__link"> 在 Moonscan 上添加 Token 信息 </a> </li> <li class="md-nav__item"> <a href="../../../../../get-started/explorers/" class="md-nav__link"> 区块浏览器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3"> <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0"> Build <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <li class="md-nav__item"> <a href="../../../../../build/historical-updates/" class="md-nav__link"> 历史更新 </a> </li> <li class="md-nav__item"> <a href="../../../../../build/runtime-upgrades/" class="md-nav__link"> 运行时升级 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/">以太坊工具包</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/canonical-contracts/" class="md-nav__link"> 规范合约 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/">预编译合约</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/account/">账户管理</a> <label for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/account/identity/" class="md-nav__link"> 身份 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/account/proxy/" class="md-nav__link"> 代理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/ux/">用户体验</a> <label for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/batch/" class="md-nav__link"> 批量 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/call-permit/" class="md-nav__link"> 调用许可 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/ux/erc20/" class="md-nav__link"> 原生代币 ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/features/">网络特性</a> <label for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/features/governance/">Governance</a> <label for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_4_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/features/staking/" class="md-nav__link"> 质押功能 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/interoperability/">互操作性</a> <label for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X 代币 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM 接口 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM 转账器 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/precompiles/utility/">实用工具</a> <label for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/eth-mainnet/" class="md-nav__link"> 以太坊原生 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/registry/" class="md-nav__link"> 预编译注册表 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/relay-data-verifier/" class="md-nav__link"> 中继数据验证器 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/precompiles/utility/non-specific/" class="md-nav__link"> 非网络特定 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/libraries/">库</a> <label for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/dev-env/">开发环境</a> <label for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/verify-contracts/">验证合约</a> <label for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/block-explorers/" class="md-nav__link"> 区块浏览器 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan 插件 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/verify-contracts/api-verification/" class="md-nav__link"> 基于 API 的验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../ethereum/json-rpc/">JSON-RPC 接口</a> <label for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/eth-rpc/" class="md-nav__link"> 标准以太坊 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/debug-trace/" class="md-nav__link"> 非标准以太坊: 追踪 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/pubsub/" class="md-nav__link"> 非标准以太坊: 发布订阅 </a> </li> <li class="md-nav__item"> <a href="../../../../../ethereum/json-rpc/moonbeam-custom-api/" class="md-nav__link"> 自定义 Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/">Substrate 工具包</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/libraries/">库</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/polkadot-js-api/" class="md-nav__link"> Polkadot.js API </a> </li> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../../../../../substrate/libraries/sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../substrate/dev-env/">开发环境</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../substrate/dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../">互操作性</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../">XCM 互操作性</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../core-concepts/">核心概念</a> <label for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../core-concepts/instructions/" class="md-nav__link"> XCM 指令 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/multilocations/" class="md-nav__link"> 多位置 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/weights-fees/" class="md-nav__link"> 权重和费用 </a> </li> <li class="md-nav__item"> <a href="../../../core-concepts/sovereign-accounts/" class="md-nav__link"> 主权账户 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../xc-registration/">XC 注册</a> <label for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../xc-registration/forum-templates/" class="md-nav__link"> 论坛模板 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/xc-integration/" class="md-nav__link"> XC 通道注册 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/assets/" class="md-nav__link"> 通过治理的 XC 资产注册 </a> </li> <li class="md-nav__item"> <a href="../../../xc-registration/self-serve-asset-registration/" class="md-nav__link"> 自助资产注册 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../xc20/">XC-20s</a> <label for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../xc20/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item"> <a href="../../../xc20/interact/" class="md-nav__link"> 与 XC-20s 交互 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../xc20/send-xc20s/">发送 XC-20s</a> <label for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_5_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../xc20/send-xc20s/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../xc20/send-xc20s/xcm-pallet/" class="md-nav__link"> 使用 Substrate API：Polkadot XCM Pallet </a> </li> <li class="md-nav__item"> <a href="../../../xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> 使用 Ethereum API：X-Tokens Precompile </a> </li> <li class="md-nav__item"> <a href="../../../xc20/send-xc20s/eth-api/" class="md-nav__link"> 使用 Ethereum API：XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">远程执行</a> <label for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_6_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../computed-origins/" class="md-nav__link"> 计算来源账户 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6_4" checked> <div class="md-nav__link md-nav__link--index "> <a href="../">远程 Substrate 调用</a> <label for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_6_4_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> 使用 Substrate API <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> 使用 Substrate API </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#xcm-transactor-pallet-interface" class="md-nav__link"> <span class="md-ellipsis"> XCM 交易器 Pallet 接口 </span> </a> <nav class="md-nav" aria-label="XCM 交易器 Pallet 接口"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#extrinsics" class="md-nav__link"> <span class="md-ellipsis"> Extrinsics </span> </a> </li> <li class="md-nav__item"> <a href="#storage-methods" class="md-nav__link"> <span class="md-ellipsis"> 存储方法 </span> </a> </li> <li class="md-nav__item"> <a href="#constants" class="md-nav__link"> <span class="md-ellipsis"> Pallet 常量 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-instructions-for-remote-execution" class="md-nav__link"> <span class="md-ellipsis"> 用于远程执行的 XCM 指令 </span> </a> </li> <li class="md-nav__item"> <a href="#xcmtransactor-transact-through-signed" class="md-nav__link"> <span class="md-ellipsis"> 通过计算的原始帐户进行交易 </span> </a> <nav class="md-nav" aria-label="通过计算的原始帐户进行交易"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xcmtransactor-signed-check-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> </li> <li class="md-nav__item"> <a href="#xcm-transact-through-signed" class="md-nav__link"> <span class="md-ellipsis"> 构建 XCM </span> </a> </li> <li class="md-nav__item"> <a href="#sending-the-xcm" class="md-nav__link"> <span class="md-ellipsis"> 发送 XCM </span> </a> </li> <li class="md-nav__item"> <a href="#transact-through-computed-origin-fees" class="md-nav__link"> <span class="md-ellipsis"> 通过计算来源费用进行 XCM 交易 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../xcm-transactor-precompile/" class="md-nav__link"> 使用以太坊 API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../remote-evm-calls/" class="md-nav__link"> 远程 EVM 调用 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../../send-execute-xcm/" class="md-nav__link"> 发送、执行和测试 XCM </a> </li> <li class="md-nav__item"> <a href="../../../xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../protocols/">跨链协议</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../../../protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../mrl/" class="md-nav__link"> Moonbeam 路由流动性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/">集成</a> <label for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/indexers/">索引器</a> <label for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../integrations/oracles/">预言机</a> <label for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../../../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/">节点运营商</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/">网络</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/run-a-node/">运行一个节点</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/compile-binary/" class="md-nav__link"> 编译二进制文件 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> 使用 Docker </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> 使用 Systemd </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> 标志 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/tracing-node/" class="md-nav__link"> 运行追踪节点 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../node-operators/networks/collators/">校对者</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/faq/" class="md-nav__link"> 常见问题 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/requirements/" class="md-nav__link"> 要求 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/account-management/" class="md-nav__link"> 账户管理 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> 作者映射预编译 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/activities/" class="md-nav__link"> 校对者活动 </a> </li> <li class="md-nav__item"> <a href="../../../../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> 轨道器计划 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/">代币</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/connect/">连接</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js 应用 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/connect/on-ramps/" class="md-nav__link"> 入金渠道 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/manage/">管理</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/proxy-accounts/" class="md-nav__link"> 代理账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/manage/identity/" class="md-nav__link"> 身份管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/staking/">质押</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/staking/stake/" class="md-nav__link"> 如何质押 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tokens/governance/">治理</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/proposals/" class="md-nav__link"> 提交民主提案 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/voting/" class="md-nav__link"> 对提案投票 </a> </li> <li class="md-nav__item"> <a href="../../../../../../tokens/governance/treasury-spend/" class="md-nav__link"> 提交国库提案 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/">学习</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/core-concepts/">核心概念</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/balances/" class="md-nav__link"> 账户余额 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/transfers-api/" class="md-nav__link"> 余额转账 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> 共识与最终性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/tx-fees/" class="md-nav__link"> 交易费用 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> 统一账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/security/" class="md-nav__link"> 安全注意事项 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/core-concepts/glossary/" class="md-nav__link"> 术语表 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../learn/features/">特性</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../learn/features/eth-compatibility/" class="md-nav__link"> 以太坊兼容性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/governance/" class="md-nav__link"> 治理 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/staking/" class="md-nav__link"> 质押 </a> </li> <li class="md-nav__item"> <a href="../../../../../../learn/features/treasury/" class="md-nav__link"> 国库 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../../learn/dapp-directory/" class="md-nav__link"> DApp 目录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/">教程</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/eth-api/">以太坊 API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] 使用 Tenderly 调试和模拟交易 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../../tutorials/integrations/">集成</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../../tutorials/integrations/0xgasless/" class="md-nav__link"> 启用无 Gas 交易 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#xcm-transactor-pallet-interface" class="md-nav__link"> <span class="md-ellipsis"> XCM 交易器 Pallet 接口 </span> </a> <nav class="md-nav" aria-label="XCM 交易器 Pallet 接口"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#extrinsics" class="md-nav__link"> <span class="md-ellipsis"> Extrinsics </span> </a> </li> <li class="md-nav__item"> <a href="#storage-methods" class="md-nav__link"> <span class="md-ellipsis"> 存储方法 </span> </a> </li> <li class="md-nav__item"> <a href="#constants" class="md-nav__link"> <span class="md-ellipsis"> Pallet 常量 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-instructions-for-remote-execution" class="md-nav__link"> <span class="md-ellipsis"> 用于远程执行的 XCM 指令 </span> </a> </li> <li class="md-nav__item"> <a href="#xcmtransactor-transact-through-signed" class="md-nav__link"> <span class="md-ellipsis"> 通过计算的原始帐户进行交易 </span> </a> <nav class="md-nav" aria-label="通过计算的原始帐户进行交易"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xcmtransactor-signed-check-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> </li> <li class="md-nav__item"> <a href="#xcm-transact-through-signed" class="md-nav__link"> <span class="md-ellipsis"> 构建 XCM </span> </a> </li> <li class="md-nav__item"> <a href="#sending-the-xcm" class="md-nav__link"> <span class="md-ellipsis"> 发送 XCM </span> </a> </li> <li class="md-nav__item"> <a href="#transact-through-computed-origin-fees" class="md-nav__link"> <span class="md-ellipsis"> 通过计算来源费用进行 XCM 交易 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> 这个页面有帮助吗？ </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> 感谢您的反馈！ </div> <div data-md-value="0" hidden> 感谢您的反馈！请提交 <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+XCM%E4%BA%A4%E6%98%93%E5%99%A8%20pallet+-+/zh/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" target="_blank" rel="noopener">更多反馈</a> 来帮助我们改进。 </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/zh/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet.md" title="编辑" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> 编辑 </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="xcm-transactor-pallet">使用 XCM Transactor Pallet 进行远程执行<a class="headerlink" href="#xcm-transactor-pallet" title="Permanent link">&para;</a></h1> <h2 id="introduction">简介<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p>XCM 消息由一系列由跨共识虚拟机（XCVM）执行的<a href="/builders/interoperability/xcm/core-concepts/instructions/" target="_blank">指令</a>组成。这些指令的组合会产生预定的操作，例如跨链代币转移，更有趣的是远程跨链执行。远程执行涉及从一个区块链执行对另一个区块链的操作或动作，同时保持发送者身份和权限的完整性。</p> <p>通常，XCM 消息从根源（即 SUDO 或通过治理）发送，这对于希望通过简单交易利用远程跨链调用的项目来说并不理想。<a href="https://github.com/moonbeam-foundation/moonbeam/blob/master/pallets/xcm-transactor/src/lib.rs" target="_blank">XCM Transactor Pallet</a>使得通过<a href="/builders/interoperability/xcm/overview/#general-xcm-definitions" target="_blank">主权账户</a>（应该只允许通过治理）或通过来自源链的简单交易的<a href="/builders/interoperability/xcm/remote-execution/computed-origins/" target="_blank">计算来源账户</a>，在远程链上进行交易变得容易。</p> <p>本指南将向您展示如何使用 XCM Transactor Pallet 从基于 Moonbeam 的网络向生态系统中的其他链发送 XCM 消息。此外，您还将学习如何使用 XCM Transactor Precompile 通过 Ethereum API 执行相同的操作。</p> <p><strong>请注意，通过 XCM 消息远程执行的操作仍然存在限制</strong>。</p> <p><strong>开发人员必须了解，发送不正确的 XCM 消息可能会导致资金损失。</strong> 因此，必须先在测试网上测试 XCM 功能，然后再转移到生产环境。</p> <h2 id="xcm-transactor-pallet-interface">XCM 交易器 Pallet 接口<a class="headerlink" href="#xcm-transactor-pallet-interface" title="Permanent link">&para;</a></h2> <h3 id="extrinsics">Extrinsics<a class="headerlink" href="#extrinsics" title="Permanent link">&para;</a></h3> <p>XCM Transactor Pallet 提供了以下 extrinsics（函数）：</p> <details class="function" open="open"> <summary><strong>hrmpManage</strong>(action, fee, weightInfo) - 管理与打开、接受和关闭 HRMP 通道相关的 HRMP 操作</summary> <p>在 Moonbeam 或 Moonriver 上，此函数必须通过 General Admin 或 Root Track 的治理来执行。在 Moonbase Alpha 或 Moonbeam 开发节点上，此函数也可以通过 sudo 执行。</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">参数</label><label for="__tabbed_1_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>action</code> - 要执行的操作。可以是 <code>InitOpen</code>、<code>Accept</code>、<code>Close</code> 或 <code>Cancel</code></li> <li><code>fee</code> - 用于支付费用的资产。它包含 <code>currency</code> 和 <code>feeAmount</code>：<ul> <li><code>currency</code> - 定义您如何指定用于支付费用的代币，可以是以下任一项：<ul> <li><code>AsCurrencyId</code> - 用于支付费用的资产的货币 ID。货币 ID 可以是：<ul> <li><code>SelfReserve</code> - 使用原生资产</li> <li><code>ForeignAsset</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#external-xc20s" target="_blank">外部 XC-20</a>。它要求您指定 XC-20 的资产 ID</li> <li><code>LocalAssetReserve</code> - <em>已弃用</em> - 请改用通过 <code>Erc20</code> 货币类型的 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a></li> <li><code>Erc20</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a>。它要求您指定本地 XC-20 的合约地址</li> </ul> </li> <li><code>AsMultiLocation</code> - 用于支付费用的资产的 XCM 版本化多重位置</li> </ul> </li> <li><code>feeAmount</code> - （可选）用于支付费用的金额</li> </ul> </li> <li><code>weightInfo</code> - 要使用的权重信息。<code>weightInfo</code> 结构包含以下内容：<ul> <li><code>transactRequiredWeightAtMost</code> - 执行 <code>Transact</code> 调用所需的权重。<code>transactRequiredWeightAtMost</code> 结构包含以下内容：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> <li><code>overallWeight</code> - （可选）extrinsic 可用于执行所有 XCM 指令的总权重，加上 <code>Transact</code> 调用的权重 (<code>transactRequiredWeightAtMost</code>)。<code>overallWeight</code> 可以定义为以下任一项：<ul> <li><code>Unlimited</code> - 允许可以购买的无限数量的权重</li> <li><code>Limited</code> - 通过定义以下内容来限制可以购买的权重数量：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> </ul> </li> </ul> </li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const action = 'InitOpen'; // Or 'Accept', 'Close', or 'Cancel' const fee = { currency: { AsCurrencyId: { ForeignAsset: INSERT_ASSET_ID }, }, feeAmount: INSERT_FEE_AMOUNT, }; const weightInfo = { transactRequiredWeightAtMost: { refTime: INSERT_REF_TIME, proofSize: INSERT_PROOF_SIZE, }, overallWeight: { Unlimited: null }, };</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.hrmpManage(action, fee, weightInfo); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); }; main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>removeFeePerSecond</strong>(assetLocation) — 删除给定资产在其储备链中的每秒费用信息</summary> <p>在 Moonbeam 或 Moonriver 上，此函数必须通过 General Admin 或 Root Track 的治理来执行。在 Moonbase Alpha 或 Moonbeam 开发节点上，此函数也可以通过 sudo 执行。</p> <div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">参数</label><label for="__tabbed_2_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>assetLocation</code> - 要删除每秒费用信息的资产的 XCM 版本化多重位置</li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const assetLocation = { V4: { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, }, };;</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.removeFeePerSecond(assetLocation); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); }; main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>removeTransactInfo</strong>(location) — 删除给定链的 transact 信息</summary> <p>在 Moonbeam 或 Moonriver 上，此函数必须通过 General Admin 或 Root Track 的治理来执行。在 Moonbase Alpha 或 Moonbeam 开发节点上，此函数也可以通过 sudo 执行。</p> <div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">参数</label><label for="__tabbed_3_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>location</code> - 您要删除 transact 信息的给定链的 XCM 版本化多重位置</li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const assetLocation = { V4: { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, }, };;</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.removeTransactInfo(assetLocation); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); }; main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>setFeePerSecond</strong>(assetLocation, feePerSecond) — 设置给定资产在其储备链上的每秒费用。每秒费用信息通常与执行 XCM 指令的成本有关</summary> <p>在 Moonbeam 或 Moonriver 上，此函数必须通过 General Admin 或 Root Track 的治理来执行。在 Moonbase Alpha 或 Moonbeam 开发节点上，此函数也可以通过 sudo 执行。</p> <div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">参数</label><label for="__tabbed_4_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>assetLocation</code> - 要删除每秒费用信息的资产的 XCM 版本化多重位置</li> <li><code>feePerSecond</code> - 在执行 XCM 指令时，将向 extrinsic 发送者收取的每秒 XCM 执行的代币单位数</li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const assetLocation = { V4: { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, }, }; const feePerSecond = INSERT_FEE_PER_SECOND;</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.setFeePerSecond(assetLocation, feePerSecond); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); };</p> <p>main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>setTransactInfo</strong>(location, transactExtraWeight, maxWeight) — 设置给定链的 transact 信息。transact 信息通常包括有关执行 XCM 指令所需的权重以及目标链上允许的远程 XCM 执行的最大权重的详细信息</summary> <p>在 Moonbeam 或 Moonriver 上，此函数必须通过 General Admin 或 Root Track 的治理来执行。在 Moonbase Alpha 或 Moonbeam 开发节点上，此函数也可以通过 sudo 执行。</p> <div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">参数</label><label for="__tabbed_5_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>location</code> - 您要设置 transact 信息的给定链的 XCM 版本化多重位置</li> <li><code>transactExtraWeight</code> - 用于支付 XCM 指令（<code>WithdrawAsset</code>、<code>BuyExecution</code> 和 <code>Transact</code>）的执行费用的权重，估计至少比远程 XCM 指令执行使用的权重高 10%。<code>transactExtraWeight</code> 结构包含以下内容：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> <li><code>maxWeight</code> - 远程 XCM 执行允许的最大权重单位。<code>maxWeight</code> 结构还包含 <code>refTime</code> 和 <code>proofSize</code></li> <li><code>transactExtraWeightSigned</code> - （可选）用于支付 XCM 指令（<code>DescendOrigin</code>、<code>WithdrawAsset</code>、<code>BuyExecution</code> 和 <code>Transact</code>）的执行费用的权重，估计至少比远程 XCM 指令执行使用的权重高 10%。<code>transactExtraWeightSigned</code> 结构还包含 <code>refTime</code> 和 <code>proofSize</code></li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const location = INSERT_MULTILOCATION; const transactExtraWeight = { refTime: INSERT_REF_TIME, proofSize: INSERT_PROOF_SIZE, }; const maxWeight = { refTime: INSERT_REF_TIME, proofSize: INSERT_PROOF_SIZE, };</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.setTransactInfo( location, transactExtraWeight, maxWeight ); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); };</p> <p>main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>transactThroughSigned</strong>(destination, fee, call, weightInfo, refund) — 发送一条 XCM 消息，其中包含在目标链中远程执行调用的指令。远程调用将由目标平行链必须计算的新帐户签名并执行。基于 Moonbeam 的网络遵循 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.17.1/polkadot/xcm/xcm-builder/src/location_conversion.rs" target="_blank">Polkadot 设置的 Computed Origins 标准</a></summary> <div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">参数</label><label for="__tabbed_6_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>dest</code> - XCM 版本化多重位置，用于生态系统中要将 XCM 消息发送到的链（目标链）</li> <li><code>fee</code> - 用于支付费用的资产。它包含 <code>currency</code> 和 <code>feeAmount</code>：<ul> <li><code>currency</code> - 定义您如何指定用于支付费用的代币，可以是以下任一项：<ul> <li><code>AsCurrencyId</code> - 用于支付费用的资产的货币 ID。货币 ID 可以是：<ul> <li><code>SelfReserve</code> - 使用原生资产</li> <li><code>ForeignAsset</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#external-xc20s" target="_blank">外部 XC-20</a>。它要求您指定 XC-20 的资产 ID</li> <li><code>LocalAssetReserve</code> - <em>已弃用</em> - 请改用通过 <code>Erc20</code> 货币类型的 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a></li> <li><code>Erc20</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a>。它要求您指定本地 XC-20 的合约地址</li> </ul> </li> <li><code>AsMultiLocation</code> - 用于支付费用的资产的 XCM 版本化多重位置</li> </ul> </li> <li><code>feeAmount</code> - （可选）用于支付费用的金额</li> </ul> </li> <li><code>call</code> - 将在目标链中执行的调用的编码调用数据</li> <li><code>weightInfo</code> - 要使用的权重信息。<code>weightInfo</code> 结构包含以下内容：<ul> <li><code>transactRequiredWeightAtMost</code> - 执行 <code>Transact</code> 调用所需的权重。<code>transactRequiredWeightAtMost</code> 结构包含以下内容：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> <li><code>overallWeight</code> - （可选）extrinsic 可用于执行所有 XCM 指令的总权重，加上 <code>Transact</code> 调用的权重 (<code>transactRequiredWeightAtMost</code>)。<code>overallWeight</code> 可以定义为以下任一项：<ul> <li><code>Unlimited</code> - 允许可以购买的无限数量的权重</li> <li><code>Limited</code> - 通过定义以下内容来限制可以购买的权重数量：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> </ul> </li> </ul> </li> <li><code>refund</code> - 指示是否将 <code>RefundSurplus</code> 和 <code>DepositAsset</code> 指令添加到 XCM 消息以退还任何剩余费用的布尔值</li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const dest = { V4: { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, }, }; const fee = { currency: { AsCurrencyId: { ForeignAsset: INSERT_ASSET_ID }, }, feeAmount: INSERT_FEE_AMOUNT, }; const call = 'INSERT_ENCODED_CALL_DATA'; const weightInfo = { transactRequiredWeightAtMost: { refTime: INSERT_REF_TIME, proofSize: INSERT_PROOF_SIZE, }, overallWeight: { Unlimited: null }, }; const refund = INSERT_BOOLEAN_FOR_REFUND;</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.transactThroughSigned( dest, fee, call, weightInfo, refund ); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); };</p> <p>main(); </p> </div> </div> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>在以下部分中，您将准确了解如何检索使用此 extrinsic 构建和发送 XCM 消息所需的所有参数。</p> </div> </details> <details class="function"> <summary><strong>transactThroughSovereign</strong>(dest, feePayer, fee, call, originKind, weightInfo, refund) — 发送一条 XCM 消息，其中包含在给定目标远程执行给定调用的指令。远程调用将由源平行链 Sovereign 帐户（支付费用）签名，但事务是从给定的 origin 调度的。XCM Transactor Pallet 计算远程执行的费用，并以相应的 <a href="/builders/interoperability/xcm/xc20/overview/" target="_blank">XC-20 代币</a> 向给定帐户收取估计金额</summary> <div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">参数</label><label for="__tabbed_7_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>dest</code> - XCM 版本化多重位置，用于生态系统中要将 XCM 消息发送到的链（目标链）</li> <li><code>feePayer</code> - （可选）将以相应的 <a href="/builders/interoperability/xcm/xc20/overview/" target="_blank">XC-20 代币</a> 支付远程 XCM 执行费用的地址。如果未指定 <code>feePayer</code>，则 XCM 执行费用将由目标链上的 Sovereign 帐户支付</li> <li><code>fee</code> - 用于支付费用的资产。它包含 <code>currency</code> 和 <code>feeAmount</code>：<ul> <li><code>currency</code> - 定义您如何指定用于支付费用的代币，可以是以下任一项：<ul> <li><code>AsCurrencyId</code> - 用于支付费用的资产的货币 ID。货币 ID 可以是：<ul> <li><code>SelfReserve</code> - 使用原生资产</li> <li><code>ForeignAsset</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#external-xc20s" target="_blank">外部 XC-20</a>。它要求您指定 XC-20 的资产 ID</li> <li><code>LocalAssetReserve</code> - <em>已弃用</em> - 请改用通过 <code>Erc20</code> 货币类型的 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a></li> <li><code>Erc20</code> - 使用 <a href="/builders/interoperability/xcm/xc20/overview/#local-xc20s" target="_blank">本地 XC-20</a>。它要求您指定本地 XC-20 的合约地址</li> </ul> </li> <li><code>AsMultiLocation</code> - 用于支付费用的资产的 XCM 版本化多重位置</li> </ul> </li> <li><code>feeAmount</code> - （可选）用于支付费用的金额</li> </ul> </li> <li><code>call</code> - 将在目标链中执行的调用的编码调用数据</li> <li><code>originKind</code> - 目标链中远程调用的调度程序。<a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-stable2412/polkadot/xcm/src/v3/mod.rs#L421-L440" target="_blank">有四种类型的调度程序</a> 可用：<code>Native</code>、<code>SovereignAccount</code>、<code>Superuser</code> 或 <code>Xcm</code></li> <li><code>weightInfo</code> - 要使用的权重信息。<code>weightInfo</code> 结构包含以下内容：<ul> <li><code>transactRequiredWeightAtMost</code> - 执行 <code>Transact</code> 调用所需的权重。<code>transactRequiredWeightAtMost</code> 结构包含以下内容：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> <li><code>overallWeight</code> - （可选）extrinsic 可用于执行所有 XCM 指令的总权重，加上 <code>Transact</code> 调用的权重 (<code>transactRequiredWeightAtMost</code>)。<code>overallWeight</code> 可以定义为以下任一项：<ul> <li><code>Unlimited</code> - 允许可以购买的无限数量的权重</li> <li><code>Limited</code> - 通过定义以下内容来限制可以购买的权重数量：<ul> <li><code>refTime</code> - 可用于执行的计算时间量</li> <li><code>proofSize</code> - 可使用的存储量（以字节为单位）</li> </ul> </li> </ul> </li> </ul> </li> <li><code>refund</code> - 指示是否将 <code>RefundSurplus</code> 和 <code>DepositAsset</code> 指令添加到 XCM 消息以退还任何剩余费用的布尔值</li> </ul> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const dest = { V4: { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, }, }; const fee = { currency: { AsCurrencyId: { ForeignAsset: INSERT_ASSET_ID }, }, feeAmount: INSERT_FEE_AMOUNT, }; const feePayer = 'INSERT_ADDRESS_RESPONSIBLE_FOR_FEES'; const call = 'INSERT_ENCODED_CALL_DATA'; const originKind = 'INSERT_ORIGIN_KIND'; const weightInfo = { transactRequiredWeightAtMost: { refTime: INSERT_REF_TIME, proofSize: INSERT_PROOF_SIZE, }, overallWeight: { Unlimited: null }, }; const refund = INSERT_BOOLEAN_FOR_REFUND;</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const tx = api.tx.xcmTransactor.transactThroughSovereign( dest, feePayer, fee, call, originKind, weightInfo, refund ); const txHash = await tx.signAndSend('INSERT_ACCOUNT_OR_KEYRING'); };</p> <p>main();</p> </div> </div> </div> </details> <h3 id="storage-methods">存储方法<a class="headerlink" href="#storage-methods" title="Permanent link">&para;</a></h3> <p>XCM Transactor Pallet 包含以下只读存储方法：</p> <details class="function" open="open"> <summary><strong>destinationAssetFeePerSecond</strong>(location) - 返回给定资产的每秒费用</summary> <div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><input id="__tabbed_8_3" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">参数</label><label for="__tabbed_8_2">返回值</label><label for="__tabbed_8_3">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>location</code> - (可选) 特定目标资产的 XCM 版本多位置</li> </ul> </div> <div class="tabbed-block"> <p>表示给定资产每秒费用的值的数字。此值的返回格式可能因链及其存储数据的方式而异。您可以使用 <code>@polkadot/util</code> 库进行各种转换，例如，使用 <code>hexToBigInt</code> 方法将十六进制值转换为大整数。</p> <p>js // 如果使用 Polkadot.js API 并在解包的值上调用 toJSON() 10000000000000</p> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const location = { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, };</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const feePerSecond = await api.query.xcmTransactor.destinationAssetFeePerSecond(location);</p> <p>if (feePerSecond.isSome) { const data = feePerSecond.unwrap(); console.log(data.toJSON()); } };</p> <p>main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>palletVersion</strong>() — 从存储返回当前的 pallet 版本</summary> <div class="tabbed-set tabbed-alternate" data-tabs="9:3"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"><input id="__tabbed_9_2" name="__tabbed_9" type="radio"><input id="__tabbed_9_3" name="__tabbed_9" type="radio"><div class="tabbed-labels"><label for="__tabbed_9_1">参数</label><label for="__tabbed_9_2">返回值</label><label for="__tabbed_9_3">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>无</p> </div> <div class="tabbed-block"> <p>表示 pallet 当前版本的数字。</p> <p>js // 如果使用 Polkadot.js API 并在解包的值上调用 toJSON() 0</p> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const palletVersion = await api.query.xcmTransactor.palletVersion(); };</p> <p>main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>transactInfoWithWeightLimit</strong>(location) — 返回给定多位置的事务信息</summary> <div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"><input id="__tabbed_10_2" name="__tabbed_10" type="radio"><input id="__tabbed_10_3" name="__tabbed_10" type="radio"><div class="tabbed-labels"><label for="__tabbed_10_1">参数</label><label for="__tabbed_10_2">返回值</label><label for="__tabbed_10_3">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <ul> <li><code>location</code> - (可选) 特定目标资产的 XCM 版本多位置</li> </ul> </div> <div class="tabbed-block"> <p>事务信息对象。</p> <p>js // 如果使用 Polkadot.js API 并在解包的值上调用 toJSON() { transactExtraWeight: { refTime: 3000000000, proofSize: 131072 }, maxWeight: { refTime: 20000000000, proofSize: 131072 }, transactExtraWeightSigned: { refTime: 4000000000, proofSize: 131072 }, }</p> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const location = { parents: INSERT_PARENTS, interior: INSERT_INTERIOR, };</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), }); const transactInfoWithWeightLimit = await api.query.xcmTransactor.transactInfoWithWeightLimit(location);</p> <p>if (transactInfoWithWeightLimit.isSome) { const data = transactInfoWithWeightLimit.unwrap(); console.log(data.toJSON()); } };</p> <p>main();</p> </div> </div> </div> </details> <h3 id="constants">Pallet 常量<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h3> <p>XCM 交易器 Pallet 包含以下只读函数来获取 pallet 常量：</p> <details class="function" open="open"> <summary><strong>baseXcmWeight</strong>() - 返回每个 XCM 指令执行所需的基本 XCM 权重</summary> <div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"><input id="__tabbed_11_2" name="__tabbed_11" type="radio"><div class="tabbed-labels"><label for="__tabbed_11_1">返回值</label><label for="__tabbed_11_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>基本 XCM 权重对象。</p> <p 0="0" 200000000_="200000000," proofsize:="proofSize:" reftime:="refTime:">js // 如果使用 Polkadot.js API 并在解包的值上调用 toJSON()</p> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), });</p> <p>const baseXcmWeight = api.consts.xcmTransactor.baseXcmWeight; console.log(baseXcmWeight.toJSON()); };</p> <p>main();</p> </div> </div> </div> </details> <details class="function"> <summary><strong>selfLocation</strong>() - 返回链的 multilocation</summary> <div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio"><input id="__tabbed_12_2" name="__tabbed_12" type="radio"><div class="tabbed-labels"><label for="__tabbed_12_1">返回值</label><label for="__tabbed_12_2">Polkadot.js API 示例</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>自定位 multilocation 对象。</p> <p>js // 如果使用 Polkadot.js API 并在解包的值上调用 toJSON() { parents: 0, interior: { here: null } }</p> </div> <div class="tabbed-block"> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { const api = await ApiPromise.create({ provider: new WsProvider('INSERT_WSS_ENDPOINT'), });</p> <p>const selfLocation = api.consts.xcmTransactor.selfLocation; console.log(selfLocation.toJSON()); };</p> <p>main();</p> </div> </div> </div> </details> <h2 id="xcm-instructions-for-remote-execution">用于远程执行的 XCM 指令<a class="headerlink" href="#xcm-instructions-for-remote-execution" title="Permanent link">&para;</a></h2> <p>通过 XCM 执行远程执行的相关 <a href="/builders/interoperability/xcm/core-concepts/instructions/" target="_blank">XCM 指令</a> 包括但不限于：</p> <ul> <li><a href="/builders/interoperability/xcm/core-concepts/instructions/#descend-origin" target="_blank"><code>DescendOrigin</code></a> - 在目标链中执行。它会改变目标链上的发起方，以匹配源链上的发起方，确保目标链上的执行代表在源链上发起 XCM 消息的同一实体发生</li> <li><a href="/builders/interoperability/xcm/core-concepts/instructions/#withdraw-asset" target="_blank"><code>WithdrawAsset</code></a> - 在目标链中执行。移除资产，并将它们放入持有登记处</li> <li><a href="/builders/interoperability/xcm/core-concepts/instructions/#buy-execution" target="_blank"><code>BuyExecution</code></a> - 在目标链中执行。从持有处获取资产以支付执行费用。要支付的费用由目标链确定</li> <li><a href="/builders/interoperability/xcm/core-concepts/instructions/#transact" target="_blank"><code>Transact</code></a> - 在目标链中执行。从给定的发起方分派编码的调用数据，允许执行特定的操作或函数</li> </ul> <h2 id="xcmtransactor-transact-through-signed">通过计算的原始帐户进行交易<a class="headerlink" href="#xcmtransactor-transact-through-signed" title="Permanent link">&para;</a></h2> <p>本节介绍如何使用 XCM Transactor Pallet 构建用于远程执行的 XCM 消息，特别是使用 <code>transactThroughSigned</code> 函数。此函数使用目标链上的计算原始帐户来分发远程调用。</p> <p>本节中的示例使用了不可公开访问的目标平行链，因此您无法完全按照示例进行操作。您可以根据自己的用例修改示例。</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>您需要确保要在远程执行的调用在目标链中是允许的！</p> </div> <h3 id="xcmtransactor-signed-check-prerequisites">检查先决条件<a class="headerlink" href="#xcmtransactor-signed-check-prerequisites" title="Permanent link">&para;</a></h3> <p>要能够发送本节中的外部调用，您需要具备以下条件：</p> <ul> <li>原始链中的一个帐户，其中包含<a href="/builders/get-started/networks/moonbase/#get-tokens" target="_blank">资金</a></li> <li>目标链上计算出的原始帐户中的资金。要了解如何计算计算出的原始帐户的地址，请参阅<a href="/builders/interoperability/xcm/remote-execution/computed-origins/" target="_blank">如何计算计算出的原始帐户</a>文档</li> </ul> <p>在此示例中，将使用以下帐户：</p> <ul> <li>Alice在原始平行链（Moonbase Alpha）中的帐户：<code>0x44236223aB4291b93EEd10E4B511B37a398DEE55</code></li> <li>她在目标平行链（平行链888）中计算出的原始地址：<code>0x5c27c4bb7047083420eddff9cddac4a0a120b45c</code></li> </ul> <h3 id="xcm-transact-through-signed">构建 XCM<a class="headerlink" href="#xcm-transact-through-signed" title="Permanent link">&para;</a></h3> <p>由于您将与 XCM Transactor Pallet 的 <code>transactThroughSigned</code> 函数交互，因此您需要组装 <code>dest</code>、<code>fee</code>、<code>call</code>、<code>weightInfo</code> 和 <code>refund</code> 参数的值。为此，您可以采取以下步骤：</p> <ol> <li> <p>定义目标多重位置，它将目标定为平行链 888</p> <p>js const privateKey = 'INSERT_PRIVATE_KEY'; const dest = { V4: { parents: 1, interior: { X1: [{ Parachain: 888 }] }, },</p> </li> <li> <p>定义 <code>fee</code> 信息，这将要求您定义货币并设置费用金额</p> <div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio"><input id="__tabbed_13_2" name="__tabbed_13" type="radio"><div class="tabbed-labels"><label for="__tabbed_13_1">External XC-20s</label><label for="__tabbed_13_2">Local XC-20s</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>js const fee = { currency: { AsCurrencyId: { ForeignAsset: 35487752324713722007834302681851459189n }, }, feeAmount: 50000000000000000n, };</p> </div> <div class="tabbed-block"> <p>js const fee = { currency: { AsCurrencyId: { Erc20: { contractAddress: ERC_20_ADDRESS} }, }, feeAmount: 50000000000000000n, };</p> </div> </div> </div> </li> <li> <p>定义将在目标链中执行的 <code>call</code>，它是要调用的 pallet、方法和输入的编码调用数据。 它可以在 <a href="https://polkadot.js.org/apps" target="_blank">Polkadot.js Apps</a>（必须连接到目标链）或使用 <a href="/builders/substrate/libraries/polkadot-js-api/" target="_blank">Polkadot.js API</a> 构建。 对于此示例，内部调用是将目标链的 1 个代币简单余额转移到 Alice 在那里的帐户</p> <p>js const call = '0x030044236223ab4291b93eed10e4b511b37a398dee5513000064a7b3b6e00d';</p> </li> <li> <p>设置 <code>weightInfo</code>，其中包括特定于内部调用的权重 (<code>transactRequiredWeightAtMost</code>) 以及事务加上 XCM 执行的可选整体权重 (<code>overallWeight</code>)。 对于每个参数，您可以遵循以下准则：</p> <ul> <li>对于 <code>transactRequiredAtMost</code>，您可以将 <code>refTime</code> 设置为 <code>1000000000</code> 权重单位，将 <code>proofSize</code> 设置为 <code>40000</code></li> <li>对于 <code>overallWeight</code>，该值必须是 <code>transactRequiredWeightAtMost</code> 加上涵盖目标链中 XCM 指令的执行成本所需的权重的总和。 如果您不提供此值，则 pallet 将使用存储中的元素（如果存在）并将其添加到 <code>transactRequiredWeightAtMost</code>。 对于此示例，您可以将 <code>overallWeight</code> 设置为 <code>Unlimited</code>，这无需知道目标链需要多少权重才能执行 XCM</li> </ul> <p>js const weightInfo = { transactRequiredWeightAtMost: { refTime: 1000000000n, proofSize: 40000n }, overallWeight: { Unlimited: null }, };</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>为了准确估计 <code>transactRequiredAtMost</code> 的 <code>refTime</code> 和 <code>proofSize</code> 数字，您可以使用 <a href="/builders/substrate/libraries/polkadot-js-api/#fees" target="_blank">Polkadot.js API 的 <code>paymentInfo</code> 方法</a>。</p> </div> </li> <li> <p>要退还任何剩余的 XCM 费用，您可以将 <code>refund</code> 值设置为 <code>true</code>。 否则，将其设置为 <code>false</code></p> <p>js const refund = true;</p> </li> </ol> <h3 id="sending-the-xcm">发送 XCM<a class="headerlink" href="#sending-the-xcm" title="Permanent link">&para;</a></h3> <p>既然您已经获得了每个参数的值，那么您可以编写交易脚本。您需要执行以下步骤：</p> <ol> <li>提供调用的输入数据。包括：<ul> <li>用于创建提供程序的 Moonbase Alpha 端点 URL</li> <li><code>transactThroughSigned</code> 函数的每个参数的值</li> </ul> </li> <li>创建将用于发送交易的 Keyring 实例</li> <li>创建 <a href="/builders/substrate/libraries/polkadot-js-api/" target="_blank">Polkadot.js API</a> 提供程序</li> <li>使用 <code>dest</code>、<code>fee</code>、<code>call</code>、<code>weightInfo</code> 和 <code>refund</code> 值制作 <code>xcmTransactor.transactThroughSigned</code> extrinsic</li> <li>使用 <code>signAndSend</code> extrinsic 和您在第二步中创建的 Keyring 实例发送交易</li> </ol> <div class="admonition remember"> <p class="admonition-title">Remember</p> <p>这仅用于演示目的。切勿将您的私钥存储在 JavaScript 文件中。</p> </div> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">,</span><span class="w"> </span><span class="nx">Keyring</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Version 10.13.1</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">cryptoWaitReady</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util-crypto&#39;</span><span class="p">;</span>

<span class="c1">// 1. Provide input data</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">providerWsURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;wss://wss.api.moonbase.moonbeam.network&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_PRIVATE_KEY&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">dest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">V4</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">parents</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">    </span><span class="nx">interior</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">X1</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">Parachain</span><span class="o">:</span><span class="w"> </span><span class="mf">888</span><span class="w"> </span><span class="p">}]</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">currency</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">AsCurrencyId</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ForeignAsset</span><span class="o">:</span><span class="w"> </span><span class="mi">35487752324713722007834302681851459189n</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">feeAmount</span><span class="o">:</span><span class="w"> </span><span class="mi">50000000000000000n</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0x030044236223ab4291b93eed10e4b511b37a398dee5513000064a7b3b6e00d&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">weightInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">transactRequiredWeightAtMost</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">refTime</span><span class="o">:</span><span class="w"> </span><span class="mi">1000000000n</span><span class="p">,</span><span class="w"> </span><span class="nx">proofSize</span><span class="o">:</span><span class="w"> </span><span class="mi">40000n</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nx">overallWeight</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Unlimited</span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">},</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">refund</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">transactThroughSigned</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 2. Create Keyring instance</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">cryptoWaitReady</span><span class="p">();</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">keyring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyring</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ethereum&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">alice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">keyring</span><span class="p">.</span><span class="nx">addFromUri</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 3. Create Substrate API provider</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">substrateProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="nx">providerWsURL</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">substrateProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// 4. Craft the extrinsic</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">tx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">xcmTransactor</span><span class="p">.</span><span class="nx">transactThroughSigned</span><span class="p">(</span>
<span class="w">    </span><span class="nx">dest</span><span class="p">,</span>
<span class="w">    </span><span class="nx">fee</span><span class="p">,</span>
<span class="w">    </span><span class="nx">call</span><span class="p">,</span>
<span class="w">    </span><span class="nx">weightInfo</span><span class="p">,</span>
<span class="w">    </span><span class="nx">refund</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// 5. Send the transaction</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">txHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">tx</span><span class="p">.</span><span class="nx">signAndSend</span><span class="p">(</span><span class="nx">alice</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Submitted with hash </span><span class="si">${</span><span class="nx">txHash</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">transactThroughSigned</span><span class="p">();</span>
</code></pre></div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>您可以在 <a href="https://polkadot.js.org/apps/?rpc=wss://wss.api.moonbase.moonbeam.network#/extrinsics/decode/0x210604010100e10d00017576e5e612ff054915d426c546b1b21a010000c52ebca2b10000000000000000007c030044236223ab4291b93eed10e4b511b37a398dee5513000064a7b3b6e00d02286bee02710200010001" target="_blank">Polkadot.js 应用</a> 上查看上述脚本的示例，该脚本将一个 token 发送到平行链 888 上的 Alice 的 Computed Origin 账户，使用以下编码的 calldata：<code>0x210604010100e10d00017576e5e612ff054915d426c546b1b21a010000c52ebca2b10000000000000000007c030044236223ab4291b93eed10e4b511b37a398dee5513000064a7b3b6e00d02286bee02710200010001</code>。</p> </div> <h3 id="transact-through-computed-origin-fees">通过计算来源费用进行 XCM 交易<a class="headerlink" href="#transact-through-computed-origin-fees" title="Permanent link">&para;</a></h3> <p>当<a href="#xcmtransactor-transact-through-signed" target="_blank">通过“计算来源”帐户进行交易</a>时，交易费用由发起调用的同一帐户支付，该帐户是目标链中的“计算来源”帐户。因此，“计算来源”帐户必须持有必要的资金才能支付整个执行过程的费用。请注意，用于支付费用的目标 Token 不需要在来源链中注册为 XC-20。</p> <p>要估算 Alice 的“计算来源”帐户执行远程调用所需的 Token 数量，您需要检查特定于目标链的交易信息。您可以使用以下脚本来获取平行链 888 的交易信息：</p> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Version 10.13.1</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">providerWsURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;wss://wss.api.moonbase.moonbeam.network&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">parents</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">interior</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">X1</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">Parachain</span><span class="o">:</span><span class="w"> </span><span class="mf">888</span><span class="w"> </span><span class="p">}]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">substrateProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="nx">providerWsURL</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">substrateProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">transactInfoWithWeightLimit</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">xcmTransactor</span><span class="p">.</span><span class="nx">transactInfoWithWeightLimit</span><span class="p">(</span><span class="nx">location</span><span class="p">);</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">transactInfoWithWeightLimit</span><span class="p">.</span><span class="nx">isSome</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">transactInfoWithWeightLimit</span><span class="p">.</span><span class="nx">unwrap</span><span class="p">();</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transactExtraWeightSigned</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="nx">data</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">().</span><span class="nx">transactExtraWeightSigned</span><span class="p">.</span><span class="nx">refTime</span><span class="p">;</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">transactExtraWeightSigned</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div> <p>响应显示 <code>transactExtraWeightSigned</code> 是 <code>400,000,000</code>。执行该特定目标链中此远程调用的四个 XCM 指令需要此权重。接下来，您需要了解目标链根据资产价格对 XCM 执行的每个权重收取多少费用。以前，这是通过获取每秒单位值来完成的。但是，此方法已被计算相对价格所取代。相对价格是指从价值（即价格）角度来看，外币资产的多少单位对应于本地 Token（GLMR 或 MOVR）的一个单位。例如，如果外币资产价值 5 美元，而 GLMR 价值 0.25 美元，则相对价格为 0.05。但是，我们必须将结果缩放到 18 位小数，以对应于使用的 Wei 单位。在这种情况下，相对价格将为 <code>50000000000000000</code>。</p> <p>您可以使用 <a href="https://github.com/Moonsong-Labs/xcm-tools?tab=readme-ov-file#calculate-relative-price" target="_blank">XCM Tools 存储库</a> 中的脚本来计算相对价格。该脚本也复制如下：</p> <details class="code"> <summary>计算相对价格</summary> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">chalk</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;chalk&#39;</span><span class="p">;</span>

<span class="c1">// CoinGecko IDs for the networks</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">NETWORK_IDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">GLMR</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;moonbeam&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">MOVR</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;moonriver&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">calculateRelativePrice</span><span class="p">(</span>
<span class="w">  </span><span class="nx">assetPrice</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span>
<span class="w">  </span><span class="nx">network</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GLMR&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;MOVR&#39;</span>
<span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Fetch the native token price from CoinGecko</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`https://api.coingecko.com/api/v3/simple/price?ids=</span><span class="si">${</span><span class="nx">NETWORK_IDS</span><span class="p">[</span><span class="nx">network</span><span class="p">]</span><span class="si">}</span><span class="sb">&amp;vs_currencies=usd`</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">nativeTokenPrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">NETWORK_IDS</span><span class="p">[</span><span class="nx">network</span><span class="p">]].</span><span class="nx">usd</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Calculate relative price with 18 decimal places</span>
<span class="w">    </span><span class="c1">// Formula: (nativeTokenPrice / assetPrice) * 10^18</span>
<span class="w">    </span><span class="c1">// This gives us how many units of the asset we need to equal 1 unit of native token</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">relativePrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">nativeTokenPrice</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">assetPrice</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="mf">18</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Return as string to preserve precision</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">relativePrice</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="ne">Error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Failed to calculate relative price: </span><span class="si">${</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="nx">error</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">validateInput</span><span class="p">(</span>
<span class="w">  </span><span class="nx">price</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
<span class="w">  </span><span class="nx">network</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span>
<span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">assetPrice</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span><span class="w"> </span><span class="nx">network</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GLMR&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;MOVR&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Validate price</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">assetPrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">price</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">assetPrice</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">assetPrice</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;Price must be a positive number&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Validate network</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">upperNetwork</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">network</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="s1">&#39;GLMR&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;MOVR&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;GLMR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MOVR&#39;</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="nx">upperNetwork</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;Network must be either GLMR or MOVR&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">assetPrice</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="o">:</span><span class="w"> </span><span class="kt">upperNetwork</span><span class="w"> </span><span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">printUsage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;\nUsage:&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;npx ts-node relative-price-calculator.ts &lt;price&gt; &lt;network&gt;&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;\nExample:&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;npx ts-node relative-price-calculator.ts 0.25 GLMR&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;\nParameters:&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;price   - The price of your asset in USD&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;network - Either GLMR or MOVR&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Get command line arguments</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">price</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Check if help flag is passed</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">price</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;--help&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">price</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;-h&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">printUsage</span><span class="p">();</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Check if required arguments are provided</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">price</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">network</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error: Missing required arguments&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="nx">printUsage</span><span class="p">();</span>
<span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Validate inputs</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">assetPrice</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="o">:</span><span class="w"> </span><span class="kt">validNetwork</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">validateInput</span><span class="p">(</span><span class="nx">price</span><span class="p">,</span><span class="w"> </span><span class="nx">network</span><span class="p">);</span>

<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`\nCalculating relative price for asset worth $</span><span class="si">${</span><span class="nx">assetPrice</span><span class="si">}</span><span class="sb"> against </span><span class="si">${</span><span class="nx">validNetwork</span><span class="si">}</span><span class="sb">...`</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">relativePrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">calculateRelativePrice</span><span class="p">(</span>
<span class="w">      </span><span class="nx">assetPrice</span><span class="p">,</span>
<span class="w">      </span><span class="nx">validNetwork</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">nativeTokenPrice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span>
<span class="w">        </span><span class="sb">`https://api.coingecko.com/api/v3/simple/price?ids=</span><span class="si">${</span><span class="nx">NETWORK_IDS</span><span class="p">[</span><span class="nx">validNetwork</span><span class="p">]</span><span class="si">}</span><span class="sb">&amp;vs_currencies=usd`</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="p">).</span><span class="nx">data</span><span class="p">[</span><span class="nx">NETWORK_IDS</span><span class="p">[</span><span class="nx">validNetwork</span><span class="p">]].</span><span class="nx">usd</span><span class="p">;</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">decimalRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nativeTokenPrice</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">assetPrice</span><span class="p">;</span>

<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`\nResults:`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Asset Price: $</span><span class="si">${</span><span class="nx">assetPrice</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Network: </span><span class="si">${</span><span class="nx">validNetwork</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Native Token Price (from CoinGecko): $</span><span class="si">${</span><span class="nx">nativeTokenPrice</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`\nRelative Price Analysis:`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`1 </span><span class="si">${</span><span class="nx">validNetwork</span><span class="si">}</span><span class="sb"> is equal to approximately </span><span class="si">${</span><span class="nx">decimalRatio</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span>
<span class="w">        </span><span class="mf">3</span>
<span class="w">      </span><span class="p">)</span><span class="si">}</span><span class="sb"> of your specified token.`</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`With 18 decimals, 1 </span><span class="si">${</span><span class="nx">validNetwork</span><span class="si">}</span><span class="sb"> or in WEI, 1000000000000000000 is equal to a relative price of </span><span class="si">${</span><span class="nx">relativePrice</span><span class="si">}</span><span class="sb"> units of your token`</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">chalk</span><span class="p">.</span><span class="nx">bold</span><span class="p">(</span><span class="sb">`\nRelative Price: </span><span class="si">${</span><span class="nx">relativePrice</span><span class="si">}</span><span class="sb">`</span><span class="p">));</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`\nThe relative price you should specify in asset registration steps is </span><span class="si">${</span><span class="nx">relativePrice</span><span class="si">}</span><span class="sb">\n`</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;\nError:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">error.message</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">error</span><span class="p">);</span>
<span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div> </details> <p>请注意，相对价格值与 <a href="/builders/interoperability/xcm/core-concepts/weights-fees/#polkadot" target="_blank">中继链 XCM 费用计算</a> 部分中估计的成本相关，或者如果目标是另一条平行链，则与 <a href="/builders/interoperability/xcm/core-concepts/weights-fees/#moonbeam-reserve-assets" target="_blank">每权重单位</a> 部分中显示的成本相关。您需要找到正确的值，以确保“计算来源”帐户持有的 Token 数量是正确的。计算相关的 XCM 执行费用就像将 <code>transactExtraWeightSigned</code> 乘以 <code>relativePrice</code>（用于估算）一样简单：</p> <div class="highlight"><pre><span></span><code>XCM-Wei-Token-Cost = transactExtraWeightSigned * relativePrice
XCM-Token-Cost = XCM-Wei-Token-Cost / DecimalConversion
</code></pre></div> <p>因此，通过派生调用进行一次 XCM Transactor 交易的实际计算如下：</p> <div class="highlight"><pre><span></span><code>XCM-Wei-Token-Cost = 400000000 * 50000000000000000
XCM-Token-Cost = 20000000000000 / 10^18
</code></pre></div> <p>通过“计算来源”进行交易的成本是 <code>0.00002 TOKEN</code>。<strong>请注意，这不包括远程执行调用的成本，仅包括 XCM 执行费用。</strong></p> <div class="md-source-file"> <small> <span class="source-file-label">更新时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月20日 17:44:01">2026年1月20日</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">创建时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月20日 17:44:01">2026年1月20日</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="标题"> <a href="../" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> 上一个 </span> <span class="md-footer__page-name"> 远程Substrate调用 </span> </div> </a> <a href="../xcm-transactor-precompile/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> 下一个 </span> <span class="md-footer__page-name"> 使用以太坊 API </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI 兼容文档 </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">法学硕士文本</a> <a class="llms-link" href="/llms-full.txt">法学硕士全文</a> <a class="llms-link" href="../../../../../../../ai-resources/ai-resources/">按主题分类的法学硕士</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M256 8a248 248 0 1 0 0 496 248 248 0 1 0 0-496m115 168.7c-3.7 39.2-19.9 134.4-28.1 178.3-3.5 18.6-10.3 24.8-16.9 25.4-14.4 1.3-25.3-9.5-39.3-18.7-21.8-14.3-34.2-23.2-55.3-37.2-24.5-16.1-8.6-25 5.3-39.5 3.7-3.8 67.1-61.5 68.3-66.7.2-.7.3-3.1-1.2-4.4s-3.6-.8-5.1-.5c-2.2.5-37.1 23.5-104.6 69.1-9.9 6.8-18.9 10.1-26.9 9.9-8.9-.2-25.9-5-38.6-9.1-15.5-5-27.9-7.7-26.8-16.3.6-4.5 6.7-9 18.4-13.7 72.3-31.5 120.5-52.3 144.6-62.3 68.9-28.6 83.2-33.6 92.5-33.8 2.1 0 6.6.5 9.6 2.9 2 1.7 3.2 4.1 3.5 6.7.5 3.2.6 6.5.4 9.8z"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> 由 <a href="https://papermoon.io/" target="_blank">PaperMoon</a> with 🩵 制作 </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">使用条款</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">隐私政策</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> 左侧区域徽标 <div class="cookie-logo"> <img src="../../../../../../../assets/images/Moonbeam_Icon_White.webp" alt="用于 Cookie 同意的 Moonbeam 徽标"> </div> 中心区域标题和描述 <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> 管理设置切换 <input class="md-toggle" type="checkbox" id="__settings"> 同意设置 <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> 右侧区域按钮 <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">同意</button> <label class="md-button" for="__settings">管理设定</label> <button type="reset" class="md-button md-button--secondary">拒绝</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"annotate":null,"base":"../../../../../../","features":["navigation.tabs","navigation.tabs.sticky","navigation.sections","navigation.indexes","navigation.prune","content.code.copy","announce.dismiss","content.action.edit"],"search":"../../../../../../../assets/javascripts/workers/search.2c215733.min.js","tags":null,"translations":{"clipboard.copied":"\u5df2\u590d\u5236","clipboard.copy":"\u590d\u5236","search.result.more.one":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.more.other":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.none":"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.one":"\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.other":"# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.placeholder":"\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22","search.result.term.missing":"\u7f3a\u5c11","select.version":"\u9009\u62e9\u5f53\u524d\u7248\u672c"},"version":null}</script> <script src="../../../../../../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../../../../../../../js/connectMetaMask.js"></script> <script src="../../../../../../../js/errorModal.js"></script> <script src="../../../../../../../js/networkModal.js"></script> <script src="../../../../../../../js/lang-toggle.js"></script> <script src="../../../../../../../js/fixCreatedDate.js"></script> <script src="../../../../../../../js/externalLinkModal.js"></script> <script src="../../../../../../../js/cookbookInit.js"></script> <script src="../../../../../../../js/clipboardCopyllms.js"></script> <script src="../../../../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "已复制"
              ) {
                copiedToClipboardMessage.textContent =
                  "已复制";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>