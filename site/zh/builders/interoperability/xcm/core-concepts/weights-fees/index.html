<!doctype html><html lang="zh" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="了解处理 XCM 执行费用支付所涉及的 XCM 指令，以及如何在 Polkadot、Kusama 和基于 Moonbeam 的网络上计算费用。"><link rel="canonical" href="https://docs.moonbeam.network/zh/builders/interoperability/xcm/core-concepts/weights-fees/"><link rel="prev" href="../multilocations/"><link rel="next" href="../sovereign-accounts/"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>XCM 执行费用 | Moonbeam Docs</title><link rel="stylesheet" href="../../../../../../assets/stylesheets/main.342714a4.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"zh": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#moonbeamxcm" class="md-skip"> 跳转至 </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="标题"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="标签" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../">构建者</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="快速入门" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">快速入门</span> <p class="dropdown-desc">开始构建所需的一切</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../build/historical-updates/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/build.webp" alt="构建" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">构建</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../ethereum/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="以太坊工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊工具包</span> <p class="dropdown-desc">Ethereum 库、工具和合约</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../substrate/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate 工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate 工具包</span> <p class="dropdown-desc">Substrate 库、工具和底层接口</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="互操作性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">互操作性</span> <p class="dropdown-desc">用于跨链开发的 GMP 协议</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">要集成的工具和协议</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../node-operators/">节点运营商</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="网络" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">网络</span> <p class="dropdown-desc">运行完整节点、追踪节点或收集人节点</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../tokens/">代币</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="连接" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">连接</span> <p class="dropdown-desc">将您的钱包连接到 Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="管理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">管理</span> <p class="dropdown-desc">高级帐户和身份服务</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="质押" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">质押</span> <p class="dropdown-desc">通过委托给收集人来质押代币</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="治理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">治理</span> <p class="dropdown-desc">提交和投票参与链上提案</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../learn/">学习</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="核心概念" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">核心概念</span> <p class="dropdown-desc">了解 Moonbeam 的基础知识</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="特性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">特性</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp 目录" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp 目录</span> <p class="dropdown-desc">浏览 DApp 目录和列表流程</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../../tutorials/">教程</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="以太坊 API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊 API</span> <p class="dropdown-desc">从入门到专业的智能合约教程</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">通过无缝集成教程深入了解</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="选择当前语言"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">中文</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="./" hreflang="zh" role="menuitem" aria-label="Chinese" class="is-active"> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="../../../../../../builders/interoperability/xcm/core-concepts/weights-fees/" hreflang="en" role="menuitem" aria-label="English" class> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> 连接钱包 </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> 水龙头 </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="搜索"> <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> 正在初始化搜索引擎 </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../../../" title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../" class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../../">构建者</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../get-started/">快速入门</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../get-started/quick-start/" class="md-nav__link"> 快速开始 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../get-started/networks/">网络</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbeam-dev/" class="md-nav__link"> 本地 Moonbeam 开发节点 </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../get-started/endpoints/" class="md-nav__link"> 网络 RPC 端点 </a> </li> <li class="md-nav__item"> <a href="../../../../get-started/explorers/" class="md-nav__link"> 区块浏览器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3"> <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0"> 构建 <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <li class="md-nav__item"> <a href="../../../../build/historical-updates/" class="md-nav__link"> 历史更新 </a> </li> <li class="md-nav__item"> <a href="../../../../build/runtime-upgrades/" class="md-nav__link"> 运行时升级 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/">以太坊工具包</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/canonical-contracts/" class="md-nav__link"> 规范合约 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/">预编译合约</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/account/">账户管理</a> <label for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/account/identity/" class="md-nav__link"> 身份 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/account/proxy/" class="md-nav__link"> 代理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/ux/">用户体验</a> <label for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/ux/batch/" class="md-nav__link"> 批量 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/ux/call-permit/" class="md-nav__link"> 调用许可 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/ux/erc20/" class="md-nav__link"> 原生代币 ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/features/">网络特性</a> <label for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/features/governance/">Governance</a> <label for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_4_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/features/staking/" class="md-nav__link"> 质押功能 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/interoperability/">互操作性</a> <label for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X 代币 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM 接口 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM 转账器 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/precompiles/utility/">实用工具</a> <label for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/utility/eth-mainnet/" class="md-nav__link"> 以太坊原生 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/utility/registry/" class="md-nav__link"> 预编译注册表 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/utility/relay-data-verifier/" class="md-nav__link"> 中继数据验证器 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/precompiles/utility/non-specific/" class="md-nav__link"> 非网络特定 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/libraries/">库</a> <label for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/dev-env/">开发环境</a> <label for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/verify-contracts/">验证合约</a> <label for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/verify-contracts/block-explorers/" class="md-nav__link"> 区块浏览器 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan 插件 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/verify-contracts/api-verification/" class="md-nav__link"> 基于 API 的验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../ethereum/json-rpc/">JSON-RPC 接口</a> <label for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../ethereum/json-rpc/eth-rpc/" class="md-nav__link"> 标准以太坊 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/json-rpc/debug-trace/" class="md-nav__link"> 非标准以太坊: 追踪 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/json-rpc/pubsub/" class="md-nav__link"> 非标准以太坊: 发布订阅 </a> </li> <li class="md-nav__item"> <a href="../../../../ethereum/json-rpc/moonbeam-custom-api/" class="md-nav__link"> 自定义 Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/">Substrate 工具包</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/libraries/">库</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../substrate/libraries/polkadot-js-api/" class="md-nav__link"> Polkadot.js API </a> </li> <li class="md-nav__item"> <a href="../../../../substrate/libraries/py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../../../../substrate/libraries/sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../substrate/dev-env/">开发环境</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../substrate/dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../">互操作性</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">XCM 互操作性</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_3" checked> <div class="md-nav__link md-nav__link--index "> <a href="../">核心概念</a> <label for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../instructions/" class="md-nav__link"> XCM 指令 </a> </li> <li class="md-nav__item"> <a href="../multilocations/" class="md-nav__link"> 多位置 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> 权重和费用 <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> 权重和费用 </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#payment-of-fees" class="md-nav__link"> <span class="md-ellipsis"> 费用支付 </span> </a> <nav class="md-nav" aria-label="费用支付"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xcm-instructions" class="md-nav__link"> <span class="md-ellipsis"> XCM 指令 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#rel-chain-xcm-fee-calc" class="md-nav__link"> <span class="md-ellipsis"> 中继链 XCM 费用计算 </span> </a> <nav class="md-nav" aria-label="中继链 XCM 费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#polkadot" class="md-nav__link"> <span class="md-ellipsis"> Polkadot </span> </a> </li> <li class="md-nav__item"> <a href="#kusama" class="md-nav__link"> <span class="md-ellipsis"> Kusama </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#moonbeam-xcm-fee-calc" class="md-nav__link"> <span class="md-ellipsis"> 基于 Moonbeam 的网络 XCM 费用计算 </span> </a> <nav class="md-nav" aria-label="基于 Moonbeam 的网络 XCM 费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#moonbeam-reserve-assets" class="md-nav__link"> <span class="md-ellipsis"> 储备资产的费用计算 </span> </a> </li> <li class="md-nav__item"> <a href="#fee-calc-external-assets" class="md-nav__link"> <span class="md-ellipsis"> 外部资产的费用计算 </span> </a> <nav class="md-nav" aria-label="外部资产的费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#weight-to-gas-mapping" class="md-nav__link"> <span class="md-ellipsis"> 权重到 Gas 的映射 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#weight-to-asset-fee-conversion" class="md-nav__link"> <span class="md-ellipsis"> 权重到资产费用转换 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-payment-api-exanded-examples" class="md-nav__link"> <span class="md-ellipsis"> XCM 支付 API 扩展示例 </span> </a> <nav class="md-nav" aria-label="XCM 支付 API 扩展示例"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#query-acceptable-fee-payment-assets" class="md-nav__link"> <span class="md-ellipsis"> 查询可接受的手续费支付资产 </span> </a> </li> <li class="md-nav__item"> <a href="#weight-to-asset-fee-conversion" class="md-nav__link"> <span class="md-ellipsis"> 权重到资产费用转换 </span> </a> </li> <li class="md-nav__item"> <a href="#query-xcm-weight" class="md-nav__link"> <span class="md-ellipsis"> 查询 XCM 权重 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../sovereign-accounts/" class="md-nav__link"> 主权账户 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../xc-registration/">XC 注册</a> <label for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../xc-registration/forum-templates/" class="md-nav__link"> 论坛模板 </a> </li> <li class="md-nav__item"> <a href="../../xc-registration/xc-integration/" class="md-nav__link"> XC 通道注册 </a> </li> <li class="md-nav__item"> <a href="../../xc-registration/assets/" class="md-nav__link"> 通过治理的 XC 资产注册 </a> </li> <li class="md-nav__item"> <a href="../../xc-registration/self-serve-asset-registration/" class="md-nav__link"> 自助资产注册 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../xc20/">XC-20s</a> <label for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../xc20/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item"> <a href="../../xc20/interact/" class="md-nav__link"> 与 XC-20s 交互 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../xc20/send-xc20s/">发送 XC-20s</a> <label for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_5_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../xc20/send-xc20s/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../xc20/send-xc20s/xcm-pallet/" class="md-nav__link"> 使用 Substrate API：Polkadot XCM Pallet </a> </li> <li class="md-nav__item"> <a href="../../xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> 使用 Ethereum API：X-Tokens Precompile </a> </li> <li class="md-nav__item"> <a href="../../xc20/send-xc20s/eth-api/" class="md-nav__link"> 使用 Ethereum API：XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../remote-execution/">远程执行</a> <label for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../remote-execution/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../remote-execution/computed-origins/" class="md-nav__link"> 计算来源账户 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../remote-execution/substrate-calls/">远程 Substrate 调用</a> <label for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_6_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../remote-execution/substrate-calls/xcm-transactor-pallet/" class="md-nav__link"> 使用 Substrate API </a> </li> <li class="md-nav__item"> <a href="../../remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> 使用以太坊 API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../remote-execution/remote-evm-calls/" class="md-nav__link"> 远程 EVM 调用 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../send-execute-xcm/" class="md-nav__link"> 发送、执行和测试 XCM </a> </li> <li class="md-nav__item"> <a href="../../xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../protocols/">跨链协议</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../../protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../../protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../../protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../mrl/" class="md-nav__link"> Moonbeam 路由流动性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/">集成</a> <label for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/indexers/">索引器</a> <label for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../integrations/oracles/">预言机</a> <label for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/">节点运营商</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/">网络</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/run-a-node/">运行一个节点</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> 使用 Docker </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> 使用 Systemd </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> 标志 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/run-a-node/compile-binary/" class="md-nav__link"> 编译二进制文件 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/tracing-node/" class="md-nav__link"> 运行追踪节点 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../node-operators/networks/collators/">校对者</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/faq/" class="md-nav__link"> 常见问题 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/requirements/" class="md-nav__link"> 要求 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/account-management/" class="md-nav__link"> 账户管理 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> 作者映射预编译 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/activities/" class="md-nav__link"> 校对者活动 </a> </li> <li class="md-nav__item"> <a href="../../../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> 轨道器计划 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/">代币</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/connect/">连接</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js 应用 </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/connect/on-ramps/" class="md-nav__link"> 入金渠道 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/manage/">管理</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/manage/proxy-accounts/" class="md-nav__link"> 代理账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/manage/identity/" class="md-nav__link"> 身份管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/staking/">质押</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/staking/stake/" class="md-nav__link"> 如何质押 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tokens/governance/">治理</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tokens/governance/proposals/" class="md-nav__link"> 提交民主提案 </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/governance/voting/" class="md-nav__link"> 对提案投票 </a> </li> <li class="md-nav__item"> <a href="../../../../../tokens/governance/treasury-spend/" class="md-nav__link"> 提交国库提案 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/">学习</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/core-concepts/">核心概念</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/balances/" class="md-nav__link"> 账户余额 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/transfers-api/" class="md-nav__link"> 余额转账 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> 共识与最终性 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/tx-fees/" class="md-nav__link"> 交易费用 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> 统一账户 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/security/" class="md-nav__link"> 安全注意事项 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/core-concepts/glossary/" class="md-nav__link"> 术语表 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../learn/features/">特性</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../learn/features/eth-compatibility/" class="md-nav__link"> 以太坊兼容性 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/governance/" class="md-nav__link"> 治理 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/staking/" class="md-nav__link"> 质押 </a> </li> <li class="md-nav__item"> <a href="../../../../../learn/features/treasury/" class="md-nav__link"> 国库 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../../learn/dapp-directory/" class="md-nav__link"> DApp 目录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/">教程</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/eth-api/">以太坊 API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] 使用 Tenderly 调试和模拟交易 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../../tutorials/integrations/">集成</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../../tutorials/integrations/0xgasless/" class="md-nav__link"> 启用无 Gas 交易 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#payment-of-fees" class="md-nav__link"> <span class="md-ellipsis"> 费用支付 </span> </a> <nav class="md-nav" aria-label="费用支付"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#xcm-instructions" class="md-nav__link"> <span class="md-ellipsis"> XCM 指令 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#rel-chain-xcm-fee-calc" class="md-nav__link"> <span class="md-ellipsis"> 中继链 XCM 费用计算 </span> </a> <nav class="md-nav" aria-label="中继链 XCM 费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#polkadot" class="md-nav__link"> <span class="md-ellipsis"> Polkadot </span> </a> </li> <li class="md-nav__item"> <a href="#kusama" class="md-nav__link"> <span class="md-ellipsis"> Kusama </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#moonbeam-xcm-fee-calc" class="md-nav__link"> <span class="md-ellipsis"> 基于 Moonbeam 的网络 XCM 费用计算 </span> </a> <nav class="md-nav" aria-label="基于 Moonbeam 的网络 XCM 费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#moonbeam-reserve-assets" class="md-nav__link"> <span class="md-ellipsis"> 储备资产的费用计算 </span> </a> </li> <li class="md-nav__item"> <a href="#fee-calc-external-assets" class="md-nav__link"> <span class="md-ellipsis"> 外部资产的费用计算 </span> </a> <nav class="md-nav" aria-label="外部资产的费用计算"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#weight-to-gas-mapping" class="md-nav__link"> <span class="md-ellipsis"> 权重到 Gas 的映射 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#weight-to-asset-fee-conversion" class="md-nav__link"> <span class="md-ellipsis"> 权重到资产费用转换 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#xcm-payment-api-exanded-examples" class="md-nav__link"> <span class="md-ellipsis"> XCM 支付 API 扩展示例 </span> </a> <nav class="md-nav" aria-label="XCM 支付 API 扩展示例"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#query-acceptable-fee-payment-assets" class="md-nav__link"> <span class="md-ellipsis"> 查询可接受的手续费支付资产 </span> </a> </li> <li class="md-nav__item"> <a href="#weight-to-asset-fee-conversion" class="md-nav__link"> <span class="md-ellipsis"> 权重到资产费用转换 </span> </a> </li> <li class="md-nav__item"> <a href="#query-xcm-weight" class="md-nav__link"> <span class="md-ellipsis"> 查询 XCM 权重 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> 这个页面有帮助吗？ </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> 感谢您的反馈！ </div> <div data-md-value="0" hidden> 感谢您的反馈！请提交 <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+XCM%20%E6%89%A7%E8%A1%8C%E8%B4%B9%E7%94%A8+-+/zh/builders/interoperability/xcm/core-concepts/weights-fees/" target="_blank" rel="noopener">更多反馈</a> 来帮助我们改进。 </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/zh/builders/interoperability/xcm/core-concepts/weights-fees.md" title="编辑" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> 编辑 </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="moonbeamxcm">Moonbeam上的XCM费用<a class="headerlink" href="#moonbeamxcm" title="Permanent link">&para;</a></h1> <h2 id="introduction">简介<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p>XCM 旨在成为一种在共识系统之间交流思想的语言。发送 XCM 消息包含一系列指令，这些指令在发起链和目标链中执行。XCM 指令的组合会导致诸如代币转移之类的操作。为了处理和执行每个 XCM 指令，通常需要支付相关的费用。</p> <p>但是，XCM 的设计具有通用性、可扩展性和高效性，因此在不断增长的生态系统中，它始终具有价值和面向未来的特性。因此，通用性适用于包括 XCM 执行费用支付在内的概念。在 Ethereum 中，费用已纳入交易协议，而在 Polkadot 生态系统中，每个链都可以灵活地定义如何处理 XCM 费用。</p> <p>本指南将介绍费用支付的各个方面，例如谁负责支付 XCM 执行费用、如何支付费用以及如何在 Moonbeam 上计算费用。</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><strong>以下信息仅供一般参考。</strong> 自撰写本文以来，权重和外部基本成本可能已更改。请确保您检查实际值，并且切勿将以下信息用于生产应用程序。</p> </div> <h2 id="payment-of-fees">费用支付<a class="headerlink" href="#payment-of-fees" title="Permanent link">&para;</a></h2> <p>一般来说，费用支付过程可以描述如下：</p> <ol> <li>需要提供一些资产</li> <li>必须协商资产交换计算时间（或权重）</li> <li>XCM 操作将按照指示执行，并具有所提供的权重限制或可用于执行的资金</li> </ol> <p>每个链都可以配置 XCM 费用的处理方式以及可以使用哪些代币支付（原生储备代币或外部代币）。例如：</p> <ul> <li><strong>Polkadot 和 Kusama</strong> - 费用分别以 DOT 或 KSM 支付，并交给区块的验证者</li> <li><strong>Moonbeam 和 Moonriver</strong> - XCM 执行费用可以用储备资产（分别为 GLMR 或 MOVR）支付，也可以用在其他链中产生的资产支付（如果这些资产注册为 <a href="/builders/interoperability/xcm/xc-registration/assets/" target="_blank">XCM 执行资产</a>）。当 XCM 执行（代币转移或远程执行）以原生链储备资产（GLMR 或 MOVR）支付时，100% 将被销毁。当 XCM 执行以国外资产支付时，费用将发送到 Treasury</li> </ul> <p>考虑以下情景：Alice 在 Polkadot 上有一些 DOT，她想将其转移到 Moonbeam 上的 Alith。她发送了一条 XCM 消息，其中包含一组 XCM 指令，这些指令将从她在 Polkadot 上的帐户中检索给定数量的 DOT，并将它们作为 xcDOT 铸造到 Alith 的帐户中。部分指令在 Polkadot 上执行，另一部分在 Moonbeam 上执行。</p> <p>Alice 如何支付 Moonbeam 来执行这些指令并满足她的请求？她的请求通过一系列包含在 XCM 消息中的 XCM 指令来满足，这使她可以购买执行时间，减去任何相关的 XCM 执行费用。执行时间用于发行和转移 xcDOT，这是 DOT 在 Moonbeam 上的表示。这意味着当 Alice 将一些 DOT 发送到 Alith 在 Moonbeam 上的帐户时，她将收到她的 DOT 的 1:1 表示，即 xcDOT 减去任何 XCM 执行费用。请注意，在这种情况下，XCM 执行费用以 xcDOT 支付并发送到 Treasury。</p> <p>Alice 转移的确切过程如下：</p> <ol> <li>资产被发送到 Polkadot 上由 Moonbeam 拥有的帐户，称为 Sovereign 帐户。收到资产后，将向 Moonbeam 发送一条 XCM 消息</li> <li>Moonbeam 中的 XCM 消息将：<ol> <li>铸造相应的资产表示</li> <li>购买相应的执行时间</li> <li>使用该执行时间将表示（减去费用）存入目标帐户</li> </ol> </li> </ol> <h3 id="xcm-instructions">XCM 指令<a class="headerlink" href="#xcm-instructions" title="Permanent link">&para;</a></h3> <p>XCM 消息由一系列 XCM 指令组成。因此，不同的 XCM 指令组合会导致不同的操作。例如，要将 DOT 移动到 Moonbeam，可以使用以下 XCM 指令：</p> <p>When DOT is transferred from Polkadot to Moonbeam, the following XCM instructions are executed in sequence:</p> <ol> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#transfer-reserve-asset" target="_blank"><code>TransferReserveAsset</code></a> - executes on Polkadot, moving the DOT from the sender and depositing it into Moonbeam’s Sovereign account on Polkadot</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#reserve-asset-deposited" target="_blank"><code>ReserveAssetDeposited</code></a> - executes on Moonbeam, minting the corresponding ERC-20 representation of DOT (xcDOT) on Moonbeam</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#clear-origin" target="_blank"><code>ClearOrigin</code></a> - executes on Moonbeam, clearing any origin data—previously set to Polkadot’s Sovereign account</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#buy-execution" target="_blank"><code>BuyExecution</code></a> - executes on Moonbeam, determining the execution fees. Here, a portion of the newly minted xcDOT is used to pay the cost of XCM</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#deposit-asset" target="_blank"><code>DepositAsset</code></a> - executes on Moonbeam, delivering the xcDOT to the intended recipient’s account on Moonbeam</p> </li> </ol> <p>要检查如何构建 XCM 消息的指令以将自留资产转移到目标链（例如将 DOT 转移到 Moonbeam），您可以参考 <a href="https://github.com/moonbeam-foundation/open-runtime-module-library/blob/master/xtokens/src/lib.rs" target="_blank">X-Tokens 开放运行时模块库</a> 存储库（例如）。您将需要查看 <a href="https://github.com/moonbeam-foundation/open-runtime-module-library/blob/master/xtokens/src/lib.rs#L699" target="_blank"><code>transfer_self_reserve_asset</code></a> 函数。您会注意到它调用 <code>TransferReserveAsset</code> 并传入 <code>assets</code>、<code>dest</code> 和 <code>xcm</code> 作为参数。特别是，<code>xcm</code> 参数包括 <code>BuyExecution</code> 和 <code>DepositAsset</code> 指令。然后，如果您前往 Polkadot GitHub 存储库，您可以找到 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.17.1/polkadot/xcm/xcm-executor/src/lib.rs#L671" target="_blank"><code>TransferReserveAsset</code> 指令</a>。XCM 消息是通过将 <code>ReserveAssetDeposited</code> 和 <code>ClearOrigin</code> 指令与 <code>xcm</code> 参数组合而构建的，如前所述，<code>xcm</code> 参数包括 <code>BuyExecution</code> 和 <code>DepositAsset</code> 指令。</p> <p>In scenarios where you want to move an asset back to its reserve chain, such as sending xcDOT from Moonbeam to Polkadot, Moonbeam uses the following set of XCM instructions:</p> <ol> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#withdraw-asset" target="_blank"><code>WithdrawAsset</code></a> – executes on Moonbeam, taking the specified token (xcDOT) from the sender</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#initiate-reserve-withdraw" target="_blank"><code>InitiateReserveWithdraw</code></a> – executes on Moonbeam, which, burns the token on Moonbeam (removing the wrapped representation), and sends an XCM message to Polkadot, indicating the tokens should be released there </p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#withdraw-asset" target="_blank"><code>WithdrawAsset</code></a> – executes on Polkadot, removing the tokens from Moonbeam’s Sovereign account on Polkadot</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#clear-origin" target="_blank"><code>ClearOrigin</code></a> – gets executed on Polkadot. Clears any origin data (e.g., the Sovereign account on Moonbeam)</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#buy-execution" target="_blank"><code>BuyExecution</code></a> – Polkadot determines the execution fees and uses part of the DOT being transferred to pay for them</p> </li> <li> <p><a href="/builders/interoperability/xcm/core-concepts/instructions/#deposit-asset" target="_blank"><code>DepositAsset</code></a> – finally, the native DOT tokens are deposited into the specified Polkadot account</p> </li> </ol> <p>要检查如何构建 XCM 消息的指令以将储备资产转移到目标链（例如将 xcDOT 转移到 Polkadot），您可以参考 <a href="https://github.com/moonbeam-foundation/open-runtime-module-library/tree/master/xtokens" target="_blank">X-Tokens 开放运行时模块库</a> 存储库。您将需要查看 <a href="https://github.com/moonbeam-foundation/open-runtime-module-library/blob/master/xtokens/src/lib.rs#L719" target="_blank"><code>transfer_to_reserve</code></a> 函数。您会注意到它调用 <code>WithdrawAsset</code>，然后调用 <code>InitiateReserveWithdraw</code> 并传入 <code>assets</code>、<code>dest</code> 和 <code>xcm</code> 作为参数。特别是，<code>xcm</code> 参数包括 <code>BuyExecution</code> 和 <code>DepositAsset</code> 指令。然后，如果您前往 Polkadot GitHub 存储库，您可以找到 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.17.1/polkadot/xcm/xcm-executor/src/lib.rs#L903" target="_blank"><code>InitiateReserveWithdraw</code> 指令</a>。XCM 消息是通过将 <code>WithdrawAsset</code> 和 <code>ClearOrigin</code> 指令与 <code>xcm</code> 参数组合而构建的，如前所述，<code>xcm</code> 参数包括 <code>BuyExecution</code> 和 <code>DepositAsset</code> 指令。</p> <h2 id="rel-chain-xcm-fee-calc">中继链 XCM 费用计算<a class="headerlink" href="#rel-chain-xcm-fee-calc" title="Permanent link">&para;</a></h2> <p>Substrate 引入了一种权重系统，用于确定外部因素的计算成本有多高或换句话说有多昂贵。一个权重单位被定义为一个皮秒的执行时间。在支付费用时，用户将根据所发出调用的权重支付交易费用，以及网络拥塞等因素。</p> <p>以下部分将详细介绍如何计算 Polkadot 和 Kusama 的 XCM 费用。重要的是要注意，特别是 Kusama，使用基准数据来确定 XCM 指令的总权重成本，并且某些 XCM 指令可能包括数据库读取和写入，这会增加调用的权重。</p> <p>Polkadot 和 Kusama 中有两个可用的数据库：RocksDB（默认）和 ParityDB，两者都有各自与每个网络相关的权重成本。</p> <h3 id="polkadot">Polkadot<a class="headerlink" href="#polkadot" title="Permanent link">&para;</a></h3> <p>Polkadot上的总权重成本除了给定指令所需的权重外，还考虑了数据库的读取和写入。Polkadot对指令以及数据库的读取和写入操作使用基准权重。数据库操作的权重成本细分可以在<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/constants/src/weights/rocksdb_weights.rs" target="_blank">RocksDB（默认）</a>和<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/constants/src/weights/paritydb_weights.rs" target="_blank">ParityDB</a>的相应存储库文件中找到。</p> <p>现在您已经了解了Polkadot上数据库读取和写入的权重成本，您可以使用指令的基本权重来计算给定指令的权重成本。</p> <p>在Polkadot上，基准基础权重分为两类：可替代的和通用的。可替代权重用于涉及转移资产的XCM指令，通用权重用于其他所有指令。您可以直接在Polkadot Runtime代码中查看<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/src/weights/xcm/pallet_xcm_benchmarks_fungible.rs#L46" target="_blank">可替代资产</a>和<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/src/weights/xcm/pallet_xcm_benchmarks_generic.rs#L46" target="_blank">通用资产</a>的当前权重。</p> <p>确定指令权重成本后，您可以计算每个指令的DOT成本。</p> <p>在Polkadot中，<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/constants/src/weights/extrinsic_weights.rs#L56" target="_blank"><code>ExtrinsicBaseWeight</code></a>设置为<code>126,045,000</code>，它<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/polkadot/constants/src/lib.rs#L92" target="_blank">映射到</a>美分的1/10。其中1美分是<code>10^10 / 100</code>。</p> <p>因此，要计算执行XCM指令的成本，可以使用以下公式：</p> <div class="highlight"><pre><span></span><code>XCM-DOT-Cost = XCMInstrWeight * DOTWeightToFeeCoefficient
</code></pre></div> <p>其中<code>DOTWeightToFeeCoefficient</code>是一个常数（映射到1美分），可以计算为：</p> <div class="highlight"><pre><span></span><code>DOTWeightToFeeCoefficient = 10^10 / ( 10 * 100 * DOTExtrinsicBaseWeight )
</code></pre></div> <p>现在，您可以开始计算以DOT为单位的最终费用，使用<code>DOTWeightToFeeCoefficient</code>作为常数，<code>TotalWeight</code>作为变量：</p> <div class="highlight"><pre><span></span><code>XCM-Planck-DOT-Cost = TotalWeight * DOTWeightToFeeCoefficient
XCM-DOT-Cost = XCM-Planck-DOT-Cost / DOTDecimalConversion
</code></pre></div> <h3 id="kusama">Kusama<a class="headerlink" href="#kusama" title="Permanent link">&para;</a></h3> <p>Kusama上的总权重成本除了给定指令所需的权重外，还会考虑数据库的读取和写入。数据库操作的权重成本细分可以在<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/constants/src/weights/rocksdb_weights.rs" target="_blank">RocksDB（默认）</a>和<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/constants/src/weights/paritydb_weights.rs" target="_blank">ParityDB</a>的相应存储库文件中找到。</p> <p>在Kusama上，基准基本权重分为两类：可替代的和通用的。可替代权重用于涉及移动资产的XCM指令，通用权重用于其他所有指令。您可以在Kusama Runtime代码中直接查看<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/src/weights/xcm/pallet_xcm_benchmarks_fungible.rs#L46" target="_blank">可替代资产</a>和<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/src/weights/xcm/pallet_xcm_benchmarks_generic.rs#L46" target="_blank">通用资产</a>的当前权重。</p> <p>在确定指令权重成本后，您可以使用<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/constants/src/weights/extrinsic_weights.rs#L56" target="_blank"><code>ExtrinsicBaseWeight</code></a>和<a href="https://github.com/polkadot-fellows/runtimes/blob/v1.6.1/relay/kusama/constants/src/lib.rs#L90" target="_blank">权重费用映射</a>来计算KSM中指令的成本。</p> <p>要计算执行XCM指令的成本，可以使用以下公式：</p> <div class="highlight"><pre><span></span><code>XCM-KSM-Cost = XCMInstrWeight * KSMWeightToFeeCoefficient
</code></pre></div> <p>其中<code>KSMWeightToFeeCoefficient</code>是一个常数（映射到1美分），可以计算为：</p> <div class="highlight"><pre><span></span><code>KSMWeightToFeeCoefficient = 10^12 / ( 10 * 3000 * KSMExtrinsicBaseWeight )
</code></pre></div> <p>现在，您可以开始计算KSM中的最终费用，使用<code>KSMWeightToFeeCoefficient</code>作为常量，<code>TotalWeight</code>作为变量：</p> <div class="highlight"><pre><span></span><code>XCM-Planck-KSM-Cost = TotalWeight * KSMWeightToFeeCoefficient
XCM-KSM-Cost = XCM-Planck-KSM-Cost / KSMDecimalConversion
</code></pre></div> <h2 id="moonbeam-xcm-fee-calc">基于 Moonbeam 的网络 XCM 费用计算<a class="headerlink" href="#moonbeam-xcm-fee-calc" title="Permanent link">&para;</a></h2> <p>Substrate 引入了一个权重系统，用于确定一个 extrinsic 从计算成本角度来看有多重或换句话说有多昂贵。一个单位的权重被定义为一皮秒的执行时间。在支付费用时，用户将根据所调用函数的权重支付交易费，并且每个平行链可以决定如何将权重转换为费用。例如，这可以解释与交易大小和存储相关的额外成本。</p> <p>对于所有基于 Moonbeam 的网络，通用 XCM 指令都经过基准测试，而同质化 XCM 指令仍然对每个指令使用固定的权重。因此，经过基准测试的 XCM 指令的总权重成本除了给定指令所需的权重外，还考虑了数据库的读取和写入次数。Polkadot SDK 细分了相关的 <a href="https://github.com/paritytech/polkadot-sdk/blob/polkadot-v1.17.1/substrate/frame/support/src/weights/rocksdb_weights.rs#L27-L28" target="_blank">RocksDB 数据库权重</a>。</p> <p>现在，您可以使用指令的基本权重以及额外的数据库读取和写入（如果适用）来计算同质化和通用 XCM 指令的权重成本。</p> <p>例如，<code>WithdrawAsset</code> 指令是同质化 XCM 指令的一部分。因此，它没有经过基准测试，并且 <a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/runtime/moonbeam/src/weights/xcm/fungible.rs#L36" target="_blank"><code>WithdrawAsset</code> 指令</a> 的总权重成本为 <code>200,000,000</code>，但传输本地 XC-20 时除外。本地 XC-20 的 <code>WithdrawAsset</code> 指令的总权重成本基于将 Ethereum gas 转换为 Substrate 权重。</p> <p><code>BuyExecution</code> 指令是通用的，因此具有预定义的基准权重。您可以在 <a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/runtime/moonbeam/src/weights/xcm/generic.rs#L132-L133" target="_blank">Moonbeam 运行时源代码</a> 中查看其当前基本权重。除了基本权重外，该指令还执行四次数据库读取，这些读取被添加到计算总权重中。</p> <p>您可以在下表中找到所有 XCM 指令的所有权重值，这些值适用于所有基于 Moonbeam 的网络：</p> <table> <thead> <tr> <th style="text-align: center;">基准测试指令</th> <th style="text-align: center;">非基准测试指令</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;"><a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/runtime/moonbeam/src/weights/xcm/generic.rs" target="_blank">通用 XCM 指令</a></td> <td style="text-align: center;"><a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/runtime/moonbeam/src/weights/xcm/fungible.rs" target="_blank">同质化 XCM 指令</a></td> </tr> </tbody> </table> <p>以下部分将分解如何计算基于 Moonbeam 的网络的 XCM 费用。主要有两种情况：</p> <ul> <li>以储备代币（如 GLMR、MOVR 或 DEV 等原生代币）支付的费用</li> <li>以外部资产 (XC-20) 支付的费用</li> </ul> <h3 id="moonbeam-reserve-assets">储备资产的费用计算<a class="headerlink" href="#moonbeam-reserve-assets" title="Permanent link">&para;</a></h3> <p>对于每个 XCM 指令，权重单位会转换为余额单位，作为费用计算的一部分。每个基于 Moonbeam 的网络的每个权重单位的 Wei 数量如下：</p> <table> <thead> <tr> <th style="text-align: center;">Moonbeam</th> <th style="text-align: center;">Moonriver</th> <th style="text-align: center;">Moonbase Alpha</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;"><a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/runtime/moonbeam/src/lib.rs#L163" target="_blank">1,250,000</a></td> <td style="text-align: center;"><a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4101/runtime/moonriver/src/lib.rs#L170" target="_blank">12,500</a></td> <td style="text-align: center;"><a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4100/runtime/moonbase/src/lib.rs#L163" target="_blank">12,500</a></td> </tr> </tbody> </table> <p>这意味着，例如在 Moonbeam 上，计算储备资产中一个 XCM 指令成本的公式如下：</p> <div class="highlight"><pre><span></span><code>XCM-Wei-Cost = XCMInstrWeight * WeiPerWeight
XCM-GLMR-Cost = XCM-Wei-Cost / 10^18
</code></pre></div> <p>因此，例如，可替代指令的实际计算如下：</p> <div class="highlight"><pre><span></span><code>XCM-Wei-Cost = 200000000 * 1250000
XCM-GLMR-Cost = 250000000000000 / 10^18
</code></pre></div> <p>对于 Moonbeam 上的 XCM 指令，总成本为 <code>0.00025 GLMR</code>。</p> <h3 id="fee-calc-external-assets">外部资产的费用计算<a class="headerlink" href="#fee-calc-external-assets" title="Permanent link">&para;</a></h3> <p>Moonbeam根据调用的权重对外部资产收取费用。权重是一个包含两个字段的结构体，<code>refTime</code> 和 <code>proofSize</code>。<code>refTime</code> 指的是可用于执行的计算时间量。<code>proofSize</code> 指的是提交到Polkadot中继链进行验证的Moonbeam块的PoV（有效性证明）的大小。由于 <code>refTime</code> 和 <code>proofSize</code> 都是确定权重的组成部分，因此仅凭其中一个值无法获得准确的权重值。</p> <p>您可以使用 <a href="#query-xcm-weight"><code>xcmPaymentApi</code> 的 <code>queryXcmWeight</code> 方法</a>查询XCM指令的 <code>refTime</code> 和 <code>proofSize</code>。您可以通过<a href="#query-xcm-weight">编程方式</a>或访问 <a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fmoonbeam.api.onfinality.io%2Fpublic-ws#/runtime" target="_blank">Polkadot.js Apps的运行时调用选项卡</a> 来执行此操作。<code>queryXcmWeight</code> 方法采用XCM版本，并且指令具有parameter参数，并返回相应的 <code>refTime</code> 和 <code>proofSize</code> 值。</p> <h4 id="weight-to-gas-mapping">权重到 Gas 的映射<a class="headerlink" href="#weight-to-gas-mapping" title="Permanent link">&para;</a></h4> <p>对于源自 EVM 操作的调用，例如依赖 EVM 操作 <code>MintInto</code> 的 <code>DepositAsset</code> 指令，您可以通过将 gas 限制乘以权重乘数来计算它们各自的权重值。对于 <code>refTime</code>，您需要将 gas 限制乘以 <code>25000</code>，对于 <code>proofSize</code>，您需要将 gas 限制乘以 <code>8</code>。为方便起见，下面提供了一个图表。</p> <table> <thead> <tr> <th style="text-align: center;">权重类型</th> <th style="text-align: center;">乘数值</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">引用时间</td> <td style="text-align: center;">25,000</td> </tr> <tr> <td style="text-align: center;">证明大小</td> <td style="text-align: center;">8</td> </tr> </tbody> </table> <p>要确定 Alice 将 DOT 转移到 Moonbeam 的总权重，您需要转移所需的四个 XCM 指令中的每一个的权重。请注意，虽然前三个指令具有与这些指令相对应的特定 <code>refTime</code> 和 <code>proofSize</code> 值，可以通过 <a href="#query-xcm-weight"><code>xcmPaymentApi</code> 的 <code>queryXcmWeight</code> 方法</a> 检索，但 <code>DepositAsset</code> 依赖于 EVM 操作 <a href="https://github.com/moonbeam-foundation/moonbeam/blob/runtime-4001/pallets/moonbeam-foreign-assets/src/evm.rs#L40" target="_blank"><code>MintInto</code></a> 和每个 gas 的 <code>WeightPerGas</code> 转换 <code>25,000</code>。因此，<code>DepositAsset</code> 的 <code>refTime</code> 可以计算为：</p> <div class="highlight"><pre><span></span><code>155000 gas * 25000 weight per gas = 3875000000
</code></pre></div> <p><code>DepositAsset</code> 的 <code>proofSize</code> 可以计算为：</p> <div class="highlight"><pre><span></span><code>155000 gas * 8 weight per gas = 1240000
</code></pre></div> <h3 id="weight-to-asset-fee-conversion">权重到资产费用转换<a class="headerlink" href="#weight-to-asset-fee-conversion" title="Permanent link">&para;</a></h3> <p>一旦您获得了 <code>refTime</code> 和 <code>proofSize</code> 值的总和，您就可以轻松检索所需的相应费用金额。<a href="#weight-to-asset-fee-conversion"><code>xcmPaymentApi</code> 的 <code>queryWeightToAssetFee</code> 方法</a> 采用 <code>refTime</code>、<code>proofSize</code> 和资产多重位置作为参数，并返回相应的费用。通过提供上面获得的 <code>4,428,242,000</code> <code>refTime</code> 和 <code>1,259,056</code> <code>proofSize</code> 以及 DOT 的资产多重位置，我们得到 <code>88,920,522</code> Plank 的费用金额，这是 Polkadot 中最小的单位。我们可以将其除以 <code>10^10</code> 转换为 DOT，从而得到 <code>0.008892</code> DOT 的 DOT 费用金额。</p> <h2 id="xcm-payment-api-exanded-examples">XCM 支付 API 扩展示例<a class="headerlink" href="#xcm-payment-api-exanded-examples" title="Permanent link">&para;</a></h2> <p>XCM 支付 API 方法提供了各种有用的方法来计算费用、评估可接受的费用支付货币等等。请记住，除了通过 API 访问之外，您还可以通过 <a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fmoonbeam.api.onfinality.io%2Fpublic-ws#/runtime" target="_blank">Polkadot.js 应用程序的运行时调用选项卡</a> 与 XCM 支付 API 进行交互。</p> <h3 id="query-acceptable-fee-payment-assets">查询可接受的手续费支付资产<a class="headerlink" href="#query-acceptable-fee-payment-assets" title="Permanent link">&para;</a></h3> <p>此函数将XCM版本作为参数，并以多重定位形式返回可接受的手续费资产列表。</p> <div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">allowedAssets</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">call</span><span class="p">.</span><span class="nx">xcmPaymentApi</span><span class="p">.</span><span class="nx">queryAcceptablePaymentAssets</span><span class="p">(</span><span class="mf">3</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">allowedAssets</span><span class="p">);</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { // Construct API provider const wsProvider = new WsProvider('INSERT_WSS_ENDPOINT'); const api = await ApiPromise.create({ provider: wsProvider });</p> <p>const allowedAssets = await api.call.xcmPaymentApi.queryAcceptablePaymentAssets(4); console.log(allowedAssets);</p> <p>// Disconnect the API await api.disconnect(); };</p> <p>main();</p> </details> <h3 id="weight-to-asset-fee-conversion">权重到资产费用转换<a class="headerlink" href="#weight-to-asset-fee-conversion" title="Permanent link">&para;</a></h3> <p>此方法将权重转换为指定资产的费用。它接受权重和资产多重定位作为参数，并返回相应的费用金额。</p> <div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">fee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">call</span><span class="p">.</span><span class="nx">xcmPaymentApi</span><span class="p">.</span><span class="nx">queryWeightToAssetFee</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">refTime</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="nx">_000_000_000n</span><span class="p">,</span>
<span class="w">    </span><span class="nx">proofSize</span><span class="o">:</span><span class="w"> </span><span class="mi">0n</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">V3</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Concrete</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">parents</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">interior</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Here&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fee</span><span class="p">);</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { // Construct API provider const wsProvider = new WsProvider('INSERT_WSS_ENDPOINT'); const api = await ApiPromise.create({ provider: wsProvider });</p> <p>const fee = await api.call.xcmPaymentApi.queryWeightToAssetFee( { refTime: 10_000_000_000n, proofSize: 0n, }, { V3: { Concrete: { parents: 1, interior: 'Here' }, }, } );</p> <p>console.log(fee);</p> <p>// Disconnect the API await api.disconnect(); };</p> <p>main();</p> </details> <h3 id="query-xcm-weight">查询 XCM 权重<a class="headerlink" href="#query-xcm-weight" title="Permanent link">&para;</a></h3> <p>此方法将 XCM 消息作为参数，并返回消息的权重。</p> <div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">V3</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">instr1</span><span class="p">,</span><span class="w"> </span><span class="nx">instr2</span><span class="p">]</span><span class="w"> </span><span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">theWeight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">call</span><span class="p">.</span><span class="nx">xcmPaymentApi</span><span class="p">.</span><span class="nx">queryXcmWeight</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">theWeight</span><span class="p">);</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { // Construct API provider const wsProvider = new WsProvider('INSERT_WSS_ENDPOINT'); const api = await ApiPromise.create({ provider: wsProvider });</p> <p>const amountToSend = BigInt(1 * 10 ** 12); // Sending 1 token (assuming 12 decimal places) const assetMultiLocation = { parents: 0, interior: { X1: { PalletInstance: 3 } }, }; // The asset's location (adjust PalletInstance as needed) const recipientAccount = '0x1234567890abcdef1234567890abcdef12345678'; // The recipient's account on the destination chain</p> <p>// 2. XCM Destination (e.g., Parachain ID 2000) const dest = { V3: { parents: 1, interior: { X1: { Parachain: 2000 } } } };</p> <p>// 3. XCM Instruction 1: Withdraw the asset from the sender const instr1 = { WithdrawAsset: [ { id: { Concrete: assetMultiLocation }, fun: { Fungible: amountToSend }, }, ], };</p> <p>// 4. XCM Instruction 2: Deposit the asset into the recipient's account on the destination chain const instr2 = { DepositAsset: { assets: { Wild: 'All' }, // Sending all withdrawn assets (in this case, 1 token) beneficiary: { parents: 0, interior: { X1: { AccountKey20: { key: recipientAccount } } }, }, }, };</p> <p>// 5. Build the XCM Message const message = { V3: [instr1, instr2] };</p> <p>const theWeight = await api.call.xcmPaymentApi.queryXcmWeight(message); console.log(theWeight);</p> <p>// Disconnect the API await api.disconnect(); };</p> <p>main();</p> </details> <div class="md-source-file"> <small> <span class="source-file-label">更新时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月20日 16:04:43">2026年1月20日</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">创建时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月15日 00:13:04">2026年1月15日</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="标题"> <a href="../multilocations/" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> 上一个 </span> <span class="md-footer__page-name"> 多位置 </span> </div> </a> <a href="../sovereign-accounts/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> 下一个 </span> <span class="md-footer__page-name"> 主权账户 </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI 兼容文档 </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">法学硕士文本</a> <a class="llms-link" href="/llms-full.txt">法学硕士全文</a> <a class="llms-link" href="../../../../../../ai-resources/ai-resources/">按主题分类的法学硕士</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> 由 <a href="https://papermoon.io/" target="_blank">PaperMoon</a> with 🩵 制作 </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">使用条款</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">隐私政策</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> 左侧区域徽标 <div class="cookie-logo"> <img src="../../../../../../assets/images/Moonbeam_Icon_White.webp" alt="用于 Cookie 同意的 Moonbeam 徽标"> </div> 中心区域标题和描述 <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> 管理设置切换 <input class="md-toggle" type="checkbox" id="__settings"> 同意设置 <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> 右侧区域按钮 <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">同意</button> <label class="md-button" for="__settings">管理设定</label> <button type="reset" class="md-button md-button--secondary">拒绝</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"base":"../../../../../","features":["navigation.tabs","navigation.tabs.sticky","navigation.sections","navigation.indexes","navigation.prune","content.code.copy","announce.dismiss","content.action.edit"],"search":"../../../../../../assets/javascripts/workers/search.d50fe291.min.js","tags":null,"translations":{"clipboard.copied":"\u5df2\u590d\u5236","clipboard.copy":"\u590d\u5236","search.result.more.one":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.more.other":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.none":"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.one":"\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.other":"# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.placeholder":"\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22","search.result.term.missing":"\u7f3a\u5c11","select.version":"\u9009\u62e9\u5f53\u524d\u7248\u672c"},"version":null}</script> <script src="../../../../../../assets/javascripts/bundle.56ea9cef.min.js"></script> <script src="../../../../../../js/connectMetaMask.js"></script> <script src="../../../../../../js/errorModal.js"></script> <script src="../../../../../../js/networkModal.js"></script> <script src="../../../../../../js/lang-toggle.js"></script> <script src="../../../../../../js/fixCreatedDate.js"></script> <script src="../../../../../../js/externalLinkModal.js"></script> <script src="../../../../../../js/cookbookInit.js"></script> <script src="../../../../../../js/clipboardCopyllms.js"></script> <script src="../../../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "已复制"
              ) {
                copiedToClipboardMessage.textContent =
                  "已复制";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>