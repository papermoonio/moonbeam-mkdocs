<!doctype html><html lang="zh" class="no-js"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="了解如何使用 Polkadot.js API 与 Moonbeam 节点交互，以获取链数据并通过 Moonbeam 的 Substrate 端发送交易（外部调用）。"><link rel="canonical" href="https://docs.moonbeam.network/zh/builders/substrate/libraries/polkadot-js-api/"><link rel="prev" href="../"><link rel="next" href="../py-substrate-interface/"><link rel="icon" href="/assets/images/favicon.webp"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>如何使用 Polkadot.js API | Moonbeam Docs</title><link rel="stylesheet" href="../../../../../assets/stylesheets/main.342714a4.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" as="script"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Banana+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Banana Grotesk";--md-code-font:"Roboto Mono"}</style><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet"><link rel="stylesheet" href="/assets/stylesheets/moonbeam.min.css"><link rel="stylesheet" href="/assets/stylesheets/termynal.min.css"><link rel="stylesheet" href="/assets/stylesheets/timeline-neoteroi.min.css"><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5ZBERCXWC3"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5ZBERCXWC3",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5ZBERCXWC3",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src="../../../../../assets/javascripts/glightbox.min.js"></script><script>window.__externalLinkModalStrings={"zh": {"header": "external_link_modal.header", "message": "external_link_modal.message", "cancel": "external_link_modal.cancel", "continue": "external_link_modal.continue"}};</script></head> <body dir="ltr"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#polkadotjs-api" class="md-skip"> 跳转至 </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="标题"> <div class="md-header__left-nav"> <a href="https://docs.moonbeam.network/" title="Moonbeam Docs" class="md-header__button md-logo" aria-label="Moonbeam Docs"> <img src="/assets/images/logo.webp" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> </div> <div class="md-header__buttons"> <nav class="md-tabs" aria-label="标签" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../">构建者</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../get-started/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/get-started.webp" alt="快速入门" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">快速入门</span> <p class="dropdown-desc">开始构建所需的一切</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../build/historical-updates/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/build.webp" alt="构建" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">构建</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../ethereum/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/ethereum.webp" alt="以太坊工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊工具包</span> <p class="dropdown-desc">Ethereum 库、工具和合约</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/substrate.webp" alt="Substrate 工具包" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">Substrate 工具包</span> <p class="dropdown-desc">Substrate 库、工具和底层接口</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../interoperability/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/interoperability.webp" alt="互操作性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">互操作性</span> <p class="dropdown-desc">用于跨链开发的 GMP 协议</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">要集成的工具和协议</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../node-operators/">节点运营商</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../node-operators/networks/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/networks.webp" alt="网络" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">网络</span> <p class="dropdown-desc">运行完整节点、追踪节点或收集人节点</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../tokens/">代币</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../tokens/connect/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/connect.webp" alt="连接" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">连接</span> <p class="dropdown-desc">将您的钱包连接到 Moonbeam</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../tokens/manage/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/manage.webp" alt="管理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">管理</span> <p class="dropdown-desc">高级帐户和身份服务</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../tokens/staking/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/staking.webp" alt="质押" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">质押</span> <p class="dropdown-desc">通过委托给收集人来质押代币</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../tokens/governance/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/governance.webp" alt="治理" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">治理</span> <p class="dropdown-desc">提交和投票参与链上提案</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../learn/">学习</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../learn/core-concepts/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/core-concepts.webp" alt="核心概念" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">核心概念</span> <p class="dropdown-desc">了解 Moonbeam 的基础知识</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../learn/features/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/features.webp" alt="特性" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">特性</span> <p class="dropdown-desc"></p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../learn/dapp-directory/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/dapp-directory.webp" alt="DApp 目录" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">DApp 目录</span> <p class="dropdown-desc">浏览 DApp 目录和列表流程</p> </div> </a> </li> </ul> </li> <li class="md-tabs__item--custom" tabindex="0"> <span class="md-tabs__link"> <a href="../../../../tutorials/">教程</a> </span> <ul class="md-tab__list"> <li class="md-tab__item"> <a href="../../../../tutorials/eth-api/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/eth-api.webp" alt="以太坊 API" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">以太坊 API</span> <p class="dropdown-desc">从入门到专业的智能合约教程</p> </div> </a> </li> <li class="md-tab__item"> <a href="../../../../tutorials/integrations/"> <div class="icon-col"> <img class="dropdown-icon" src="/assets/images/dropdown-icons/integrations.webp" alt="集成" loading="lazy"> </div> <div class="text-col"> <span class="dropdown-title">集成</span> <p class="dropdown-desc">通过无缝集成教程深入了解</p> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class="language-picker" data-md-component="language"> <button class="language-picker__toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="选择当前语言"> <span class="language-picker__icon" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M12.87 15.07L10.33 12.5l.03-.03A19.79 19.79 0 0013.5 7h3V5h-7V3H8v2H1v2h11.17a17.77 17.77 0 01-2.64 4.49 17.91 17.91 0 01-3.11-4.49H3.62a19.91 19.91 0 003.95 5.61L2.1 19.37 3.5 20.8l4.9-4.9 3.57 3.55zM18.5 10h-2L12 22h2l1-2h6l1 2h2zm-2.62 8l2.12-4.67L20.12 18z"/> </svg> </span> <span class="language-picker__label">中文</span> <span class="language-picker__chevron" aria-hidden="true"> <svg viewbox="0 0 24 24" role="img" focusable="false"> <path fill="currentColor" d="M7 10l5 5 5-5z"/> </svg> </span> </button> <div class="language-picker__menu" role="menu"> <ul> <li> <a href="./" hreflang="zh" role="menuitem" aria-label="Chinese" class="is-active"> <span class="language-picker__code">中文</span> </a> </li> <li> <a href="../../../../../builders/substrate/libraries/polkadot-js-api/" hreflang="en" role="menuitem" aria-label="English" class> <span class="language-picker__code">EN</span> </a> </li> </ul> </div> </div> <a href="#" class="md-header__button md-button connectMetaMask-nav md-typeset"> 连接钱包 </a> <a class="md-header__button md-button faucet md-typeset" href="https://faucet.moonbeam.network/" target="_blank"> 水龙头 </a> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class="md-search__options" aria-label="搜索"> <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> 正在初始化搜索引擎 </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../../../../" title="Moonbeam Docs" class="md-nav__button md-logo" aria-label="Moonbeam Docs" data-md-component="logo"> <img src="/assets/images/logo.webp" alt="logo"> </a> </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../" class="md-nav__link"> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../../">构建者</a> <label for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../get-started/">快速入门</a> <label for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../get-started/quick-start/" class="md-nav__link"> 快速开始 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../get-started/networks/">网络</a> <label for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-get-started-networks-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../get-started/networks/moonbeam-dev/" class="md-nav__link"> 本地 Moonbeam 开发节点 </a> </li> <li class="md-nav__item"> <a href="../../../get-started/networks/moonbase/" class="md-nav__link"> Moonbase Alpha </a> </li> <li class="md-nav__item"> <a href="../../../get-started/networks/moonriver/" class="md-nav__link"> Moonriver </a> </li> <li class="md-nav__item"> <a href="../../../get-started/networks/moonbeam/" class="md-nav__link"> Moonbeam </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../get-started/endpoints/" class="md-nav__link"> 网络 RPC 端点 </a> </li> <li class="md-nav__item"> <a href="../../../get-started/explorers/" class="md-nav__link"> 区块浏览器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3"> <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0"> 构建 <span class="md-nav__icon md-icon"></span> </label> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_3"> <span class="md-nav__icon md-icon"></span> </label> <li class="md-nav__item"> <a href="../../../build/historical-updates/" class="md-nav__link"> 历史更新 </a> </li> <li class="md-nav__item"> <a href="../../../build/runtime-upgrades/" class="md-nav__link"> 运行时升级 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/">以太坊工具包</a> <label for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/canonical-contracts/" class="md-nav__link"> 规范合约 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/">预编译合约</a> <label for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/account/">账户管理</a> <label for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-account-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/account/identity/" class="md-nav__link"> 身份 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/account/proxy/" class="md-nav__link"> 代理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/ux/">用户体验</a> <label for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-ux-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/ux/batch/" class="md-nav__link"> 批量 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/ux/call-permit/" class="md-nav__link"> 调用许可 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/ux/erc20/" class="md-nav__link"> 原生代币 ERC-20 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/features/">网络特性</a> <label for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/features/governance/">Governance</a> <label for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_4_3_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-features-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/governance/collective/" class="md-nav__link"> Collective </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/governance/conviction-voting/" class="md-nav__link"> Conviction Voting </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/governance/preimage/" class="md-nav__link"> Preimage </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/governance/referenda/" class="md-nav__link"> Referenda </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/features/staking/" class="md-nav__link"> 质押功能 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/interoperability/">互操作性</a> <label for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-interoperability-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/interoperability/gmp/" class="md-nav__link"> GMP </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> X 代币 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> XCM 接口 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> XCM 转账器 </a> </li> <li class="md-nav__item"> <a href="/builders/interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/precompiles/utility/">实用工具</a> <label for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_3_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_3_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-precompiles-utility-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/utility/eth-mainnet/" class="md-nav__link"> 以太坊原生 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/utility/registry/" class="md-nav__link"> 预编译注册表 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/utility/relay-data-verifier/" class="md-nav__link"> 中继数据验证器 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/precompiles/utility/non-specific/" class="md-nav__link"> 非网络特定 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/libraries/">库</a> <label for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-libraries-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/libraries/ethersjs/" class="md-nav__link"> Ethers.js </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/libraries/viem/" class="md-nav__link"> viem </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/libraries/web3py/" class="md-nav__link"> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/dev-env/">开发环境</a> <label for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/dev-env/foundry/" class="md-nav__link"> Foundry </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/dev-env/hardhat/" class="md-nav__link"> Hardhat </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/dev-env/remix/" class="md-nav__link"> Remix </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/dev-env/tenderly/" class="md-nav__link"> Tenderly </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/verify-contracts/">验证合约</a> <label for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-verify-contracts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/verify-contracts/block-explorers/" class="md-nav__link"> 区块浏览器 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/verify-contracts/etherscan-plugins/" class="md-nav__link"> Etherscan 插件 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/verify-contracts/api-verification/" class="md-nav__link"> 基于 API 的验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../ethereum/json-rpc/">JSON-RPC 接口</a> <label for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_4_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-ethereum-json-rpc-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../ethereum/json-rpc/eth-rpc/" class="md-nav__link"> 标准以太坊 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/json-rpc/debug-trace/" class="md-nav__link"> 非标准以太坊: 追踪 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/json-rpc/pubsub/" class="md-nav__link"> 非标准以太坊: 发布订阅 </a> </li> <li class="md-nav__item"> <a href="../../../ethereum/json-rpc/moonbeam-custom-api/" class="md-nav__link"> 自定义 Moonbeam </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked> <div class="md-nav__link md-nav__link--index "> <a href="../../">Substrate 工具包</a> <label for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2" checked> <div class="md-nav__link md-nav__link--index "> <a href="../">库</a> <label for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_2_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-libraries-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> Polkadot.js API <span class="md-nav__icon md-icon"></span> </label> <div class="md-nav__link-wrapper md-nav__item md-nav__item--active"> <a href="./" class="md-nav__link md-nav__link--active"> Polkadot.js API </a> </div> <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#checking-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> <nav class="md-nav" aria-label="检查先决条件"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#installing-polkadot.js-api-library" class="md-nav__link"> <span class="md-ellipsis"> 安装 Polkadot.js API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#creating-an-API-provider-instance" class="md-nav__link"> <span class="md-ellipsis"> 创建 API 提供程序实例 </span> </a> <nav class="md-nav" aria-label="创建 API 提供程序实例"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#metadata-and-dynamic-api-decoration" class="md-nav__link"> <span class="md-ellipsis"> 元数据和动态 API 装饰 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#querying-for-information" class="md-nav__link"> <span class="md-ellipsis"> 查询 Moonbeam 上的链上数据 </span> </a> <nav class="md-nav" aria-label="查询 Moonbeam 上的链上数据"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#state-queries" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam 链状态查询 </span> </a> </li> <li class="md-nav__item"> <a href="#rpc-queries" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam RPC 查询 </span> </a> </li> <li class="md-nav__item"> <a href="#query-subscriptions" class="md-nav__link"> <span class="md-ellipsis"> 查询订阅 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#keyrings" class="md-nav__link"> <span class="md-ellipsis"> 为 Moonbeam 账户创建一个密钥环 </span> </a> <nav class="md-nav" aria-label="为 Moonbeam 账户创建一个密钥环"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#creating-a-keyring-instance" class="md-nav__link"> <span class="md-ellipsis"> 创建密钥环实例 </span> </a> </li> <li class="md-nav__item"> <a href="#adding-accounts" class="md-nav__link"> <span class="md-ellipsis"> 向密钥环添加帐户 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#dry-run-api" class="md-nav__link"> <span class="md-ellipsis"> Dry Run API </span> </a> <nav class="md-nav" aria-label="Dry Run API"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#transaction-events" class="md-nav__link"> <span class="md-ellipsis"> 交易事件 </span> </a> </li> <li class="md-nav__item"> <a href="#batching-transactions" class="md-nav__link"> <span class="md-ellipsis"> 批量交易 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#substrate-and-custom-json-rpc-endpoints" class="md-nav__link"> <span class="md-ellipsis"> Substrate 和自定义 JSON-RPC 端点 </span> </a> </li> <li class="md-nav__item"> <a href="#utilities" class="md-nav__link"> <span class="md-ellipsis"> Polkadot.js API 实用程序函数 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../py-substrate-interface/" class="md-nav__link"> Py Substrate Interface </a> </li> <li class="md-nav__item"> <a href="../sidecar/" class="md-nav__link"> Sidecar </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../dev-env/">开发环境</a> <label for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-substrate-dev-env-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../dev-env/chopsticks/" class="md-nav__link"> Chopsticks </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/">互操作性</a> <label for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/">XCM 互操作性</a> <label for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/core-concepts/">核心概念</a> <label for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/core-concepts/instructions/" class="md-nav__link"> XCM 指令 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/core-concepts/multilocations/" class="md-nav__link"> 多位置 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/core-concepts/weights-fees/" class="md-nav__link"> 权重和费用 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/core-concepts/sovereign-accounts/" class="md-nav__link"> 主权账户 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/xc-registration/">XC 注册</a> <label for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc-registration-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc-registration/forum-templates/" class="md-nav__link"> 论坛模板 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc-registration/xc-integration/" class="md-nav__link"> XC 通道注册 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc-registration/assets/" class="md-nav__link"> 通过治理的 XC 资产注册 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc-registration/self-serve-asset-registration/" class="md-nav__link"> 自助资产注册 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/xc20/">XC-20s</a> <label for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/overview/" class="md-nav__link"> 概览 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/interact/" class="md-nav__link"> 与 XC-20s 交互 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_5_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/xc20/send-xc20s/">发送 XC-20s</a> <label for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_5_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_5_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-xc20-send-xc20s-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/send-xc20s/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/send-xc20s/xcm-pallet/" class="md-nav__link"> 使用 Substrate API：Polkadot XCM Pallet </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/send-xc20s/xtokens-precompile/" class="md-nav__link"> 使用 Ethereum API：X-Tokens Precompile </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xc20/send-xc20s/eth-api/" class="md-nav__link"> 使用 Ethereum API：XCM Precompile </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/remote-execution/">远程执行</a> <label for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_6_2_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/remote-execution/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/remote-execution/computed-origins/" class="md-nav__link"> 计算来源账户 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2_6_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/xcm/remote-execution/substrate-calls/">远程 Substrate 调用</a> <label for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_6_2_6_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_2_6_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-xcm-remote-execution-substrate-calls-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-pallet/" class="md-nav__link"> 使用 Substrate API </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/remote-execution/substrate-calls/xcm-transactor-precompile/" class="md-nav__link"> 使用以太坊 API </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/remote-execution/remote-evm-calls/" class="md-nav__link"> 远程 EVM 调用 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="https://moonbeam-foundation.github.io/xcm-sdk/latest/" class="md-nav__link"> XCM SDK </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/send-execute-xcm/" class="md-nav__link"> 发送、执行和测试 XCM </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/xcm/xcm-utils/" class="md-nav__link"> XCM 实用工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../interoperability/protocols/">跨链协议</a> <label for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-interoperability-protocols-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../interoperability/protocols/axelar/" class="md-nav__link"> Axelar </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/protocols/hyperlane/" class="md-nav__link"> Hyperlane </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/protocols/layerzero/" class="md-nav__link"> LayerZero </a> </li> <li class="md-nav__item"> <a href="../../../interoperability/protocols/wormhole/" class="md-nav__link"> Wormhole </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../interoperability/mrl/" class="md-nav__link"> Moonbeam 路由流动性 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7"> <div class="md-nav__link md-nav__link--index "> <a href="../../../integrations/">集成</a> <label for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../integrations/indexers/">索引器</a> <label for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../integrations/indexers/covalent/" class="md-nav__link"> GoldRush API </a> </li> <li class="md-nav__item"> <a href="../../../integrations/indexers/subquery/" class="md-nav__link"> SubQuery </a> </li> <li class="md-nav__item"> <a href="../../../integrations/indexers/subsquid/" class="md-nav__link"> SQD </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../integrations/oracles/">预言机</a> <label for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_2_7_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-builders-integrations-oracles-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../integrations/oracles/api3/" class="md-nav__link"> API3 </a> </li> <li class="md-nav__item"> <a href="../../../integrations/oracles/dia/" class="md-nav__link"> DIA </a> </li> <li class="md-nav__item"> <a href="../../../integrations/oracles/supra/" class="md-nav__link"> Supra </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../node-operators/">节点运营商</a> <label for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../node-operators/networks/">网络</a> <label for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../node-operators/networks/run-a-node/">运行一个节点</a> <label for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-run-a-node-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../node-operators/networks/run-a-node/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/run-a-node/docker/" class="md-nav__link"> 使用 Docker </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/run-a-node/systemd/" class="md-nav__link"> 使用 Systemd </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/run-a-node/flags/" class="md-nav__link"> 标志 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/run-a-node/compile-binary/" class="md-nav__link"> 编译二进制文件 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/tracing-node/" class="md-nav__link"> 运行追踪节点 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../node-operators/networks/collators/">校对者</a> <label for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_3_2_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-node-operators-networks-collators-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/overview/" class="md-nav__link"> 概述 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/faq/" class="md-nav__link"> 常见问题 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/requirements/" class="md-nav__link"> 要求 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/account-management/" class="md-nav__link"> 账户管理 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/author-mapping/" class="md-nav__link"> 作者映射预编译 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/activities/" class="md-nav__link"> 校对者活动 </a> </li> <li class="md-nav__item"> <a href="../../../../node-operators/networks/collators/orbiter/" class="md-nav__link"> 轨道器计划 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tokens/">代币</a> <label for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tokens/connect/">连接</a> <label for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-connect-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tokens/connect/ledger/" class="md-nav__link"> Ledger </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/metamask/" class="md-nav__link"> MetaMask </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/polkadotjs/" class="md-nav__link"> Polkadot.js 应用 </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/subwallet/" class="md-nav__link"> SubWallet </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/talisman/" class="md-nav__link"> Talisman </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/trezor/" class="md-nav__link"> Trezor </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/connect/on-ramps/" class="md-nav__link"> 入金渠道 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tokens/manage/">管理</a> <label for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-manage-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tokens/manage/proxy-accounts/" class="md-nav__link"> 代理账户 </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/manage/multisig-safe/" class="md-nav__link"> Moonbeam Safe </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/manage/identity/" class="md-nav__link"> 身份管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tokens/staking/">质押</a> <label for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_4"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-staking-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tokens/staking/stake/" class="md-nav__link"> 如何质押 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tokens/governance/">治理</a> <label for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_4_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tokens-governance-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tokens/governance/proposals/" class="md-nav__link"> 提交民主提案 </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/governance/voting/" class="md-nav__link"> 对提案投票 </a> </li> <li class="md-nav__item"> <a href="../../../../tokens/governance/treasury-spend/" class="md-nav__link"> 提交国库提案 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../learn/">学习</a> <label for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../learn/core-concepts/">核心概念</a> <label for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-core-concepts-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/balances/" class="md-nav__link"> 账户余额 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/transfers-api/" class="md-nav__link"> 余额转账 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/consensus-finality/" class="md-nav__link"> 共识与最终性 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/tx-fees/" class="md-nav__link"> 交易费用 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/unified-accounts/" class="md-nav__link"> 统一账户 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/security/" class="md-nav__link"> 安全注意事项 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/core-concepts/glossary/" class="md-nav__link"> 术语表 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../learn/features/">特性</a> <label for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-learn-features-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../learn/features/eth-compatibility/" class="md-nav__link"> 以太坊兼容性 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/features/governance/" class="md-nav__link"> 治理 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/features/randomness/" class="md-nav__link"> 随机性 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/features/staking/" class="md-nav__link"> 质押 </a> </li> <li class="md-nav__item"> <a href="../../../../learn/features/treasury/" class="md-nav__link"> 国库 </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../../../learn/dapp-directory/" class="md-nav__link"> DApp 目录 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tutorials/">教程</a> <label for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tutorials/eth-api/">以太坊 API</a> <label for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_2"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-eth-api-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tutorials/eth-api/using-tenderly/" class="md-nav__link"> [Tenderly] 使用 Tenderly 调试和模拟交易 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3"> <div class="md-nav__link md-nav__link--index "> <a href="../../../../tutorials/integrations/">集成</a> <label for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6_3"> <span class="md-nav__icon md-icon"></span> </label> <ul class="md-nav__list zh-tutorials-integrations-" data-md-scrollfix> <li class="md-nav__item"> <a href="../../../../tutorials/integrations/0xgasless/" class="md-nav__link"> 启用无 Gas 交易 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"><!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  material_overrides.partials.toc.permission_is_hereby_granted_free_of_charge_to_any_person_obtaining_a_copy_of_this_software_and_associated_documentation_files_the_software_to_deal_in_the_software_without_restriction_including_without_limitation_the_rights_to_use_copy_modify_merge_publish_distribute_sublicense_and_or_sell_copies_of_the_software_and_to_permit_persons_to_whom_the_software_is_furnished_to_do_so_subject_to_the_following_conditions_the_above_copyright_notice_and_this_permission_notice_shall_be_included_in_all_copies_or_substantial_portions_of_the_software_the_software_is_provided_as_is_without_warranty_of_any_kind_express_or_implied_including_but_not_limited_to_the_warranties_of_merchantability_fitness_for_a_particular_purpose_and_non_infringement_in_no_event_shall_the_authors_or_copyright_holders_be_liable_for_any_claim_damages_or_other_liability_whether_in_an_action_of_contract_tort_or_otherwise_arising_from_out_of_or_in_connection_with_the_software_or_the_use_or_other_dealings_in_the_software

<!-- Determine title --> <!-- Table of contents --> <nav class="md-nav md-nav--secondary" aria-label="Sections"> <!--
    Check whether the content starts with a level 1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  --> <!-- Table of contents title and list --> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> <div class="toc-sections-title">Sections</div> </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#introduction" class="md-nav__link"> <span class="md-ellipsis"> 简介 </span> </a> </li> <li class="md-nav__item"> <a href="#checking-prerequisites" class="md-nav__link"> <span class="md-ellipsis"> 检查先决条件 </span> </a> <nav class="md-nav" aria-label="检查先决条件"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#installing-polkadot.js-api-library" class="md-nav__link"> <span class="md-ellipsis"> 安装 Polkadot.js API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#creating-an-API-provider-instance" class="md-nav__link"> <span class="md-ellipsis"> 创建 API 提供程序实例 </span> </a> <nav class="md-nav" aria-label="创建 API 提供程序实例"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#metadata-and-dynamic-api-decoration" class="md-nav__link"> <span class="md-ellipsis"> 元数据和动态 API 装饰 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#querying-for-information" class="md-nav__link"> <span class="md-ellipsis"> 查询 Moonbeam 上的链上数据 </span> </a> <nav class="md-nav" aria-label="查询 Moonbeam 上的链上数据"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#state-queries" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam 链状态查询 </span> </a> </li> <li class="md-nav__item"> <a href="#rpc-queries" class="md-nav__link"> <span class="md-ellipsis"> Moonbeam RPC 查询 </span> </a> </li> <li class="md-nav__item"> <a href="#query-subscriptions" class="md-nav__link"> <span class="md-ellipsis"> 查询订阅 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#keyrings" class="md-nav__link"> <span class="md-ellipsis"> 为 Moonbeam 账户创建一个密钥环 </span> </a> <nav class="md-nav" aria-label="为 Moonbeam 账户创建一个密钥环"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#creating-a-keyring-instance" class="md-nav__link"> <span class="md-ellipsis"> 创建密钥环实例 </span> </a> </li> <li class="md-nav__item"> <a href="#adding-accounts" class="md-nav__link"> <span class="md-ellipsis"> 向密钥环添加帐户 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#dry-run-api" class="md-nav__link"> <span class="md-ellipsis"> Dry Run API </span> </a> <nav class="md-nav" aria-label="Dry Run API"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#transaction-events" class="md-nav__link"> <span class="md-ellipsis"> 交易事件 </span> </a> </li> <li class="md-nav__item"> <a href="#batching-transactions" class="md-nav__link"> <span class="md-ellipsis"> 批量交易 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#substrate-and-custom-json-rpc-endpoints" class="md-nav__link"> <span class="md-ellipsis"> Substrate 和自定义 JSON-RPC 端点 </span> </a> </li> <li class="md-nav__item"> <a href="#utilities" class="md-nav__link"> <span class="md-ellipsis"> Polkadot.js API 实用程序函数 </span> </a> </li> </ul> </nav> </div><div class="feedback-actions-container"><div class="feedback-section"> <form class="md-feedback" name="feedback" data-md-component="feedback"> <fieldset> <legend class="md-feedback__title"> 这个页面有帮助吗？ </legend> <div class="md-feedback__inner"> <div class="md-feedback__list"> <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23 10a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.58C7.22 7.95 7 8.45 7 9v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73zM1 21h4V9H1z"/></svg> </button> <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 15h4V3h-4m-4 0H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 23l6.58-6.59c.37-.36.59-.86.59-1.41V5a2 2 0 0 0-2-2"/></svg> </button> </div> <div class="md-feedback__note"> <div data-md-value="1" hidden> 感谢您的反馈！ </div> <div data-md-value="0" hidden> 感谢您的反馈！请提交 <a href="https://github.com/moonbeam-foundation/moonbeam-docs/issues/new/?title=[Feedback]+%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20Polkadot.js%20API+-+/zh/builders/substrate/libraries/polkadot-js-api/" target="_blank" rel="noopener">更多反馈</a> 来帮助我们改进。 </div> </div> </div> </fieldset> <div class="divider"></div> </form> </div><div class="edit-section"> <a href="https://github.com/moonbeam-foundation/moonbeam-docs/edit/master/zh/builders/substrate/libraries/polkadot-js-api.md" title="编辑" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> 编辑 </a> </div> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="polkadotjs-api">Polkadot.js API 库<a class="headerlink" href="#polkadotjs-api" title="Permanent link">&para;</a></h1> <h2 id="introduction">简介<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2> <p><a href="https://wiki.polkadot.com/general/polkadotjs/" target="_blank">Polkadot.js</a> 是一系列工具，可让您与 Polkadot 及其平行链（如 Moonbeam）进行交互。<a href="https://polkadot.js.org/docs/api/" target="_blank">Polkadot.js API</a> 是 Polkadot.js 的一个组件，是一个库，允许应用程序开发人员查询 Moonbeam 节点，并使用 JavaScript 与节点的 Substrate 接口进行交互，从而使您可以读取数据和将数据写入网络。</p> <p>您可以使用 Polkadot.js API 查询链上数据，并从 Moonbeam 的 Substrate 端发送外部因素。您可以查询 Moonbeam 的运行时常量、链状态、事件、交易（外部）数据等。</p> <p>在这里，您将找到可用功能的概述和一些常用代码示例，以帮助您开始使用 Polkadot.js API 库与 Moonbeam 网络进行交互。</p> <h2 id="checking-prerequisites">检查先决条件<a class="headerlink" href="#checking-prerequisites" title="Permanent link">&para;</a></h2> <p>安装和使用 Polkadot.js API 库需要安装 Node.js。</p> <p>You need to install Node.js (for this example, you can use v16.x) and the npm package manager. You can download directly from <a href="https://nodejs.org/en/download/package-manager" target="_blank">Node.js</a> or in your terminal:</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Ubuntu</label><label for="__tabbed_1_2">MacOS</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sL<span class="w"> </span>https://deb.nodesource.com/setup_16.x<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>-E<span class="w"> </span>bash<span class="w"> </span>-

sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>nodejs
</code></pre></div> </div> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code><span class="c1"># You can use homebrew (https://docs.brew.sh/Installation)</span>
brew<span class="w"> </span>install<span class="w"> </span>node

<span class="c1"># Or you can use nvm (https://github.com/nvm-sh/nvm)</span>
nvm<span class="w"> </span>install<span class="w"> </span>node
</code></pre></div> </div> </div> </div> <p>You can verify that everything is installed correctly by querying the version for each package:</p> <div class="highlight"><pre><span></span><code>node<span class="w"> </span>-v
</code></pre></div> <div class="highlight"><pre><span></span><code>npm<span class="w"> </span>-v
</code></pre></div> <p>To test out the examples in this guide on Moonbeam or Moonriver, you will need to have your own endpoint and API key, which you can get from one of the supported <a href="/builders/get-started/endpoints/" target="_blank">Endpoint Providers</a>.</p> <h3 id="installing-polkadot.js-api-library">安装 Polkadot.js API<a class="headerlink" href="#installing-polkadot.js-api-library" title="Permanent link">&para;</a></h3> <p>首先，您需要通过诸如 <code>yarn</code> 之类的包管理器为您的项目安装 Polkadot.js API 库。使用以下命令将其安装在您的项目目录中：</p> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">bash</span>
<span class="n">npm</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nv">@polkadot</span><span class="o">/</span><span class="n">api</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">bash</span>
<span class="n">yarn</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="nv">@polkadot</span><span class="o">/</span><span class="n">api</span>
</code></pre></div> <p>该库还包括其他核心组件，如用于帐户管理的 Keyring，或本指南中使用的某些实用程序。</p> <h2 id="creating-an-API-provider-instance">创建 API 提供程序实例<a class="headerlink" href="#creating-an-API-provider-instance" title="Permanent link">&para;</a></h2> <p>类似于<a href="/builders/ethereum/libraries/" target="_blank">以太坊 API 库</a>，您必须首先实例化 Polkadot.js API 的 API 实例。使用您希望与之交互的 Moonbeam 网络的 WebSocket 端点创建 <code>WsProvider</code>。</p> <p>To test out the examples in this guide on Moonbeam or Moonriver, you will need to have your own endpoint and API key, which you can get from one of the supported <a href="/builders/get-started/endpoints/" target="_blank">Endpoint Providers</a>.</p> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">ApiPromise</span><span class="p">,</span> <span class="n">WsProvider</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">main</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Construct</span> <span class="n">API</span> <span class="n">provider</span>
  <span class="n">const</span> <span class="n">wsProvider</span> <span class="o">=</span> <span class="n">new</span> <span class="n">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_API_ENDPOINT&#39;</span><span class="p">);</span>
  <span class="n">const</span> <span class="n">api</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ApiPromise</span><span class="o">.</span><span class="n">create</span><span class="p">({</span> <span class="n">provider</span><span class="p">:</span> <span class="n">wsProvider</span> <span class="p">});</span>

  <span class="o">//</span> <span class="n">Code</span> <span class="n">goes</span> <span class="n">here</span>

  <span class="k">await</span> <span class="n">api</span><span class="o">.</span><span class="n">disconnect</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">();</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">ApiPromise</span><span class="p">,</span> <span class="n">WsProvider</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">main</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Construct</span> <span class="n">API</span> <span class="n">provider</span>
  <span class="n">const</span> <span class="n">wsProvider</span> <span class="o">=</span> <span class="n">new</span> <span class="n">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_API_ENDPOINT&#39;</span><span class="p">);</span>
  <span class="n">const</span> <span class="n">api</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ApiPromise</span><span class="o">.</span><span class="n">create</span><span class="p">({</span> <span class="n">provider</span><span class="p">:</span> <span class="n">wsProvider</span> <span class="p">});</span>

  <span class="o">//</span> <span class="n">Code</span> <span class="n">goes</span> <span class="n">here</span>

  <span class="k">await</span> <span class="n">api</span><span class="o">.</span><span class="n">disconnect</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">();</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">ApiPromise</span><span class="p">,</span> <span class="n">WsProvider</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">main</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Construct</span> <span class="n">API</span> <span class="n">provider</span>
  <span class="n">const</span> <span class="n">wsProvider</span> <span class="o">=</span> <span class="n">new</span> <span class="n">WsProvider</span><span class="p">(</span><span class="s1">&#39;wss://wss.api.moonbase.moonbeam.network&#39;</span><span class="p">);</span>
  <span class="n">const</span> <span class="n">api</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ApiPromise</span><span class="o">.</span><span class="n">create</span><span class="p">({</span> <span class="n">provider</span><span class="p">:</span> <span class="n">wsProvider</span> <span class="p">});</span>

  <span class="o">//</span> <span class="n">Code</span> <span class="n">goes</span> <span class="n">here</span>

  <span class="k">await</span> <span class="n">api</span><span class="o">.</span><span class="n">disconnect</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">();</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">ApiPromise</span><span class="p">,</span> <span class="n">WsProvider</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">main</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Construct</span> <span class="n">API</span> <span class="n">provider</span>
  <span class="n">const</span> <span class="n">wsProvider</span> <span class="o">=</span> <span class="n">new</span> <span class="n">WsProvider</span><span class="p">(</span><span class="s1">&#39;ws://127.0.0.1:9944&#39;</span><span class="p">);</span>
  <span class="n">const</span> <span class="n">api</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ApiPromise</span><span class="o">.</span><span class="n">create</span><span class="p">({</span> <span class="n">provider</span><span class="p">:</span> <span class="n">wsProvider</span> <span class="p">});</span>

  <span class="o">//</span> <span class="n">Code</span> <span class="n">goes</span> <span class="n">here</span>

  <span class="k">await</span> <span class="n">api</span><span class="o">.</span><span class="n">disconnect</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">main</span><span class="p">();</span>
</code></pre></div> <h3 id="metadata-and-dynamic-api-decoration">元数据和动态 API 装饰<a class="headerlink" href="#metadata-and-dynamic-api-decoration" title="Permanent link">&para;</a></h3> <p>在深入了解如何通过 Polkadot.js API 库执行不同任务的细节之前，了解该库的一些基本工作原理非常有用。</p> <p>当 Polkadot.js API 连接到节点时，它首先要做的事情之一是检索元数据，并根据元数据信息装饰 API。元数据有效地以以下形式提供数据：</p> <div class="highlight"><pre><span></span><code>api.&lt;类型&gt;.&lt;模块&gt;.&lt;部分&gt;
</code></pre></div> <p>其中 <code>&lt;类型&gt;</code> 可以是：</p> <ul> <li><code>query</code> - 用于读取所有状态查询的端点</li> <li><code>tx</code> - 用于与交易相关的端点</li> <li><code>rpc</code> - 用于特定于 RPC 调用的端点</li> <li><code>consts</code> - 用于特定于运行时常量的端点</li> </ul> <p>因此，<code>api.{query, tx, rpc, consts}.&lt;module&gt;.&lt;method&gt;</code> 端点中包含的任何信息都没有在 API 中进行硬编码。这允许像 Moonbeam 这样的平行链通过其 pallet 拥有自定义端点，这些端点可以直接通过 Polkadot.js API 库访问。</p> <h2 id="querying-for-information">查询 Moonbeam 上的链上数据<a class="headerlink" href="#querying-for-information" title="Permanent link">&para;</a></h2> <p>在本节中，您将学习如何使用 Polkadot.js API 库查询链上信息。</p> <h3 id="state-queries">Moonbeam 链状态查询<a class="headerlink" href="#state-queries" title="Permanent link">&para;</a></h3> <p>这类查询检索与链的当前状态相关的信息。这些端点通常采用 <code>api.query.&lt;module&gt;.&lt;method&gt;</code> 的形式，其中模块和方法装饰通过元数据生成。您可以通过检查 <code>api.query</code> 对象来查看所有可用端点的列表，例如通过：</p> <div class="highlight"><pre><span></span><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">);</span>
</code></pre></div> <p>假设您已<a href="#creating-an-API-provider-instance">初始化 API</a>，这是一个检索给定地址的基本帐户信息的代码示例：</p> <div class="highlight"><pre><span></span><code><span class="c1">// Define wallet address</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_ADDRESS&#39;</span><span class="p">;</span>

<span class="c1">// Retrieve the last timestamp</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="c1">// Retrieve the account balance &amp; current nonce via the system module</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">nonce</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">balance</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">account</span><span class="p">(</span><span class="nx">addr</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">  </span><span class="sb">`</span><span class="si">${</span><span class="nx">now</span><span class="si">}</span><span class="sb">: balance of </span><span class="si">${</span><span class="nx">balance</span><span class="p">.</span><span class="nx">free</span><span class="si">}</span><span class="sb"> and a current nonce of </span><span class="si">${</span><span class="nx">nonce</span><span class="si">}</span><span class="sb">`</span>
<span class="p">);</span>
</code></pre></div> <details class="code"> <summary>View the complete script</summary> <p>js import { ApiPromise, WsProvider } from '@polkadot/api';</p> <p>const main = async () =&gt; { // Construct API provider const wsProvider = new WsProvider('INSERT_WSS_ENDPOINT'); const api = await ApiPromise.create({ provider: wsProvider });</p> <p>// Define wallet address const addr = 'INSERT_ADDRESS';</p> <p>// Retrieve the last timestamp via the timestamp module const now = await api.query.timestamp.now();</p> <p>// Retrieve the account balance &amp; current nonce via the system module const { nonce, data: balance } = await api.query.system.account(addr);</p> <p>console.log( <code>${now}: balance of ${balance.free} and a current nonce of ${nonce}</code> );</p> <p>// Disconnect the API await api.disconnect(); };</p> <p>main();</p> </details> <h3 id="rpc-queries">Moonbeam RPC 查询<a class="headerlink" href="#rpc-queries" title="Permanent link">&para;</a></h3> <p>RPC 调用为节点之间的数据传输提供了主干。这意味着所有 API 端点（如 <code>api.query</code>、<code>api.tx</code> 或 <code>api.derive</code>）都只是对 RPC 调用的包装，以节点期望的编码格式提供信息。您可以通过检查 <code>api.rpc</code> 对象来查看所有可用端点的列表，例如通过：</p> <div class="highlight"><pre><span></span><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">);</span>
</code></pre></div> <p><code>api.rpc</code> 接口遵循与 <code>api.query</code> 类似的格式，例如：</p> <div class="highlight"><pre><span></span><code><span class="c1">// 检索链名称</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">chain</span><span class="p">();</span>

<span class="c1">// 检索最新的标头</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">lastHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">chain</span><span class="p">.</span><span class="nx">getHeader</span><span class="p">();</span>

<span class="c1">// 记录信息</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">  </span><span class="sb">`</span><span class="si">${</span><span class="nx">chain</span><span class="si">}</span><span class="sb">: last block #</span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">number</span><span class="si">}</span><span class="sb"> has hash </span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">hash</span><span class="si">}</span><span class="sb">`</span>
<span class="p">);</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Construct API provider</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_ENDPOINT&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Retrieve the chain name</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">chain</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Retrieve the latest header</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">lastHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">chain</span><span class="p">.</span><span class="nx">getHeader</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Log the information</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">    </span><span class="sb">`</span><span class="si">${</span><span class="nx">chain</span><span class="si">}</span><span class="sb">: last block #</span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">number</span><span class="si">}</span><span class="sb"> has hash </span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">hash</span><span class="si">}</span><span class="sb">`</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Disconnect the API</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div> </details> <h3 id="query-subscriptions">查询订阅<a class="headerlink" href="#query-subscriptions" title="Permanent link">&para;</a></h3> <p><code>rpc</code> API 也为订阅提供了端点。您可以调整前面的示例，开始使用订阅来侦听新区块。请注意，使用订阅时需要删除 API 断开连接，以避免 WSS 连接的正常关闭。</p> <div class="highlight"><pre><span></span><code><span class="c1">// 检索链名称</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">chain</span><span class="p">();</span>

<span class="c1">// 订阅新区块头</span>
<span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">chain</span><span class="p">.</span><span class="nx">subscribeNewHeads</span><span class="p">((</span><span class="nx">lastHeader</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">    </span><span class="sb">`</span><span class="si">${</span><span class="nx">chain</span><span class="si">}</span><span class="sb">: last block #</span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">number</span><span class="si">}</span><span class="sb"> has hash </span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">hash</span><span class="si">}</span><span class="sb">`</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// 删除 await api.disconnect()!</span>
</code></pre></div> <p><code>api.rpc.subscribe*</code> 函数的通用模式是将回调传递到订阅函数中，这将会在每次导入新条目时触发。</p> <p><code>api.query.*</code> 下的其他调用可以以类似的方式进行修改以使用订阅，包括具有参数的调用。以下是如何订阅帐户中的余额更改的示例：</p> <div class="highlight"><pre><span></span><code><span class="c1">// 定义钱包地址</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_ADDRESS&#39;</span><span class="p">;</span>

<span class="c1">// 订阅指定帐户的余额更改</span>
<span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">account</span><span class="p">(</span><span class="nx">addr</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">nonce</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">balance</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">    </span><span class="sb">`Free balance is </span><span class="si">${</span><span class="nx">balance</span><span class="p">.</span><span class="nx">free</span><span class="si">}</span><span class="sb"> with </span><span class="si">${</span><span class="nx">balance</span><span class="p">.</span><span class="nx">reserved</span><span class="si">}</span><span class="sb"> reserved and a nonce of </span><span class="si">${</span><span class="nx">nonce</span><span class="si">}</span><span class="sb">`</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 删除 await api.disconnect()!</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Construct API provider</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_ENDPOINT&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Retrieve the chain name</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">chain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">chain</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Subscribe to the new headers</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">rpc</span><span class="p">.</span><span class="nx">chain</span><span class="p">.</span><span class="nx">subscribeNewHeads</span><span class="p">((</span><span class="nx">lastHeader</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`</span><span class="si">${</span><span class="nx">chain</span><span class="si">}</span><span class="sb">: last block #</span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">number</span><span class="si">}</span><span class="sb"> has hash </span><span class="si">${</span><span class="nx">lastHeader</span><span class="p">.</span><span class="nx">hash</span><span class="si">}</span><span class="sb">`</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Define wallet address</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_ADDRESS&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Subscribe to balance changes for a specified account</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">system</span><span class="p">.</span><span class="nx">account</span><span class="p">(</span><span class="nx">addr</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">nonce</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">balance</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="sb">`free balance is </span><span class="si">${</span><span class="nx">balance</span><span class="p">.</span><span class="nx">free</span><span class="si">}</span><span class="sb"> with </span><span class="si">${</span><span class="nx">balance</span><span class="p">.</span><span class="nx">reserved</span><span class="si">}</span><span class="sb"> reserved and a nonce of </span><span class="si">${</span><span class="nx">nonce</span><span class="si">}</span><span class="sb">`</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Handle API disconnect here if needed</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">};</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div> </details> <h2 id="keyrings">为 Moonbeam 账户创建一个密钥环<a class="headerlink" href="#keyrings" title="Permanent link">&para;</a></h2> <p>密钥环对象用于维护密钥对以及任何数据的签名，无论是转账、消息还是合约交互。</p> <h3 id="creating-a-keyring-instance">创建密钥环实例<a class="headerlink" href="#creating-a-keyring-instance" title="Permanent link">&para;</a></h3> <p>您可以通过仅创建 Keyring 类的实例，并指定所使用的默认钱包地址类型来创建实例。对于 Moonbeam 网络，默认钱包类型应为 <code>ethereum</code>。</p> <div class="highlight"><pre><span></span><code><span class="c1">// 根据需要导入密钥环</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Keyring</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/keyring&#39;</span><span class="p">;</span>

<span class="c1">// 创建密钥环实例</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">keyring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyring</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ethereum&#39;</span><span class="w"> </span><span class="p">});</span>
</code></pre></div> <h3 id="adding-accounts">向密钥环添加帐户<a class="headerlink" href="#adding-accounts" title="Permanent link">&para;</a></h3> <p>有多种方法可以将帐户添加到密钥环实例，包括从助记词和简短格式的私钥。</p> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">required</span> <span class="n">packages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Keyring</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/keyring&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">u8aToHex</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">hdEthereum</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util-crypto&#39;</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="p">{</span> <span class="n">mnemonicToSeedSync</span> <span class="p">}</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;bip39&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Import</span> <span class="n">Ethereum</span> <span class="n">account</span> <span class="kn">from</span><span class="w"> </span><span class="nn">mnemonic</span>
<span class="n">const</span> <span class="n">mnemonic</span> <span class="o">=</span> <span class="s1">&#39;INSERT_MNEMONIC&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Use</span> <span class="n">the</span> <span class="n">exact</span> <span class="n">EVM</span> <span class="n">derivation</span> <span class="n">path</span>
<span class="n">const</span> <span class="n">ethDerPath</span> <span class="o">=</span> <span class="s2">&quot;m/44&#39;/60&#39;/0&#39;/0/0&quot;</span><span class="p">;</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Mnemonic</span><span class="p">:</span> <span class="err">$</span><span class="p">{</span><span class="n">mnemonic</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">--------------------------</span>\<span class="n">n</span><span class="err">`</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Extract</span> <span class="n">Ethereum</span> <span class="n">address</span> <span class="kn">from</span><span class="w"> </span><span class="nn">mnemonic</span>
<span class="n">const</span> <span class="n">keyring</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Keyring</span><span class="p">();</span>
<span class="n">const</span> <span class="n">pair</span> <span class="o">=</span> <span class="n">keyring</span><span class="o">.</span><span class="n">createFromUri</span><span class="p">(</span>
  <span class="err">`$</span><span class="p">{</span><span class="n">mnemonic</span><span class="p">}</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">ethDerPath</span><span class="p">}</span><span class="err">`</span><span class="p">,</span>
  <span class="n">undefined</span><span class="p">,</span>
  <span class="s1">&#39;ethereum&#39;</span><span class="p">,</span>
  <span class="n">undefined</span><span class="p">,</span>
  <span class="mi">2048</span>
<span class="p">);</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Ethereum</span> <span class="n">Derivation</span> <span class="n">Path</span><span class="p">:</span> <span class="err">$</span><span class="p">{</span><span class="n">ethDerPath</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Derived</span> <span class="n">Ethereum</span> <span class="n">Address</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Mnemonic</span><span class="p">:</span> <span class="err">$</span><span class="p">{</span><span class="n">pair</span><span class="o">.</span><span class="n">address</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Extract</span> <span class="n">private</span> <span class="n">key</span> <span class="kn">from</span><span class="w"> </span><span class="nn">mnemonic</span>
<span class="n">const</span> <span class="n">seed</span> <span class="o">=</span> <span class="n">mnemonicToSeedSync</span><span class="p">(</span><span class="n">mnemonic</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>   <span class="o">//</span> <span class="n">Buffer</span>
<span class="n">const</span> <span class="n">node</span> <span class="o">=</span> <span class="n">hdEthereum</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="n">ethDerPath</span><span class="p">);</span>       <span class="o">//</span> <span class="s2">&quot;m/44&#39;/60&#39;/0&#39;/0/0&quot;</span>
<span class="n">const</span> <span class="n">privateKey</span> <span class="o">=</span> <span class="n">u8aToHex</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">secretKey</span><span class="p">);</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Derived</span> <span class="n">Private</span> <span class="n">Key</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Mnemonic</span><span class="p">:</span> <span class="err">$</span><span class="p">{</span><span class="n">privateKey</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>

<span class="err">```</span>
</code></pre></div> <p>===</p> <div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">javascript</span>
<span class="o">//</span> <span class="n">Import</span> <span class="n">the</span> <span class="n">required</span> <span class="n">packages</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">Keyring</span> <span class="kn">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/keyring&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Import</span> <span class="n">Ethereum</span> <span class="n">account</span> <span class="kn">from</span><span class="w"> </span><span class="nn">private</span> <span class="n">key</span>
<span class="n">const</span> <span class="n">privateKeyInput</span> <span class="o">=</span> <span class="s1">&#39;INSERT_PK&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Extract</span> <span class="n">address</span> <span class="kn">from</span><span class="w"> </span><span class="nn">private</span> <span class="n">key</span>
<span class="n">const</span> <span class="n">keyring</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Keyring</span><span class="p">();</span>
<span class="n">const</span> <span class="n">pairFromPk</span> <span class="o">=</span> <span class="n">keyring</span><span class="o">.</span><span class="n">createFromUri</span><span class="p">(</span>
  <span class="n">privateKeyInput</span><span class="p">,</span>
  <span class="n">undefined</span><span class="p">,</span>
  <span class="s1">&#39;ethereum&#39;</span>
<span class="p">);</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">Derived</span> <span class="n">Address</span> <span class="kn">from</span><span class="w"> </span><span class="nn">provided</span> <span class="n">Private</span> <span class="n">Key</span><span class="p">:</span> <span class="err">$</span><span class="p">{</span><span class="n">pairFromPk</span><span class="o">.</span><span class="n">address</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>

<span class="err">```</span>
</code></pre></div> <h2 id="dry-run-api">Dry Run API<a class="headerlink" href="#dry-run-api" title="Permanent link">&para;</a></h2> <p>Dry Run API 是一种简便的方法，用于测试调用的完整性，而不会产生任何交易费用。可以从 Polkadot.js Apps 的<strong>开发者</strong>部分的<a href="https://polkadot.js.org/apps/?rpc=wss://wss.api.moonbeam.network#/runtime" target="_blank">运行时调用</a>选项卡访问 Dry Run API。虽然 Dry Run API 主要用于<a href="/builders/interoperability/xcm/send-execute-xcm/#test-an-xcm-message-with-the-dry-run-api" target="_blank">测试 XCM 消息</a>，但它也可用于测试任何任意调用。</p> <p>此方法将 origin 和调用数据作为参数，并返回执行结果和其他事件数据。</p> <div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">testAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">createType</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;AccountId20&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;0x88bcE0b038eFFa09e58fE6d24fDe4b5Af21aa798&#39;</span>
<span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">callData</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="s1">&#39;0x030088bce0b038effa09e58fe6d24fde4b5af21aa79813000064a7b3b6e00d&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">callDataU8a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hexToU8a</span><span class="p">(</span><span class="nx">callData</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">call</span><span class="p">.</span><span class="nx">dryRunApi</span><span class="p">.</span><span class="nx">dryRunCall</span><span class="p">(</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">system</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Signed</span><span class="o">:</span><span class="w"> </span><span class="nx">testAccount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nx">callDataU8a</span>
<span class="p">);</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">hexToU8a</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Construct API provider</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_ENDPOINT&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Connected to the API. Preparing dry run call...&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Create a test account (you should replace this with an actual account)</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">testAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">createType</span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;AccountId20&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;0x88bcE0b038eFFa09e58fE6d24fDe4b5Af21aa798&#39;</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// The call data (replace with your actual call data)</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">callData</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="s1">&#39;0x030088bce0b038effa09e58fe6d24fde4b5af21aa79813000064a7b3b6e00d&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Your hex-encoded call data</span>

<span class="w">    </span><span class="c1">// Convert hex to Uint8Array</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">callDataU8a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">hexToU8a</span><span class="p">(</span><span class="nx">callData</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Perform the dry run call</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">call</span><span class="p">.</span><span class="nx">dryRunApi</span><span class="p">.</span><span class="nx">dryRunCall</span><span class="p">(</span>
<span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nx">system</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Signed</span><span class="o">:</span><span class="w"> </span><span class="nx">testAccount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// origin</span>
<span class="w">      </span><span class="nx">callDataU8a</span><span class="w"> </span><span class="c1">// call</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;Dry run XCM result:&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">(),</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Disconnect the API</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Disconnected from the API.&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;An error occurred:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="nx">main</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
</code></pre></div> </details> <p>调用 Dry Run API 后，此方法会告诉您调用是否会成功，并返回如果实际在链上提交调用将发出的事件数据。</p> <h3 id="transaction-events">交易事件<a class="headerlink" href="#transaction-events" title="Permanent link">&para;</a></h3> <p>任何交易都会发出事件，至少对于特定交易，始终会发出 <code>system.ExtrinsicSuccess</code> 或 <code>system.ExtrinsicFailed</code> 事件。这些事件提供了交易的整体执行结果，即执行成功或失败。</p> <p>根据发送的交易，可能会发出其他事件，例如，对于余额转移事件，可能包括一个或多个 <code>balance.Transfer</code> 事件。</p> <p>Transfer API 页面包含一个<a href="/learn/core-concepts/transfers-api/#monitor-all-balance-transfers-with-the-substrate-api" target="_blank">示例代码段</a>，用于订阅新的已完成区块头并检索所有 <code>balance.Transfer</code> 事件。</p> <h3 id="batching-transactions">批量交易<a class="headerlink" href="#batching-transactions" title="Permanent link">&para;</a></h3> <p>Polkadot.js API 允许通过 <code>api.tx.utility.batch</code> 方法批量处理交易。批量交易会从单个发送者依次处理。交易费用可以使用 <code>paymentInfo</code> 辅助方法进行估算。</p> <p>例如，假设您已<a href="#creating-an-API-provider-instance">初始化 API</a>、一个 <a href="#creating-a-keyring-instance">密钥环实例</a> 并<a href="#adding-accounts">添加了一个帐户</a>，以下示例进行了几个转账，并且还使用了 <code>api.tx.parachainStaking</code> 模块来安排一个请求，以减少特定 collator 候选者的绑定：</p> <div class="highlight"><pre><span></span><code><span class="c1">// Construct a list of transactions to batch</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">collator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_COLLATORS_ADDRESS&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">txs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">balances</span><span class="p">.</span><span class="nx">transferAllowDeath</span><span class="p">(</span><span class="s1">&#39;INSERT_BOBS_ADDRESS&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">balances</span><span class="p">.</span><span class="nx">transferAllowDeath</span><span class="p">(</span><span class="s1">&#39;INSERT_CHARLEYS_ADDRESS&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">parachainStaking</span><span class="p">.</span><span class="nx">scheduleDelegatorBondLess</span><span class="p">(</span><span class="nx">collator</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="p">];</span>

<span class="c1">// Estimate the fees as RuntimeDispatchInfo, using the signer (either</span>
<span class="c1">// address or locked/unlocked keypair)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">utility</span><span class="p">.</span><span class="nx">batch</span><span class="p">(</span><span class="nx">txs</span><span class="p">).</span><span class="nx">paymentInfo</span><span class="p">(</span><span class="nx">alice</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Estimated fees: </span><span class="si">${</span><span class="nx">info</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="c1">// Construct the batch and send the transactions</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">utility</span><span class="p">.</span><span class="nx">batch</span><span class="p">(</span><span class="nx">txs</span><span class="p">).</span><span class="nx">signAndSend</span><span class="p">(</span><span class="nx">alice</span><span class="p">,</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">status</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">status</span><span class="p">.</span><span class="nx">isInBlock</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`included in </span><span class="si">${</span><span class="nx">status</span><span class="p">.</span><span class="nx">asInBlock</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Disconnect API here!</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">});</span>
</code></pre></div> <details class="code"> <summary>查看完整脚本</summary> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">WsProvider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/api&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">Keyring</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/keyring&#39;</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Construct API provider</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WsProvider</span><span class="p">(</span><span class="s1">&#39;INSERT_WSS_ENDPOINT&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">ApiPromise</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="w"> </span><span class="nx">provider</span><span class="o">:</span><span class="w"> </span><span class="nx">wsProvider</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Create a keyring instance (ECDSA)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">keyring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Keyring</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ethereum&#39;</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Initialize wallet key pairs</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">alice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">keyring</span><span class="p">.</span><span class="nx">addFromUri</span><span class="p">(</span><span class="s1">&#39;INSERT_ALICES_PRIVATE_KEY&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Construct a list of transactions to batch</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">collator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT_COLLATORS_ADDRESS&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">txs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">balances</span><span class="p">.</span><span class="nx">transferAllowDeath</span><span class="p">(</span><span class="s1">&#39;INSERT_BOBS_ADDRESS&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="w">    </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">balances</span><span class="p">.</span><span class="nx">transferAllowDeath</span><span class="p">(</span><span class="s1">&#39;INSERT_CHARLEYS_ADDRESS&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="w">    </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">parachainStaking</span><span class="p">.</span><span class="nx">scheduleDelegatorBondLess</span><span class="p">(</span><span class="nx">collator</span><span class="p">,</span><span class="w"> </span><span class="nb">BigInt</span><span class="p">(</span><span class="mf">12345</span><span class="p">)),</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="c1">// Estimate the fees as RuntimeDispatchInfo, using the signer (either</span>
<span class="w">  </span><span class="c1">// address or locked/unlocked keypair)</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">utility</span><span class="p">.</span><span class="nx">batch</span><span class="p">(</span><span class="nx">txs</span><span class="p">).</span><span class="nx">paymentInfo</span><span class="p">(</span><span class="nx">alice</span><span class="p">);</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Estimated fees: </span><span class="si">${</span><span class="nx">info</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Construct the batch and send the transactions</span>
<span class="w">  </span><span class="nx">api</span><span class="p">.</span><span class="nx">tx</span><span class="p">.</span><span class="nx">utility</span><span class="p">.</span><span class="nx">batch</span><span class="p">(</span><span class="nx">txs</span><span class="p">).</span><span class="nx">signAndSend</span><span class="p">(</span><span class="nx">alice</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">status</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">status</span><span class="p">.</span><span class="nx">isInBlock</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Included in </span><span class="si">${</span><span class="nx">status</span><span class="p">.</span><span class="nx">asInBlock</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// Disconnect the API</span>
<span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="nx">api</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">};</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div> </details> <div class="admonition note"> <p class="admonition-title">Note</p> <p>您可以通过将 <code>console.log(api.tx.parachainStaking);</code> 添加到您的代码中来查看 <code>parachainStaking</code> 模块的所有可用函数。</p> </div> <h2 id="substrate-and-custom-json-rpc-endpoints">Substrate 和自定义 JSON-RPC 端点<a class="headerlink" href="#substrate-and-custom-json-rpc-endpoints" title="Permanent link">&para;</a></h2> <p>RPC 作为特定模块上的方法公开。这意味着一旦可用，您就可以通过 <code>api.rpc.&lt;module&gt;.&lt;method&gt;(...params[])</code> 调用任何 RPC。这也适用于使用 Polkadot.js API 访问以太坊 RPC，格式为 <code>polkadotApi.rpc.eth.*</code>。</p> <p>通过 Polkadot.js API 接口提供的一些方法也可以在 Moonbeam 节点上作为 JSON-RPC 端点使用。本节将提供一些示例；您可以通过调用 <code>api.rpc.rpc.methods()</code> 或下面列出的 <code>rpc_methods</code> 端点来检查公开的 RPC 端点列表。</p> <ul> <li> <p><strong><a href="https://polkadot.js.org/docs/substrate/rpc/#methods-rpcmethods" target="_blank"><code>methods()</code></a></strong></p> <ul> <li><strong>接口</strong> - <code>api.rpc.rpc.methods</code></li> <li><strong>JSON-RPC</strong> - <code>rpc_methods</code></li> <li><strong>返回值</strong> - 节点公开的 RPC 方法列表</li> </ul> <div class="highlight"><pre><span></span><code><span class="w">  </span>curl<span class="w"> </span>--location<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="s1">&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-raw<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span>
<span class="s1">    &quot;id&quot;:1,</span>
<span class="s1">    &quot;method&quot;:&quot;rpc_methods&quot;,</span>
<span class="s1">    &quot;params&quot;: []</span>
<span class="s1">  }&#39;</span>
</code></pre></div> </li> <li> <p><strong><a href="https://polkadot.js.org/docs/substrate/rpc/#getblockhash-blockhash-signedblock" target="_blank"><code>getBlock(hash?: BlockHash)</code></a></strong></p> <ul> <li><strong>接口</strong> - <code>api.rpc.chain.getBlock</code></li> <li><strong>JSON-RPC</strong> - <code>chain_getBlock</code></li> <li><strong>返回值</strong> - 由块哈希参数指定的块的头部和主体</li> </ul> <div class="highlight"><pre><span></span><code><span class="w">  </span>curl<span class="w"> </span>--location<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="s1">&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-raw<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span>
<span class="s1">    &quot;id&quot;:1,</span>
<span class="s1">    &quot;method&quot;:&quot;chain_getBlock&quot;,</span>
<span class="s1">    &quot;params&quot;: [&quot;0x870ad0935a27ed8684048860ffb341d469e091abc2518ea109b4d26b8c88dd96&quot;]</span>
<span class="s1">  }&#39;</span>
</code></pre></div> </li> <li> <p><strong><a href="https://polkadot.js.org/docs/substrate/rpc/#getfinalizedhead-blockhash" target="_blank"><code>getFinalizedHead()</code></a></strong></p> <ul> <li><strong>接口</strong> <code>api.rpc.chain.getFinalizedHead</code></li> <li><strong>JSON-RPC</strong> <code>chain_getFinalizedHead</code></li> <li><strong>返回值</strong> 规范链中最后一个最终确定块的块哈希值</li> </ul> <div class="highlight"><pre><span></span><code><span class="w">  </span>curl<span class="w"> </span>--location<span class="w"> </span>--request<span class="w"> </span>POST<span class="w"> </span><span class="s1">&#39;https://rpc.api.moonbase.moonbeam.network&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--header<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-raw<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span>
<span class="s1">    &quot;id&quot;:1,</span>
<span class="s1">    &quot;method&quot;:&quot;chain_getHeader&quot;,</span>
<span class="s1">    &quot;params&quot;: []</span>
<span class="s1">  }&#39;</span>
</code></pre></div> </li> </ul> <p><a href="/learn/core-concepts/consensus-finality/" target="_blank">共识和最终性页面</a> 包含用于使用公开的自定义和 Substrate RPC 调用来检查给定交易的最终性的示例代码。</p> <h2 id="utilities">Polkadot.js API 实用程序函数<a class="headerlink" href="#utilities" title="Permanent link">&para;</a></h2> <p>Polkadot.js API 还包括许多实用程序库，用于计算常用的加密原语和哈希函数。</p> <p>以下示例通过首先计算其 RLP（<a href="https://ethereum.org/developers/docs/data-structures-and-encoding/rlp/" target="_blank">递归长度前缀</a>）编码，然后使用 keccak256 对结果进行哈希，来计算原始以太坊旧版交易的确定性交易哈希。</p> <div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encode</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util-rlp&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">keccakAsHex</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util-crypto&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">numberToHex</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@polkadot/util&#39;</span><span class="p">;</span>

<span class="c1">// Define the raw signed transaction</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">txData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">nonce</span><span class="o">:</span><span class="w"> </span><span class="nx">numberToHex</span><span class="p">(</span><span class="mf">1</span><span class="p">),</span>
<span class="w">  </span><span class="nx">gasPrice</span><span class="o">:</span><span class="w"> </span><span class="nx">numberToHex</span><span class="p">(</span><span class="mf">21000000000</span><span class="p">),</span>
<span class="w">  </span><span class="nx">gasLimit</span><span class="o">:</span><span class="w"> </span><span class="nx">numberToHex</span><span class="p">(</span><span class="mf">21000</span><span class="p">),</span>
<span class="w">  </span><span class="nx">to</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0xc390cC49a32736a58733Cf46bE42f734dD4f53cb&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="nx">numberToHex</span><span class="p">(</span><span class="mf">1000000000000000000</span><span class="p">),</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">v</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0507&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">r</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0x5ab2f48bdc6752191440ce62088b9e42f20215ee4305403579aa2e1eba615ce8&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">s</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0x3b172e53874422756d48b449438407e5478c985680d4aaa39d762fe0d1a11683&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Extract the values to an array</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">txDataArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">txData</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">txData</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
<span class="p">});</span>

<span class="c1">// Calculate the RLP encoded transaction</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">encoded_tx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">encode</span><span class="p">(</span><span class="nx">txDataArray</span><span class="p">);</span>

<span class="c1">// Hash the encoded transaction using keccak256</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">keccakAsHex</span><span class="p">(</span><span class="nx">encoded_tx</span><span class="p">));</span>
</code></pre></div> <p>您可以查看相应的 <a href="https://www.npmjs.com/package/@polkadot/util-crypto/v/0.32.19" target="_blank">NPM 存储库页面</a>，以获取 <code>@polkadot/util-crypto</code> 库中可用方法及其描述的列表。</p> <div class="page-disclaimer"> The information presented herein has been provided by third parties and is made available solely for general information purposes. Moonbeam does not endorse any project listed and described on the Moonbeam Doc Website (https://docs.moonbeam.network/). Moonbeam Foundation does not warrant the accuracy, completeness or usefulness of this information. Any reliance you place on such information is strictly at your own risk. Moonbeam Foundation disclaims all liability and responsibility arising from any reliance placed on this information by you or by anyone who may be informed of any of its contents. All statements and/or opinions expressed in these materials are solely the responsibility of the person or entity providing those materials and do not necessarily represent the opinion of Moonbeam Foundation. The information should not be construed as professional or financial advice of any kind. Advice from a suitably qualified professional should always be sought in relation to any particular matter or circumstance. The information herein may link to or integrate with other websites operated or content provided by third parties, and such other websites may link to this website. Moonbeam Foundation has no control over any such other websites or their content and will have no liability arising out of or related to such websites or their content. The existence of any such link does not constitute an endorsement of such websites, the content of the websites, or the operators of the websites. These links are being provided to you only as a convenience and you release and hold Moonbeam Foundation harmless from any and all liability arising from your use of this information or the information provided by any third-party website or service. </div> <div class="md-source-file"> <small> <span class="source-file-label">更新时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月20日 16:04:43">2026年1月20日</span> <br> <span class="source-file-seperator">|</span> <span class="source-file-label">创建时间:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2026年1月15日 02:25:16">2026年1月15日</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="标题"> <a href="../" class="md-footer__link md-footer__link--prev" rel="prev"> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0c16.967,0,32.327,6.877,43.446,17.996c11.119,11.119,17.996,26.479,17.996,43.445 c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995c-16.966,0-32.326-6.877-43.445-17.995 C6.877,93.768,0,78.407,0,61.441c0-16.967,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0L61.441,0z M71.377,42.166 c1.736-1.784,1.695-4.637-0.088-6.372s-4.637-1.696-6.373,0.088L43.078,58.402l3.23,3.142l-3.244-3.146 c-1.737,1.792-1.693,4.652,0.099,6.39c0.052,0.05,0.104,0.099,0.158,0.146l21.595,22.082c1.736,1.784,4.59,1.823,6.373,0.088 c1.783-1.734,1.824-4.588,0.088-6.372L52.598,61.531L71.377,42.166L71.377,42.166z M98.496,24.386 C89.014,14.903,75.912,9.038,61.441,9.038s-27.572,5.865-37.055,15.348C14.903,33.869,9.038,46.97,9.038,61.441 c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349s27.573-5.865,37.055-15.349 c9.484-9.482,15.35-22.584,15.35-37.055C113.846,46.97,107.98,33.869,98.496,24.386L98.496,24.386z"/></g></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> 上一个 </span> <span class="md-footer__page-name"> Substrate 库 </span> </div> </a> <a href="../py-substrate-interface/" class="md-footer__link md-footer__link--next" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> 下一个 </span> <span class="md-footer__page-name"> Py Substrate Interface </span> </div> <div class="md-footer__button md-icon"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="122.883px" height="122.882px" viewbox="0 0 122.883 122.882" enable-background="new 0 0 122.883 122.882" xml:space="preserve"><g><path d="M61.441,0C44.475,0,29.115,6.877,17.996,17.996C6.877,29.115,0,44.475,0,61.441c0,16.966,6.877,32.326,17.996,43.445 c11.119,11.118,26.479,17.995,43.445,17.995c16.967,0,32.327-6.877,43.446-17.995c11.119-11.119,17.996-26.479,17.996-43.445 c0-16.967-6.877-32.327-17.996-43.445C93.768,6.877,78.408,0,61.441,0L61.441,0z M51.505,42.166 c-1.735-1.784-1.696-4.637,0.088-6.372c1.784-1.735,4.637-1.696,6.373,0.088l21.839,22.521l-3.23,3.142l3.244-3.146 c1.738,1.792,1.693,4.652-0.098,6.39c-0.053,0.05-0.105,0.099-0.158,0.146L57.966,87.017c-1.735,1.784-4.588,1.823-6.373,0.088 c-1.784-1.734-1.823-4.588-0.088-6.372l18.78-19.201L51.505,42.166L51.505,42.166z M24.386,24.386 C33.869,14.903,46.97,9.038,61.441,9.038c14.471,0,27.573,5.865,37.055,15.348c9.484,9.483,15.35,22.584,15.35,37.056 c0,14.471-5.865,27.572-15.35,37.055c-9.482,9.483-22.584,15.349-37.055,15.349c-14.471,0-27.572-5.865-37.055-15.349 C14.903,89.014,9.038,75.912,9.038,61.441C9.038,46.97,14.903,33.869,24.386,24.386L24.386,24.386z"/></g></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="column llms-wrapper"> <p class="llms-title"> AI 兼容文档 </p> <div class="llms-options"> <a class="llms-link" href="/llms.txt">法学硕士文本</a> <a class="llms-link" href="/llms-full.txt">法学硕士全文</a> <a class="llms-link" href="../../../../../ai-resources/ai-resources/">按主题分类的法学硕士</a> </div> </div> <div class="column social"> <div class="md-social"> <a href="https://discord.com/invite/PfpUATX" target="_blank" rel="noopener" title="Discord" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href="https://t.me/Moonbeam_Official" target="_blank" rel="noopener" title="Telegram" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg> </a> <a href="https://x.com/MoonbeamNetwork" target="_blank" rel="noopener" title="Twitter" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href="https://www.youtube.com/c/MoonbeamNetwork" target="_blank" rel="noopener" title="YouTube" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href="https://github.com/moonbeam-foundation/moonbeam" target="_blank" rel="noopener" title="GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> <div class="md-footer-copyright"> <div class="copyright-wrapper"> <div class="md-footer-copyright__highlight"> © 2026 Moonbeam Foundation. All Rights Reserved. </div> <div class="papermoon"> <span> 由 <a href="https://papermoon.io/" target="_blank">PaperMoon</a> with 🩵 制作 </span> </div> <div class="policy-links"> <a href="https://moonbeam.network/terms-of-use" target="_blank">使用条款</a> <a href="https://moonbeam.network/privacy-policy" target="_blank">隐私政策</a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-consent" data-md-component="consent" id="__consent" hidden> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <form class="md-consent__form md-grid md-typeset"> 左侧区域徽标 <div class="cookie-logo"> <img src="../../../../../assets/images/Moonbeam_Icon_White.webp" alt="用于 Cookie 同意的 Moonbeam 徽标"> </div> 中心区域标题和描述 <div class="cookie-content"> <h4>This website uses cookies</h4> <p>We use essential cookies to make the website work. We would also like to use cookies to understand how you use the website and how you interact with certain features. We may share this information with our analytics partners. For further details, please see our <a href="https://moonbeam.network/cookie-policy" target="_blank" rel="noopener">cookie policy</a>. </p> 管理设置切换 <input class="md-toggle" type="checkbox" id="__settings"> 同意设置 <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input type="checkbox" name="analytics" checked> <span class="task-list-indicator"></span> Google Analytics </label> </li> </ul> </div> </div> 右侧区域按钮 <div class="cookie-buttons md-consent__controls"> <button class="md-button md-button--primary">同意</button> <label class="md-button" for="__settings">管理设定</label> <button type="reset" class="md-button md-button--secondary">拒绝</button> </div> </form> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"base":"../../../../","features":["navigation.tabs","navigation.tabs.sticky","navigation.sections","navigation.indexes","navigation.prune","content.code.copy","announce.dismiss","content.action.edit"],"search":"../../../../../assets/javascripts/workers/search.d50fe291.min.js","tags":null,"translations":{"clipboard.copied":"\u5df2\u590d\u5236","clipboard.copy":"\u590d\u5236","search.result.more.one":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.more.other":"\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.none":"\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.one":"\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.other":"# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c","search.result.placeholder":"\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22","search.result.term.missing":"\u7f3a\u5c11","select.version":"\u9009\u62e9\u5f53\u524d\u7248\u672c"},"version":null}</script> <script src="../../../../../assets/javascripts/bundle.56ea9cef.min.js"></script> <script src="../../../../../js/connectMetaMask.js"></script> <script src="../../../../../js/errorModal.js"></script> <script src="../../../../../js/networkModal.js"></script> <script src="../../../../../js/lang-toggle.js"></script> <script src="../../../../../js/fixCreatedDate.js"></script> <script src="../../../../../js/externalLinkModal.js"></script> <script src="../../../../../js/cookbookInit.js"></script> <script src="../../../../../js/clipboardCopyllms.js"></script> <script src="../../../../../js/cookbookEventHandler.js"></script> <script>
    document.addEventListener('DOMContentLoaded', () => {
      const copyTxtFile = async (url) => {
        try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            const text = await response.text();
            await navigator.clipboard.writeText(text);

            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.add('md-dialog--active');

              const copiedToClipboardMessage =
                copiedToClipboard.querySelector('.md-dialog__inner');
              if (
                copiedToClipboardMessage &&
                copiedToClipboardMessage.textContent !==
                  "已复制"
              ) {
                copiedToClipboardMessage.textContent =
                  "已复制";
              }
              // Set a timer to remove the after 2 seconds (2000ms)
              setTimeout(() => {
                copiedToClipboard.classList.remove('md-dialog--active');
              }, 2000);
            }
          } catch (err) {
            console.error('Failed to copy:', err);
            const copiedToClipboard = document.querySelector('.md-dialog');
            if (copiedToClipboard) {
              copiedToClipboard.classList.remove('md-dialog--active');
            }
          }
      }

      document.querySelectorAll('.llms').forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault(); // Prevent default link behavior

          const action = button.getAttribute('data-action');
          const fileName = button.getAttribute('data-value');
          if (!fileName) return; // Exit if no file name is found

          // Add 'llms-files/' prefix except for root-level llms.txt and llms-full.txt
          const filePath = (fileName === "llms.txt" || fileName === "llms-full.txt") 
            ? fileName 
            : `llms-files/${fileName}`;
          const url = `https://docs.moonbeam.network/${filePath}`;

          if (action === 'copy') {
            copyTxtFile(url);
          }
        })
      })
    });
  </script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>